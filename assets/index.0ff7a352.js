var Ka=Object.defineProperty,Wa=Object.defineProperties;var Ha=Object.getOwnPropertyDescriptors;var Is=Object.getOwnPropertySymbols;var Ga=Object.prototype.hasOwnProperty,Ja=Object.prototype.propertyIsEnumerable;var Ds=(t,e,r)=>e in t?Ka(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Ne=(t,e)=>{for(var r in e||(e={}))Ga.call(e,r)&&Ds(t,r,e[r]);if(Is)for(var r of Is(e))Ja.call(e,r)&&Ds(t,r,e[r]);return t},Rt=(t,e)=>Wa(t,Ha(e));const Xa=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerpolicy&&(o.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?o.credentials="include":s.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}};Xa();function B(){}const Uo=t=>t;function Lo(t,e){for(const r in e)t[r]=e[r];return t}function Ya(t){return t&&typeof t=="object"&&typeof t.then=="function"}function qo(t){return t()}function Ms(){return Object.create(null)}function rr(t){t.forEach(qo)}function ur(t){return typeof t=="function"}function Ve(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let Kr;function Bo(t,e){return Kr||(Kr=document.createElement("a")),Kr.href=e,t===Kr.href}function Za(t){return Object.keys(t).length===0}function Qa(t,e,r,n){if(t){const s=Ko(t,e,r,n);return t[0](s)}}function Ko(t,e,r,n){return t[1]&&n?Lo(r.ctx.slice(),t[1](n(e))):r.ctx}function xa(t,e,r,n){if(t[2]&&n){const s=t[2](n(r));if(e.dirty===void 0)return s;if(typeof s=="object"){const o=[],a=Math.max(e.dirty.length,s.length);for(let i=0;i<a;i+=1)o[i]=e.dirty[i]|s[i];return o}return e.dirty|s}return e.dirty}function ei(t,e,r,n,s,o){if(s){const a=Ko(e,r,n,o);t.p(a,s)}}function ti(t){if(t.ctx.length>32){const e=[],r=t.ctx.length/32;for(let n=0;n<r;n++)e[n]=-1;return e}return-1}function gt(t){return t==null?"":t}const Wo=typeof window!="undefined";let ri=Wo?()=>window.performance.now():()=>Date.now(),Vn=Wo?t=>requestAnimationFrame(t):B;const dr=new Set;function Ho(t){dr.forEach(e=>{e.c(t)||(dr.delete(e),e.f())}),dr.size!==0&&Vn(Ho)}function ni(t){let e;return dr.size===0&&Vn(Ho),{promise:new Promise(r=>{dr.add(e={c:t,f:r})}),abort(){dr.delete(e)}}}function C(t,e){t.appendChild(e)}function Go(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function si(t){const e=I("style");return oi(Go(t),e),e.sheet}function oi(t,e){C(t.head||t,e)}function V(t,e,r){t.insertBefore(e,r||null)}function z(t){t.parentNode.removeChild(t)}function Ct(t,e){for(let r=0;r<t.length;r+=1)t[r]&&t[r].d(e)}function I(t){return document.createElement(t)}function ai(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function W(t){return document.createTextNode(t)}function X(){return W(" ")}function Qe(){return W("")}function at(t,e,r,n){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r,n)}function ii(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function P(t,e,r){r==null?t.removeAttribute(e):t.getAttribute(e)!==r&&t.setAttribute(e,r)}function zs(t,e){for(const r in e)P(t,r,e[r])}function li(t){return Array.from(t.childNodes)}function We(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function Be(t,e,r,n){r===null?t.style.removeProperty(e):t.style.setProperty(e,r,n?"important":"")}function Et(t,e,r){t.classList[r?"add":"remove"](e)}function Jo(t,e,{bubbles:r=!1,cancelable:n=!1}={}){const s=document.createEvent("CustomEvent");return s.initCustomEvent(t,r,n,e),s}const nn=new Map;let sn=0;function ci(t){let e=5381,r=t.length;for(;r--;)e=(e<<5)-e^t.charCodeAt(r);return e>>>0}function ui(t,e){const r={stylesheet:si(e),rules:{}};return nn.set(t,r),r}function Vs(t,e,r,n,s,o,a,i=0){const l=16.666/n;let c=`{
`;for(let v=0;v<=1;v+=l){const _=e+(r-e)*o(v);c+=v*100+`%{${a(_,1-_)}}
`}const u=c+`100% {${a(r,1-r)}}
}`,f=`__svelte_${ci(u)}_${i}`,m=Go(t),{stylesheet:y,rules:p}=nn.get(m)||ui(m,t);p[f]||(p[f]=!0,y.insertRule(`@keyframes ${f} ${u}`,y.cssRules.length));const g=t.style.animation||"";return t.style.animation=`${g?`${g}, `:""}${f} ${n}ms linear ${s}ms 1 both`,sn+=1,f}function fi(t,e){const r=(t.style.animation||"").split(", "),n=r.filter(e?o=>o.indexOf(e)<0:o=>o.indexOf("__svelte")===-1),s=r.length-n.length;s&&(t.style.animation=n.join(", "),sn-=s,sn||di())}function di(){Vn(()=>{sn||(nn.forEach(t=>{const{stylesheet:e}=t;let r=e.cssRules.length;for(;r--;)e.deleteRule(r);t.rules={}}),nn.clear())})}let Rr;function jt(t){Rr=t}function gr(){if(!Rr)throw new Error("Function called outside component initialization");return Rr}function hi(t){gr().$$.on_mount.push(t)}function mi(t){gr().$$.on_destroy.push(t)}function Xo(){const t=gr();return(e,r,{cancelable:n=!1}={})=>{const s=t.$$.callbacks[e];if(s){const o=Jo(e,r,{cancelable:n});return s.slice().forEach(a=>{a.call(t,o)}),!o.defaultPrevented}return!0}}function pi(t,e){return gr().$$.context.set(t,e),e}function _i(t){return gr().$$.context.get(t)}function gi(t,e){const r=t.$$.callbacks[e.type];r&&r.slice().forEach(n=>n.call(this,e))}const Sr=[],hr=[],Zr=[],Fs=[],vi=Promise.resolve();let Tn=!1;function yi(){Tn||(Tn=!0,vi.then(Fn))}function Qt(t){Zr.push(t)}const $n=new Set;let Wr=0;function Fn(){const t=Rr;do{for(;Wr<Sr.length;){const e=Sr[Wr];Wr++,jt(e),bi(e.$$)}for(jt(null),Sr.length=0,Wr=0;hr.length;)hr.pop()();for(let e=0;e<Zr.length;e+=1){const r=Zr[e];$n.has(r)||($n.add(r),r())}Zr.length=0}while(Sr.length);for(;Fs.length;)Fs.pop()();Tn=!1,$n.clear(),jt(t)}function bi(t){if(t.fragment!==null){t.update(),rr(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Qt)}}let wr;function $i(){return wr||(wr=Promise.resolve(),wr.then(()=>{wr=null})),wr}function wn(t,e,r){t.dispatchEvent(Jo(`${e?"intro":"outro"}${r}`))}const Qr=new Set;let It;function Oe(){It={r:0,c:[],p:It}}function Te(){It.r||rr(It.c),It=It.p}function q(t,e){t&&t.i&&(Qr.delete(t),t.i(e))}function G(t,e,r,n){if(t&&t.o){if(Qr.has(t))return;Qr.add(t),It.c.push(()=>{Qr.delete(t),n&&(r&&t.d(1),n())}),t.o(e)}}const wi={duration:0};function fr(t,e,r,n){let s=e(t,r),o=n?0:1,a=null,i=null,l=null;function c(){l&&fi(t,l)}function u(m,y){const p=m.b-o;return y*=Math.abs(p),{a:o,b:m.b,d:p,duration:y,start:m.start,end:m.start+y,group:m.group}}function f(m){const{delay:y=0,duration:p=300,easing:g=Uo,tick:v=B,css:_}=s||wi,b={start:ri()+y,b:m};m||(b.group=It,It.r+=1),a||i?i=b:(_&&(c(),l=Vs(t,o,m,p,y,g,_)),m&&v(0,1),a=u(b,p),Qt(()=>wn(t,m,"start")),ni(S=>{if(i&&S>i.start&&(a=u(i,p),i=null,wn(t,a.b,"start"),_&&(c(),l=Vs(t,o,a.b,a.duration,0,g,s.css))),a){if(S>=a.end)v(o=a.b,1-o),wn(t,a.b,"end"),i||(a.b?c():--a.group.r||rr(a.group.c)),a=null;else if(S>=a.start){const O=S-a.start;o=a.a+a.d*g(O/a.duration),v(o,1-o)}}return!!(a||i)}))}return{run(m){ur(s)?$i().then(()=>{s=s(),f(m)}):f(m)},end(){c(),a=i=null}}}function it(t,e){const r=e.token={};function n(s,o,a,i){if(e.token!==r)return;e.resolved=i;let l=e.ctx;a!==void 0&&(l=l.slice(),l[a]=i);const c=s&&(e.current=s)(l);let u=!1;e.block&&(e.blocks?e.blocks.forEach((f,m)=>{m!==o&&f&&(Oe(),G(f,1,1,()=>{e.blocks[m]===f&&(e.blocks[m]=null)}),Te())}):e.block.d(1),c.c(),q(c,1),c.m(e.mount(),e.anchor),u=!0),e.block=c,e.blocks&&(e.blocks[o]=c),u&&Fn()}if(Ya(t)){const s=gr();if(t.then(o=>{jt(s),n(e.then,1,e.value,o),jt(null)},o=>{if(jt(s),n(e.catch,2,e.error,o),jt(null),!e.hasCatch)throw o}),e.current!==e.pending)return n(e.pending,0),!0}else{if(e.current!==e.then)return n(e.then,1,e.value,t),!0;e.resolved=t}}function bt(t,e,r){const n=e.slice(),{resolved:s}=t;t.current===t.then&&(n[t.value]=s),t.current===t.catch&&(n[t.error]=s),t.block.p(n,r)}const Yo=typeof window!="undefined"?window:typeof globalThis!="undefined"?globalThis:global;function ki(t,e){const r={},n={},s={$$scope:1};let o=t.length;for(;o--;){const a=t[o],i=e[o];if(i){for(const l in a)l in i||(n[l]=1);for(const l in i)s[l]||(r[l]=i[l],s[l]=1);t[o]=i}else for(const l in a)s[l]=1}for(const a in n)a in r||(r[a]=void 0);return r}function Ee(t){t&&t.c()}function ye(t,e,r,n){const{fragment:s,on_mount:o,on_destroy:a,after_update:i}=t.$$;s&&s.m(e,r),n||Qt(()=>{const l=o.map(qo).filter(ur);a?a.push(...l):rr(l),t.$$.on_mount=[]}),i.forEach(Qt)}function be(t,e){const r=t.$$;r.fragment!==null&&(rr(r.on_destroy),r.fragment&&r.fragment.d(e),r.on_destroy=r.fragment=null,r.ctx=[])}function Ei(t,e){t.$$.dirty[0]===-1&&(Sr.push(t),yi(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Fe(t,e,r,n,s,o,a,i=[-1]){const l=Rr;jt(t);const c=t.$$={fragment:null,ctx:null,props:o,update:B,not_equal:s,bound:Ms(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(l?l.$$.context:[])),callbacks:Ms(),dirty:i,skip_bound:!1,root:e.target||l.$$.root};a&&a(c.root);let u=!1;if(c.ctx=r?r(t,e.props||{},(f,m,...y)=>{const p=y.length?y[0]:m;return c.ctx&&s(c.ctx[f],c.ctx[f]=p)&&(!c.skip_bound&&c.bound[f]&&c.bound[f](p),u&&Ei(t,f)),m}):[],c.update(),u=!0,rr(c.before_update),c.fragment=n?n(c.ctx):!1,e.target){if(e.hydrate){const f=li(e.target);c.fragment&&c.fragment.l(f),f.forEach(z)}else c.fragment&&c.fragment.c();e.intro&&q(t.$$.fragment),ye(t,e.target,e.anchor,e.customElement),Fn()}jt(l)}class Ue{$destroy(){be(this,1),this.$destroy=B}$on(e,r){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(r),()=>{const s=n.indexOf(r);s!==-1&&n.splice(s,1)}}$set(e){this.$$set&&!Za(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function Si(t){let e,r,n,s,o,a,i;return{c(){e=I("h1"),e.textContent="About",r=X(),n=I("p"),n.innerHTML=`This app is for validating
  <a target="_blank" href="https://ngff.openmicroscopy.org/latest/">OME-NGFF</a>
  filesets against JSON schemas.`,s=X(),o=I("p"),o.innerHTML=`You can find some
  <a target="_blank" href="https://idr.github.io/ome-ngff-samples/">sample OME-NGFF filesets</a> for IDR data.`,a=X(),i=I("p"),i.innerHTML=`This app is on GitHub at
  <a target="_blank" href="https://github.com/ome/ome-ngff-validator">ome/ome-ngff-validator</a>.`,P(e,"class","svelte-1piqss3"),P(n,"class","svelte-1piqss3"),P(o,"class","svelte-1piqss3"),P(i,"class","svelte-1piqss3")},m(l,c){V(l,e,c),V(l,r,c),V(l,n,c),V(l,s,c),V(l,o,c),V(l,a,c),V(l,i,c)},p:B,i:B,o:B,d(l){l&&z(e),l&&z(r),l&&z(n),l&&z(s),l&&z(o),l&&z(a),l&&z(i)}}}class Pi extends Ue{constructor(e){super(),Fe(this,e,null,Si,Ve,{})}}function Ci(t){let e,r,n,s,o,a,i;return{c(){e=I("h1"),e.textContent="OME-NGFF Validator",r=X(),n=I("ul"),s=I("li"),o=I("button"),o.textContent="About",P(e,"class","svelte-b3yacr"),P(o,"class","svelte-b3yacr"),P(s,"class","svelte-b3yacr"),P(n,"class","svelte-b3yacr")},m(l,c){V(l,e,c),V(l,r,c),V(l,n,c),C(n,s),C(s,o),a||(i=at(o,"click",t[0]),a=!0)},p:B,i:B,o:B,d(l){l&&z(e),l&&z(r),l&&z(n),a=!1,i()}}}function Ni(t){const{open:e}=_i("simple-modal");return[()=>e(Pi)]}class Oi extends Ue{constructor(e){super(),Fe(this,e,Ni,Ci,Ve,{})}}var Ti=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function Ai(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var An={exports:{}},Zo={},yt={},pr={},Dr={},le={},jr={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.regexpCode=t.getEsmExportName=t.getProperty=t.safeStringify=t.stringify=t.strConcat=t.addCodeArg=t.str=t._=t.nil=t._Code=t.Name=t.IDENTIFIER=t._CodeOrName=void 0;class e{}t._CodeOrName=e,t.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends e{constructor(b){if(super(),!t.IDENTIFIER.test(b))throw new Error("CodeGen: name must be a valid identifier");this.str=b}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}t.Name=r;class n extends e{constructor(b){super(),this._items=typeof b=="string"?[b]:b}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const b=this._items[0];return b===""||b==='""'}get str(){var b;return(b=this._str)!==null&&b!==void 0?b:this._str=this._items.reduce((S,O)=>`${S}${O}`,"")}get names(){var b;return(b=this._names)!==null&&b!==void 0?b:this._names=this._items.reduce((S,O)=>(O instanceof r&&(S[O.str]=(S[O.str]||0)+1),S),{})}}t._Code=n,t.nil=new n("");function s(_,...b){const S=[_[0]];let O=0;for(;O<b.length;)i(S,b[O]),S.push(_[++O]);return new n(S)}t._=s;const o=new n("+");function a(_,...b){const S=[y(_[0])];let O=0;for(;O<b.length;)S.push(o),i(S,b[O]),S.push(o,y(_[++O]));return l(S),new n(S)}t.str=a;function i(_,b){b instanceof n?_.push(...b._items):b instanceof r?_.push(b):_.push(f(b))}t.addCodeArg=i;function l(_){let b=1;for(;b<_.length-1;){if(_[b]===o){const S=c(_[b-1],_[b+1]);if(S!==void 0){_.splice(b-1,3,S);continue}_[b++]="+"}b++}}function c(_,b){if(b==='""')return _;if(_==='""')return b;if(typeof _=="string")return b instanceof r||_[_.length-1]!=='"'?void 0:typeof b!="string"?`${_.slice(0,-1)}${b}"`:b[0]==='"'?_.slice(0,-1)+b.slice(1):void 0;if(typeof b=="string"&&b[0]==='"'&&!(_ instanceof r))return`"${_}${b.slice(1)}`}function u(_,b){return b.emptyStr()?_:_.emptyStr()?b:a`${_}${b}`}t.strConcat=u;function f(_){return typeof _=="number"||typeof _=="boolean"||_===null?_:y(Array.isArray(_)?_.join(","):_)}function m(_){return new n(y(_))}t.stringify=m;function y(_){return JSON.stringify(_).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}t.safeStringify=y;function p(_){return typeof _=="string"&&t.IDENTIFIER.test(_)?new n(`.${_}`):s`[${_}]`}t.getProperty=p;function g(_){if(typeof _=="string"&&t.IDENTIFIER.test(_))return new n(`${_}`);throw new Error(`CodeGen: invalid export name: ${_}, use explicit $id name mapping`)}t.getEsmExportName=g;function v(_){return new n(_.toString())}t.regexpCode=v})(jr);var Rn={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ValueScope=t.ValueScopeName=t.Scope=t.varKinds=t.UsedValueState=void 0;const e=jr;class r extends Error{constructor(c){super(`CodeGen: "code" for ${c} not defined`),this.value=c.value}}var n;(function(l){l[l.Started=0]="Started",l[l.Completed=1]="Completed"})(n=t.UsedValueState||(t.UsedValueState={})),t.varKinds={const:new e.Name("const"),let:new e.Name("let"),var:new e.Name("var")};class s{constructor({prefixes:c,parent:u}={}){this._names={},this._prefixes=c,this._parent=u}toName(c){return c instanceof e.Name?c:this.name(c)}name(c){return new e.Name(this._newName(c))}_newName(c){const u=this._names[c]||this._nameGroup(c);return`${c}${u.index++}`}_nameGroup(c){var u,f;if(((f=(u=this._parent)===null||u===void 0?void 0:u._prefixes)===null||f===void 0?void 0:f.has(c))||this._prefixes&&!this._prefixes.has(c))throw new Error(`CodeGen: prefix "${c}" is not allowed in this scope`);return this._names[c]={prefix:c,index:0}}}t.Scope=s;class o extends e.Name{constructor(c,u){super(u),this.prefix=c}setValue(c,{property:u,itemIndex:f}){this.value=c,this.scopePath=(0,e._)`.${new e.Name(u)}[${f}]`}}t.ValueScopeName=o;const a=(0,e._)`\n`;class i extends s{constructor(c){super(c),this._values={},this._scope=c.scope,this.opts=Rt(Ne({},c),{_n:c.lines?a:e.nil})}get(){return this._scope}name(c){return new o(c,this._newName(c))}value(c,u){var f;if(u.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const m=this.toName(c),{prefix:y}=m,p=(f=u.key)!==null&&f!==void 0?f:u.ref;let g=this._values[y];if(g){const b=g.get(p);if(b)return b}else g=this._values[y]=new Map;g.set(p,m);const v=this._scope[y]||(this._scope[y]=[]),_=v.length;return v[_]=u.ref,m.setValue(u,{property:y,itemIndex:_}),m}getValue(c,u){const f=this._values[c];if(!!f)return f.get(u)}scopeRefs(c,u=this._values){return this._reduceValues(u,f=>{if(f.scopePath===void 0)throw new Error(`CodeGen: name "${f}" has no value`);return(0,e._)`${c}${f.scopePath}`})}scopeCode(c=this._values,u,f){return this._reduceValues(c,m=>{if(m.value===void 0)throw new Error(`CodeGen: name "${m}" has no value`);return m.value.code},u,f)}_reduceValues(c,u,f={},m){let y=e.nil;for(const p in c){const g=c[p];if(!g)continue;const v=f[p]=f[p]||new Map;g.forEach(_=>{if(v.has(_))return;v.set(_,n.Started);let b=u(_);if(b){const S=this.opts.es5?t.varKinds.var:t.varKinds.const;y=(0,e._)`${y}${S} ${_} = ${b};${this.opts._n}`}else if(b=m==null?void 0:m(_))y=(0,e._)`${y}${b}${this.opts._n}`;else throw new r(_);v.set(_,n.Completed)})}return y}}t.ValueScope=i})(Rn);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.or=t.and=t.not=t.CodeGen=t.operators=t.varKinds=t.ValueScopeName=t.ValueScope=t.Scope=t.Name=t.regexpCode=t.stringify=t.getProperty=t.nil=t.strConcat=t.str=t._=void 0;const e=jr,r=Rn;var n=jr;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(t,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(t,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(t,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return n.Name}});var s=Rn;Object.defineProperty(t,"Scope",{enumerable:!0,get:function(){return s.Scope}}),Object.defineProperty(t,"ValueScope",{enumerable:!0,get:function(){return s.ValueScope}}),Object.defineProperty(t,"ValueScopeName",{enumerable:!0,get:function(){return s.ValueScopeName}}),Object.defineProperty(t,"varKinds",{enumerable:!0,get:function(){return s.varKinds}}),t.operators={GT:new e._Code(">"),GTE:new e._Code(">="),LT:new e._Code("<"),LTE:new e._Code("<="),EQ:new e._Code("==="),NEQ:new e._Code("!=="),NOT:new e._Code("!"),OR:new e._Code("||"),AND:new e._Code("&&"),ADD:new e._Code("+")};class o{optimizeNodes(){return this}optimizeNames(d,w){return this}}class a extends o{constructor(d,w,M){super(),this.varKind=d,this.name=w,this.rhs=M}render({es5:d,_n:w}){const M=d?r.varKinds.var:this.varKind,H=this.rhs===void 0?"":` = ${this.rhs}`;return`${M} ${this.name}${H};`+w}optimizeNames(d,w){if(!!d[this.name.str])return this.rhs&&(this.rhs=re(this.rhs,d,w)),this}get names(){return this.rhs instanceof e._CodeOrName?this.rhs.names:{}}}class i extends o{constructor(d,w,M){super(),this.lhs=d,this.rhs=w,this.sideEffects=M}render({_n:d}){return`${this.lhs} = ${this.rhs};`+d}optimizeNames(d,w){if(!(this.lhs instanceof e.Name&&!d[this.lhs.str]&&!this.sideEffects))return this.rhs=re(this.rhs,d,w),this}get names(){const d=this.lhs instanceof e.Name?{}:Ne({},this.lhs.names);return _e(d,this.rhs)}}class l extends i{constructor(d,w,M,H){super(d,M,H),this.op=w}render({_n:d}){return`${this.lhs} ${this.op}= ${this.rhs};`+d}}class c extends o{constructor(d){super(),this.label=d,this.names={}}render({_n:d}){return`${this.label}:`+d}}class u extends o{constructor(d){super(),this.label=d,this.names={}}render({_n:d}){return`break${this.label?` ${this.label}`:""};`+d}}class f extends o{constructor(d){super(),this.error=d}render({_n:d}){return`throw ${this.error};`+d}get names(){return this.error.names}}class m extends o{constructor(d){super(),this.code=d}render({_n:d}){return`${this.code};`+d}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(d,w){return this.code=re(this.code,d,w),this}get names(){return this.code instanceof e._CodeOrName?this.code.names:{}}}class y extends o{constructor(d=[]){super(),this.nodes=d}render(d){return this.nodes.reduce((w,M)=>w+M.render(d),"")}optimizeNodes(){const{nodes:d}=this;let w=d.length;for(;w--;){const M=d[w].optimizeNodes();Array.isArray(M)?d.splice(w,1,...M):M?d[w]=M:d.splice(w,1)}return d.length>0?this:void 0}optimizeNames(d,w){const{nodes:M}=this;let H=M.length;for(;H--;){const J=M[H];J.optimizeNames(d,w)||(me(d,J.names),M.splice(H,1))}return M.length>0?this:void 0}get names(){return this.nodes.reduce((d,w)=>te(d,w.names),{})}}class p extends y{render(d){return"{"+d._n+super.render(d)+"}"+d._n}}class g extends y{}class v extends p{}v.kind="else";class _ extends p{constructor(d,w){super(w),this.condition=d}render(d){let w=`if(${this.condition})`+super.render(d);return this.else&&(w+="else "+this.else.render(d)),w}optimizeNodes(){super.optimizeNodes();const d=this.condition;if(d===!0)return this.nodes;let w=this.else;if(w){const M=w.optimizeNodes();w=this.else=Array.isArray(M)?new v(M):M}if(w)return d===!1?w instanceof _?w:w.nodes:this.nodes.length?this:new _(Le(d),w instanceof _?[w]:w.nodes);if(!(d===!1||!this.nodes.length))return this}optimizeNames(d,w){var M;if(this.else=(M=this.else)===null||M===void 0?void 0:M.optimizeNames(d,w),!!(super.optimizeNames(d,w)||this.else))return this.condition=re(this.condition,d,w),this}get names(){const d=super.names;return _e(d,this.condition),this.else&&te(d,this.else.names),d}}_.kind="if";class b extends p{}b.kind="for";class S extends b{constructor(d){super(),this.iteration=d}render(d){return`for(${this.iteration})`+super.render(d)}optimizeNames(d,w){if(!!super.optimizeNames(d,w))return this.iteration=re(this.iteration,d,w),this}get names(){return te(super.names,this.iteration.names)}}class O extends b{constructor(d,w,M,H){super(),this.varKind=d,this.name=w,this.from=M,this.to=H}render(d){const w=d.es5?r.varKinds.var:this.varKind,{name:M,from:H,to:J}=this;return`for(${w} ${M}=${H}; ${M}<${J}; ${M}++)`+super.render(d)}get names(){const d=_e(super.names,this.from);return _e(d,this.to)}}class A extends b{constructor(d,w,M,H){super(),this.loop=d,this.varKind=w,this.name=M,this.iterable=H}render(d){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(d)}optimizeNames(d,w){if(!!super.optimizeNames(d,w))return this.iterable=re(this.iterable,d,w),this}get names(){return te(super.names,this.iterable.names)}}class k extends p{constructor(d,w,M){super(),this.name=d,this.args=w,this.async=M}render(d){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(d)}}k.kind="func";class R extends y{render(d){return"return "+super.render(d)}}R.kind="return";class U extends p{render(d){let w="try"+super.render(d);return this.catch&&(w+=this.catch.render(d)),this.finally&&(w+=this.finally.render(d)),w}optimizeNodes(){var d,w;return super.optimizeNodes(),(d=this.catch)===null||d===void 0||d.optimizeNodes(),(w=this.finally)===null||w===void 0||w.optimizeNodes(),this}optimizeNames(d,w){var M,H;return super.optimizeNames(d,w),(M=this.catch)===null||M===void 0||M.optimizeNames(d,w),(H=this.finally)===null||H===void 0||H.optimizeNames(d,w),this}get names(){const d=super.names;return this.catch&&te(d,this.catch.names),this.finally&&te(d,this.finally.names),d}}class Z extends p{constructor(d){super(),this.error=d}render(d){return`catch(${this.error})`+super.render(d)}}Z.kind="catch";class Y extends p{render(d){return"finally"+super.render(d)}}Y.kind="finally";class ue{constructor(d,w={}){this._values={},this._blockStarts=[],this._constants={},this.opts=Rt(Ne({},w),{_n:w.lines?`
`:""}),this._extScope=d,this._scope=new r.Scope({parent:d}),this._nodes=[new g]}toString(){return this._root.render(this.opts)}name(d){return this._scope.name(d)}scopeName(d){return this._extScope.name(d)}scopeValue(d,w){const M=this._extScope.value(d,w);return(this._values[M.prefix]||(this._values[M.prefix]=new Set)).add(M),M}getScopeValue(d,w){return this._extScope.getValue(d,w)}scopeRefs(d){return this._extScope.scopeRefs(d,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(d,w,M,H){const J=this._scope.toName(w);return M!==void 0&&H&&(this._constants[J.str]=M),this._leafNode(new a(d,J,M)),J}const(d,w,M){return this._def(r.varKinds.const,d,w,M)}let(d,w,M){return this._def(r.varKinds.let,d,w,M)}var(d,w,M){return this._def(r.varKinds.var,d,w,M)}assign(d,w,M){return this._leafNode(new i(d,w,M))}add(d,w){return this._leafNode(new l(d,t.operators.ADD,w))}code(d){return typeof d=="function"?d():d!==e.nil&&this._leafNode(new m(d)),this}object(...d){const w=["{"];for(const[M,H]of d)w.length>1&&w.push(","),w.push(M),(M!==H||this.opts.es5)&&(w.push(":"),(0,e.addCodeArg)(w,H));return w.push("}"),new e._Code(w)}if(d,w,M){if(this._blockNode(new _(d)),w&&M)this.code(w).else().code(M).endIf();else if(w)this.code(w).endIf();else if(M)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(d){return this._elseNode(new _(d))}else(){return this._elseNode(new v)}endIf(){return this._endBlockNode(_,v)}_for(d,w){return this._blockNode(d),w&&this.code(w).endFor(),this}for(d,w){return this._for(new S(d),w)}forRange(d,w,M,H,J=this.opts.es5?r.varKinds.var:r.varKinds.let){const ae=this._scope.toName(d);return this._for(new O(J,ae,w,M),()=>H(ae))}forOf(d,w,M,H=r.varKinds.const){const J=this._scope.toName(d);if(this.opts.es5){const ae=w instanceof e.Name?w:this.var("_arr",w);return this.forRange("_i",0,(0,e._)`${ae}.length`,oe=>{this.var(J,(0,e._)`${ae}[${oe}]`),M(J)})}return this._for(new A("of",H,J,w),()=>M(J))}forIn(d,w,M,H=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(d,(0,e._)`Object.keys(${w})`,M);const J=this._scope.toName(d);return this._for(new A("in",H,J,w),()=>M(J))}endFor(){return this._endBlockNode(b)}label(d){return this._leafNode(new c(d))}break(d){return this._leafNode(new u(d))}return(d){const w=new R;if(this._blockNode(w),this.code(d),w.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(R)}try(d,w,M){if(!w&&!M)throw new Error('CodeGen: "try" without "catch" and "finally"');const H=new U;if(this._blockNode(H),this.code(d),w){const J=this.name("e");this._currNode=H.catch=new Z(J),w(J)}return M&&(this._currNode=H.finally=new Y,this.code(M)),this._endBlockNode(Z,Y)}throw(d){return this._leafNode(new f(d))}block(d,w){return this._blockStarts.push(this._nodes.length),d&&this.code(d).endBlock(w),this}endBlock(d){const w=this._blockStarts.pop();if(w===void 0)throw new Error("CodeGen: not in self-balancing block");const M=this._nodes.length-w;if(M<0||d!==void 0&&M!==d)throw new Error(`CodeGen: wrong number of nodes: ${M} vs ${d} expected`);return this._nodes.length=w,this}func(d,w=e.nil,M,H){return this._blockNode(new k(d,w,M)),H&&this.code(H).endFunc(),this}endFunc(){return this._endBlockNode(k)}optimize(d=1){for(;d-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(d){return this._currNode.nodes.push(d),this}_blockNode(d){this._currNode.nodes.push(d),this._nodes.push(d)}_endBlockNode(d,w){const M=this._currNode;if(M instanceof d||w&&M instanceof w)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${w?`${d.kind}/${w.kind}`:d.kind}"`)}_elseNode(d){const w=this._currNode;if(!(w instanceof _))throw new Error('CodeGen: "else" without "if"');return this._currNode=w.else=d,this}get _root(){return this._nodes[0]}get _currNode(){const d=this._nodes;return d[d.length-1]}set _currNode(d){const w=this._nodes;w[w.length-1]=d}}t.CodeGen=ue;function te(T,d){for(const w in d)T[w]=(T[w]||0)+(d[w]||0);return T}function _e(T,d){return d instanceof e._CodeOrName?te(T,d.names):T}function re(T,d,w){if(T instanceof e.Name)return M(T);if(!H(T))return T;return new e._Code(T._items.reduce((J,ae)=>(ae instanceof e.Name&&(ae=M(ae)),ae instanceof e._Code?J.push(...ae._items):J.push(ae),J),[]));function M(J){const ae=w[J.str];return ae===void 0||d[J.str]!==1?J:(delete d[J.str],ae)}function H(J){return J instanceof e._Code&&J._items.some(ae=>ae instanceof e.Name&&d[ae.str]===1&&w[ae.str]!==void 0)}}function me(T,d){for(const w in d)T[w]=(T[w]||0)-(d[w]||0)}function Le(T){return typeof T=="boolean"||typeof T=="number"||T===null?!T:(0,e._)`!${F(T)}`}t.not=Le;const He=N(t.operators.AND);function ge(...T){return T.reduce(He)}t.and=ge;const xe=N(t.operators.OR);function K(...T){return T.reduce(xe)}t.or=K;function N(T){return(d,w)=>d===e.nil?w:w===e.nil?d:(0,e._)`${F(d)} ${T} ${F(w)}`}function F(T){return T instanceof e.Name?T:(0,e._)`(${T})`}})(le);var de={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.checkStrictMode=t.getErrorPath=t.Type=t.useFunc=t.setEvaluated=t.evaluatedPropsToName=t.mergeEvaluated=t.eachItem=t.unescapeJsonPointer=t.escapeJsonPointer=t.escapeFragment=t.unescapeFragment=t.schemaRefOrVal=t.schemaHasRulesButRef=t.schemaHasRules=t.checkUnknownRules=t.alwaysValidSchema=t.toHash=void 0;const e=le,r=jr;function n(k){const R={};for(const U of k)R[U]=!0;return R}t.toHash=n;function s(k,R){return typeof R=="boolean"?R:Object.keys(R).length===0?!0:(o(k,R),!a(R,k.self.RULES.all))}t.alwaysValidSchema=s;function o(k,R=k.schema){const{opts:U,self:Z}=k;if(!U.strictSchema||typeof R=="boolean")return;const Y=Z.RULES.keywords;for(const ue in R)Y[ue]||A(k,`unknown keyword: "${ue}"`)}t.checkUnknownRules=o;function a(k,R){if(typeof k=="boolean")return!k;for(const U in k)if(R[U])return!0;return!1}t.schemaHasRules=a;function i(k,R){if(typeof k=="boolean")return!k;for(const U in k)if(U!=="$ref"&&R.all[U])return!0;return!1}t.schemaHasRulesButRef=i;function l({topSchemaRef:k,schemaPath:R},U,Z,Y){if(!Y){if(typeof U=="number"||typeof U=="boolean")return U;if(typeof U=="string")return(0,e._)`${U}`}return(0,e._)`${k}${R}${(0,e.getProperty)(Z)}`}t.schemaRefOrVal=l;function c(k){return m(decodeURIComponent(k))}t.unescapeFragment=c;function u(k){return encodeURIComponent(f(k))}t.escapeFragment=u;function f(k){return typeof k=="number"?`${k}`:k.replace(/~/g,"~0").replace(/\//g,"~1")}t.escapeJsonPointer=f;function m(k){return k.replace(/~1/g,"/").replace(/~0/g,"~")}t.unescapeJsonPointer=m;function y(k,R){if(Array.isArray(k))for(const U of k)R(U);else R(k)}t.eachItem=y;function p({mergeNames:k,mergeToName:R,mergeValues:U,resultToName:Z}){return(Y,ue,te,_e)=>{const re=te===void 0?ue:te instanceof e.Name?(ue instanceof e.Name?k(Y,ue,te):R(Y,ue,te),te):ue instanceof e.Name?(R(Y,te,ue),ue):U(ue,te);return _e===e.Name&&!(re instanceof e.Name)?Z(Y,re):re}}t.mergeEvaluated={props:p({mergeNames:(k,R,U)=>k.if((0,e._)`${U} !== true && ${R} !== undefined`,()=>{k.if((0,e._)`${R} === true`,()=>k.assign(U,!0),()=>k.assign(U,(0,e._)`${U} || {}`).code((0,e._)`Object.assign(${U}, ${R})`))}),mergeToName:(k,R,U)=>k.if((0,e._)`${U} !== true`,()=>{R===!0?k.assign(U,!0):(k.assign(U,(0,e._)`${U} || {}`),v(k,U,R))}),mergeValues:(k,R)=>k===!0?!0:Ne(Ne({},k),R),resultToName:g}),items:p({mergeNames:(k,R,U)=>k.if((0,e._)`${U} !== true && ${R} !== undefined`,()=>k.assign(U,(0,e._)`${R} === true ? true : ${U} > ${R} ? ${U} : ${R}`)),mergeToName:(k,R,U)=>k.if((0,e._)`${U} !== true`,()=>k.assign(U,R===!0?!0:(0,e._)`${U} > ${R} ? ${U} : ${R}`)),mergeValues:(k,R)=>k===!0?!0:Math.max(k,R),resultToName:(k,R)=>k.var("items",R)})};function g(k,R){if(R===!0)return k.var("props",!0);const U=k.var("props",(0,e._)`{}`);return R!==void 0&&v(k,U,R),U}t.evaluatedPropsToName=g;function v(k,R,U){Object.keys(U).forEach(Z=>k.assign((0,e._)`${R}${(0,e.getProperty)(Z)}`,!0))}t.setEvaluated=v;const _={};function b(k,R){return k.scopeValue("func",{ref:R,code:_[R.code]||(_[R.code]=new r._Code(R.code))})}t.useFunc=b;var S;(function(k){k[k.Num=0]="Num",k[k.Str=1]="Str"})(S=t.Type||(t.Type={}));function O(k,R,U){if(k instanceof e.Name){const Z=R===S.Num;return U?Z?(0,e._)`"[" + ${k} + "]"`:(0,e._)`"['" + ${k} + "']"`:Z?(0,e._)`"/" + ${k}`:(0,e._)`"/" + ${k}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return U?(0,e.getProperty)(k).toString():"/"+f(k)}t.getErrorPath=O;function A(k,R,U=k.opts.strictSchema){if(!!U){if(R=`strict mode: ${R}`,U===!0)throw new Error(R);k.self.logger.warn(R)}}t.checkStrictMode=A})(de);var Nt={};Object.defineProperty(Nt,"__esModule",{value:!0});const Ze=le,Ri={data:new Ze.Name("data"),valCxt:new Ze.Name("valCxt"),instancePath:new Ze.Name("instancePath"),parentData:new Ze.Name("parentData"),parentDataProperty:new Ze.Name("parentDataProperty"),rootData:new Ze.Name("rootData"),dynamicAnchors:new Ze.Name("dynamicAnchors"),vErrors:new Ze.Name("vErrors"),errors:new Ze.Name("errors"),this:new Ze.Name("this"),self:new Ze.Name("self"),scope:new Ze.Name("scope"),json:new Ze.Name("json"),jsonPos:new Ze.Name("jsonPos"),jsonLen:new Ze.Name("jsonLen"),jsonPart:new Ze.Name("jsonPart")};Nt.default=Ri;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.extendErrors=t.resetErrorsCount=t.reportExtraError=t.reportError=t.keyword$DataError=t.keywordError=void 0;const e=le,r=de,n=Nt;t.keywordError={message:({keyword:v})=>(0,e.str)`must pass "${v}" keyword validation`},t.keyword$DataError={message:({keyword:v,schemaType:_})=>_?(0,e.str)`"${v}" keyword must be ${_} ($data)`:(0,e.str)`"${v}" keyword is invalid ($data)`};function s(v,_=t.keywordError,b,S){const{it:O}=v,{gen:A,compositeRule:k,allErrors:R}=O,U=f(v,_,b);(S!=null?S:k||R)?l(A,U):c(O,(0,e._)`[${U}]`)}t.reportError=s;function o(v,_=t.keywordError,b){const{it:S}=v,{gen:O,compositeRule:A,allErrors:k}=S,R=f(v,_,b);l(O,R),A||k||c(S,n.default.vErrors)}t.reportExtraError=o;function a(v,_){v.assign(n.default.errors,_),v.if((0,e._)`${n.default.vErrors} !== null`,()=>v.if(_,()=>v.assign((0,e._)`${n.default.vErrors}.length`,_),()=>v.assign(n.default.vErrors,null)))}t.resetErrorsCount=a;function i({gen:v,keyword:_,schemaValue:b,data:S,errsCount:O,it:A}){if(O===void 0)throw new Error("ajv implementation error");const k=v.name("err");v.forRange("i",O,n.default.errors,R=>{v.const(k,(0,e._)`${n.default.vErrors}[${R}]`),v.if((0,e._)`${k}.instancePath === undefined`,()=>v.assign((0,e._)`${k}.instancePath`,(0,e.strConcat)(n.default.instancePath,A.errorPath))),v.assign((0,e._)`${k}.schemaPath`,(0,e.str)`${A.errSchemaPath}/${_}`),A.opts.verbose&&(v.assign((0,e._)`${k}.schema`,b),v.assign((0,e._)`${k}.data`,S))})}t.extendErrors=i;function l(v,_){const b=v.const("err",_);v.if((0,e._)`${n.default.vErrors} === null`,()=>v.assign(n.default.vErrors,(0,e._)`[${b}]`),(0,e._)`${n.default.vErrors}.push(${b})`),v.code((0,e._)`${n.default.errors}++`)}function c(v,_){const{gen:b,validateName:S,schemaEnv:O}=v;O.$async?b.throw((0,e._)`new ${v.ValidationError}(${_})`):(b.assign((0,e._)`${S}.errors`,_),b.return(!1))}const u={keyword:new e.Name("keyword"),schemaPath:new e.Name("schemaPath"),params:new e.Name("params"),propertyName:new e.Name("propertyName"),message:new e.Name("message"),schema:new e.Name("schema"),parentSchema:new e.Name("parentSchema")};function f(v,_,b){const{createErrors:S}=v.it;return S===!1?(0,e._)`{}`:m(v,_,b)}function m(v,_,b={}){const{gen:S,it:O}=v,A=[y(O,b),p(v,b)];return g(v,_,A),S.object(...A)}function y({errorPath:v},{instancePath:_}){const b=_?(0,e.str)`${v}${(0,r.getErrorPath)(_,r.Type.Str)}`:v;return[n.default.instancePath,(0,e.strConcat)(n.default.instancePath,b)]}function p({keyword:v,it:{errSchemaPath:_}},{schemaPath:b,parentSchema:S}){let O=S?_:(0,e.str)`${_}/${v}`;return b&&(O=(0,e.str)`${O}${(0,r.getErrorPath)(b,r.Type.Str)}`),[u.schemaPath,O]}function g(v,{params:_,message:b},S){const{keyword:O,data:A,schemaValue:k,it:R}=v,{opts:U,propertyName:Z,topSchemaRef:Y,schemaPath:ue}=R;S.push([u.keyword,O],[u.params,typeof _=="function"?_(v):_||(0,e._)`{}`]),U.messages&&S.push([u.message,typeof b=="function"?b(v):b]),U.verbose&&S.push([u.schema,k],[u.parentSchema,(0,e._)`${Y}${ue}`],[n.default.data,A]),Z&&S.push([u.propertyName,Z])}})(Dr);Object.defineProperty(pr,"__esModule",{value:!0});pr.boolOrEmptySchema=pr.topBoolOrEmptySchema=void 0;const ji=Dr,Ii=le,Di=Nt,Mi={message:"boolean schema is false"};function zi(t){const{gen:e,schema:r,validateName:n}=t;r===!1?Qo(t,!1):typeof r=="object"&&r.$async===!0?e.return(Di.default.data):(e.assign((0,Ii._)`${n}.errors`,null),e.return(!0))}pr.topBoolOrEmptySchema=zi;function Vi(t,e){const{gen:r,schema:n}=t;n===!1?(r.var(e,!1),Qo(t)):r.var(e,!0)}pr.boolOrEmptySchema=Vi;function Qo(t,e){const{gen:r,data:n}=t,s={gen:r,keyword:"false schema",data:n,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:t};(0,ji.reportError)(s,Mi,void 0,e)}var Mr={},xt={};Object.defineProperty(xt,"__esModule",{value:!0});xt.getRules=xt.isJSONType=void 0;const Fi=["string","number","integer","boolean","null","object","array"],Ui=new Set(Fi);function Li(t){return typeof t=="string"&&Ui.has(t)}xt.isJSONType=Li;function qi(){const t={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:Rt(Ne({},t),{integer:!0,boolean:!0,null:!0}),rules:[{rules:[]},t.number,t.string,t.array,t.object],post:{rules:[]},all:{},keywords:{}}}xt.getRules=qi;var Dt={};Object.defineProperty(Dt,"__esModule",{value:!0});Dt.shouldUseRule=Dt.shouldUseGroup=Dt.schemaHasRulesForType=void 0;function Bi({schema:t,self:e},r){const n=e.RULES.types[r];return n&&n!==!0&&xo(t,n)}Dt.schemaHasRulesForType=Bi;function xo(t,e){return e.rules.some(r=>ea(t,r))}Dt.shouldUseGroup=xo;function ea(t,e){var r;return t[e.keyword]!==void 0||((r=e.definition.implements)===null||r===void 0?void 0:r.some(n=>t[n]!==void 0))}Dt.shouldUseRule=ea;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.reportTypeError=t.checkDataTypes=t.checkDataType=t.coerceAndCheckDataType=t.getJSONTypes=t.getSchemaTypes=t.DataType=void 0;const e=xt,r=Dt,n=Dr,s=le,o=de;var a;(function(S){S[S.Correct=0]="Correct",S[S.Wrong=1]="Wrong"})(a=t.DataType||(t.DataType={}));function i(S){const O=l(S.type);if(O.includes("null")){if(S.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!O.length&&S.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');S.nullable===!0&&O.push("null")}return O}t.getSchemaTypes=i;function l(S){const O=Array.isArray(S)?S:S?[S]:[];if(O.every(e.isJSONType))return O;throw new Error("type must be JSONType or JSONType[]: "+O.join(","))}t.getJSONTypes=l;function c(S,O){const{gen:A,data:k,opts:R}=S,U=f(O,R.coerceTypes),Z=O.length>0&&!(U.length===0&&O.length===1&&(0,r.schemaHasRulesForType)(S,O[0]));if(Z){const Y=g(O,k,R.strictNumbers,a.Wrong);A.if(Y,()=>{U.length?m(S,O,U):_(S)})}return Z}t.coerceAndCheckDataType=c;const u=new Set(["string","number","integer","boolean","null"]);function f(S,O){return O?S.filter(A=>u.has(A)||O==="array"&&A==="array"):[]}function m(S,O,A){const{gen:k,data:R,opts:U}=S,Z=k.let("dataType",(0,s._)`typeof ${R}`),Y=k.let("coerced",(0,s._)`undefined`);U.coerceTypes==="array"&&k.if((0,s._)`${Z} == 'object' && Array.isArray(${R}) && ${R}.length == 1`,()=>k.assign(R,(0,s._)`${R}[0]`).assign(Z,(0,s._)`typeof ${R}`).if(g(O,R,U.strictNumbers),()=>k.assign(Y,R))),k.if((0,s._)`${Y} !== undefined`);for(const te of A)(u.has(te)||te==="array"&&U.coerceTypes==="array")&&ue(te);k.else(),_(S),k.endIf(),k.if((0,s._)`${Y} !== undefined`,()=>{k.assign(R,Y),y(S,Y)});function ue(te){switch(te){case"string":k.elseIf((0,s._)`${Z} == "number" || ${Z} == "boolean"`).assign(Y,(0,s._)`"" + ${R}`).elseIf((0,s._)`${R} === null`).assign(Y,(0,s._)`""`);return;case"number":k.elseIf((0,s._)`${Z} == "boolean" || ${R} === null
              || (${Z} == "string" && ${R} && ${R} == +${R})`).assign(Y,(0,s._)`+${R}`);return;case"integer":k.elseIf((0,s._)`${Z} === "boolean" || ${R} === null
              || (${Z} === "string" && ${R} && ${R} == +${R} && !(${R} % 1))`).assign(Y,(0,s._)`+${R}`);return;case"boolean":k.elseIf((0,s._)`${R} === "false" || ${R} === 0 || ${R} === null`).assign(Y,!1).elseIf((0,s._)`${R} === "true" || ${R} === 1`).assign(Y,!0);return;case"null":k.elseIf((0,s._)`${R} === "" || ${R} === 0 || ${R} === false`),k.assign(Y,null);return;case"array":k.elseIf((0,s._)`${Z} === "string" || ${Z} === "number"
              || ${Z} === "boolean" || ${R} === null`).assign(Y,(0,s._)`[${R}]`)}}}function y({gen:S,parentData:O,parentDataProperty:A},k){S.if((0,s._)`${O} !== undefined`,()=>S.assign((0,s._)`${O}[${A}]`,k))}function p(S,O,A,k=a.Correct){const R=k===a.Correct?s.operators.EQ:s.operators.NEQ;let U;switch(S){case"null":return(0,s._)`${O} ${R} null`;case"array":U=(0,s._)`Array.isArray(${O})`;break;case"object":U=(0,s._)`${O} && typeof ${O} == "object" && !Array.isArray(${O})`;break;case"integer":U=Z((0,s._)`!(${O} % 1) && !isNaN(${O})`);break;case"number":U=Z();break;default:return(0,s._)`typeof ${O} ${R} ${S}`}return k===a.Correct?U:(0,s.not)(U);function Z(Y=s.nil){return(0,s.and)((0,s._)`typeof ${O} == "number"`,Y,A?(0,s._)`isFinite(${O})`:s.nil)}}t.checkDataType=p;function g(S,O,A,k){if(S.length===1)return p(S[0],O,A,k);let R;const U=(0,o.toHash)(S);if(U.array&&U.object){const Z=(0,s._)`typeof ${O} != "object"`;R=U.null?Z:(0,s._)`!${O} || ${Z}`,delete U.null,delete U.array,delete U.object}else R=s.nil;U.number&&delete U.integer;for(const Z in U)R=(0,s.and)(R,p(Z,O,A,k));return R}t.checkDataTypes=g;const v={message:({schema:S})=>`must be ${S}`,params:({schema:S,schemaValue:O})=>typeof S=="string"?(0,s._)`{type: ${S}}`:(0,s._)`{type: ${O}}`};function _(S){const O=b(S);(0,n.reportError)(O,v)}t.reportTypeError=_;function b(S){const{gen:O,data:A,schema:k}=S,R=(0,o.schemaRefOrVal)(S,k,"type");return{gen:O,keyword:"type",data:A,schema:k.type,schemaCode:R,schemaValue:R,parentSchema:k,params:{},it:S}}})(Mr);var dn={};Object.defineProperty(dn,"__esModule",{value:!0});dn.assignDefaults=void 0;const ir=le,Ki=de;function Wi(t,e){const{properties:r,items:n}=t.schema;if(e==="object"&&r)for(const s in r)Us(t,s,r[s].default);else e==="array"&&Array.isArray(n)&&n.forEach((s,o)=>Us(t,o,s.default))}dn.assignDefaults=Wi;function Us(t,e,r){const{gen:n,compositeRule:s,data:o,opts:a}=t;if(r===void 0)return;const i=(0,ir._)`${o}${(0,ir.getProperty)(e)}`;if(s){(0,Ki.checkStrictMode)(t,`default is ignored for: ${i}`);return}let l=(0,ir._)`${i} === undefined`;a.useDefaults==="empty"&&(l=(0,ir._)`${l} || ${i} === null || ${i} === ""`),n.if(l,(0,ir._)`${i} = ${(0,ir.stringify)(r)}`)}var Pt={},ie={};Object.defineProperty(ie,"__esModule",{value:!0});ie.validateUnion=ie.validateArray=ie.usePattern=ie.callValidateCode=ie.schemaProperties=ie.allSchemaProperties=ie.noPropertyInData=ie.propertyInData=ie.isOwnProperty=ie.hasPropFunc=ie.reportMissingProp=ie.checkMissingProp=ie.checkReportMissingProp=void 0;const ke=le,Un=de,Ft=Nt,Hi=de;function Gi(t,e){const{gen:r,data:n,it:s}=t;r.if(qn(r,n,e,s.opts.ownProperties),()=>{t.setParams({missingProperty:(0,ke._)`${e}`},!0),t.error()})}ie.checkReportMissingProp=Gi;function Ji({gen:t,data:e,it:{opts:r}},n,s){return(0,ke.or)(...n.map(o=>(0,ke.and)(qn(t,e,o,r.ownProperties),(0,ke._)`${s} = ${o}`)))}ie.checkMissingProp=Ji;function Xi(t,e){t.setParams({missingProperty:e},!0),t.error()}ie.reportMissingProp=Xi;function ta(t){return t.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,ke._)`Object.prototype.hasOwnProperty`})}ie.hasPropFunc=ta;function Ln(t,e,r){return(0,ke._)`${ta(t)}.call(${e}, ${r})`}ie.isOwnProperty=Ln;function Yi(t,e,r,n){const s=(0,ke._)`${e}${(0,ke.getProperty)(r)} !== undefined`;return n?(0,ke._)`${s} && ${Ln(t,e,r)}`:s}ie.propertyInData=Yi;function qn(t,e,r,n){const s=(0,ke._)`${e}${(0,ke.getProperty)(r)} === undefined`;return n?(0,ke.or)(s,(0,ke.not)(Ln(t,e,r))):s}ie.noPropertyInData=qn;function ra(t){return t?Object.keys(t).filter(e=>e!=="__proto__"):[]}ie.allSchemaProperties=ra;function Zi(t,e){return ra(e).filter(r=>!(0,Un.alwaysValidSchema)(t,e[r]))}ie.schemaProperties=Zi;function Qi({schemaCode:t,data:e,it:{gen:r,topSchemaRef:n,schemaPath:s,errorPath:o},it:a},i,l,c){const u=c?(0,ke._)`${t}, ${e}, ${n}${s}`:e,f=[[Ft.default.instancePath,(0,ke.strConcat)(Ft.default.instancePath,o)],[Ft.default.parentData,a.parentData],[Ft.default.parentDataProperty,a.parentDataProperty],[Ft.default.rootData,Ft.default.rootData]];a.opts.dynamicRef&&f.push([Ft.default.dynamicAnchors,Ft.default.dynamicAnchors]);const m=(0,ke._)`${u}, ${r.object(...f)}`;return l!==ke.nil?(0,ke._)`${i}.call(${l}, ${m})`:(0,ke._)`${i}(${m})`}ie.callValidateCode=Qi;const xi=(0,ke._)`new RegExp`;function el({gen:t,it:{opts:e}},r){const n=e.unicodeRegExp?"u":"",{regExp:s}=e.code,o=s(r,n);return t.scopeValue("pattern",{key:o.toString(),ref:o,code:(0,ke._)`${s.code==="new RegExp"?xi:(0,Hi.useFunc)(t,s)}(${r}, ${n})`})}ie.usePattern=el;function tl(t){const{gen:e,data:r,keyword:n,it:s}=t,o=e.name("valid");if(s.allErrors){const i=e.let("valid",!0);return a(()=>e.assign(i,!1)),i}return e.var(o,!0),a(()=>e.break()),o;function a(i){const l=e.const("len",(0,ke._)`${r}.length`);e.forRange("i",0,l,c=>{t.subschema({keyword:n,dataProp:c,dataPropType:Un.Type.Num},o),e.if((0,ke.not)(o),i)})}}ie.validateArray=tl;function rl(t){const{gen:e,schema:r,keyword:n,it:s}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(l=>(0,Un.alwaysValidSchema)(s,l))&&!s.opts.unevaluated)return;const a=e.let("valid",!1),i=e.name("_valid");e.block(()=>r.forEach((l,c)=>{const u=t.subschema({keyword:n,schemaProp:c,compositeRule:!0},i);e.assign(a,(0,ke._)`${a} || ${i}`),t.mergeValidEvaluated(u,i)||e.if((0,ke.not)(a))})),t.result(a,()=>t.reset(),()=>t.error(!0))}ie.validateUnion=rl;Object.defineProperty(Pt,"__esModule",{value:!0});Pt.validateKeywordUsage=Pt.validSchemaType=Pt.funcKeywordCode=Pt.macroKeywordCode=void 0;const et=le,Xt=Nt,nl=ie,sl=Dr;function ol(t,e){const{gen:r,keyword:n,schema:s,parentSchema:o,it:a}=t,i=e.macro.call(a.self,s,o,a),l=na(r,n,i);a.opts.validateSchema!==!1&&a.self.validateSchema(i,!0);const c=r.name("valid");t.subschema({schema:i,schemaPath:et.nil,errSchemaPath:`${a.errSchemaPath}/${n}`,topSchemaRef:l,compositeRule:!0},c),t.pass(c,()=>t.error(!0))}Pt.macroKeywordCode=ol;function al(t,e){var r;const{gen:n,keyword:s,schema:o,parentSchema:a,$data:i,it:l}=t;ll(l,e);const c=!i&&e.compile?e.compile.call(l.self,o,a,l):e.validate,u=na(n,s,c),f=n.let("valid");t.block$data(f,m),t.ok((r=e.valid)!==null&&r!==void 0?r:f);function m(){if(e.errors===!1)g(),e.modifying&&Ls(t),v(()=>t.error());else{const _=e.async?y():p();e.modifying&&Ls(t),v(()=>il(t,_))}}function y(){const _=n.let("ruleErrs",null);return n.try(()=>g((0,et._)`await `),b=>n.assign(f,!1).if((0,et._)`${b} instanceof ${l.ValidationError}`,()=>n.assign(_,(0,et._)`${b}.errors`),()=>n.throw(b))),_}function p(){const _=(0,et._)`${u}.errors`;return n.assign(_,null),g(et.nil),_}function g(_=e.async?(0,et._)`await `:et.nil){const b=l.opts.passContext?Xt.default.this:Xt.default.self,S=!("compile"in e&&!i||e.schema===!1);n.assign(f,(0,et._)`${_}${(0,nl.callValidateCode)(t,u,b,S)}`,e.modifying)}function v(_){var b;n.if((0,et.not)((b=e.valid)!==null&&b!==void 0?b:f),_)}}Pt.funcKeywordCode=al;function Ls(t){const{gen:e,data:r,it:n}=t;e.if(n.parentData,()=>e.assign(r,(0,et._)`${n.parentData}[${n.parentDataProperty}]`))}function il(t,e){const{gen:r}=t;r.if((0,et._)`Array.isArray(${e})`,()=>{r.assign(Xt.default.vErrors,(0,et._)`${Xt.default.vErrors} === null ? ${e} : ${Xt.default.vErrors}.concat(${e})`).assign(Xt.default.errors,(0,et._)`${Xt.default.vErrors}.length`),(0,sl.extendErrors)(t)},()=>t.error())}function ll({schemaEnv:t},e){if(e.async&&!t.$async)throw new Error("async keyword in sync schema")}function na(t,e,r){if(r===void 0)throw new Error(`keyword "${e}" failed to compile`);return t.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,et.stringify)(r)})}function cl(t,e,r=!1){return!e.length||e.some(n=>n==="array"?Array.isArray(t):n==="object"?t&&typeof t=="object"&&!Array.isArray(t):typeof t==n||r&&typeof t=="undefined")}Pt.validSchemaType=cl;function ul({schema:t,opts:e,self:r,errSchemaPath:n},s,o){if(Array.isArray(s.keyword)?!s.keyword.includes(o):s.keyword!==o)throw new Error("ajv implementation error");const a=s.dependencies;if(a!=null&&a.some(i=>!Object.prototype.hasOwnProperty.call(t,i)))throw new Error(`parent schema must have dependencies of ${o}: ${a.join(",")}`);if(s.validateSchema&&!s.validateSchema(t[o])){const l=`keyword "${o}" value is invalid at path "${n}": `+r.errorsText(s.validateSchema.errors);if(e.validateSchema==="log")r.logger.error(l);else throw new Error(l)}}Pt.validateKeywordUsage=ul;var qt={};Object.defineProperty(qt,"__esModule",{value:!0});qt.extendSubschemaMode=qt.extendSubschemaData=qt.getSubschema=void 0;const St=le,sa=de;function fl(t,{keyword:e,schemaProp:r,schema:n,schemaPath:s,errSchemaPath:o,topSchemaRef:a}){if(e!==void 0&&n!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(e!==void 0){const i=t.schema[e];return r===void 0?{schema:i,schemaPath:(0,St._)`${t.schemaPath}${(0,St.getProperty)(e)}`,errSchemaPath:`${t.errSchemaPath}/${e}`}:{schema:i[r],schemaPath:(0,St._)`${t.schemaPath}${(0,St.getProperty)(e)}${(0,St.getProperty)(r)}`,errSchemaPath:`${t.errSchemaPath}/${e}/${(0,sa.escapeFragment)(r)}`}}if(n!==void 0){if(s===void 0||o===void 0||a===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:n,schemaPath:s,topSchemaRef:a,errSchemaPath:o}}throw new Error('either "keyword" or "schema" must be passed')}qt.getSubschema=fl;function dl(t,e,{dataProp:r,dataPropType:n,data:s,dataTypes:o,propertyName:a}){if(s!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:i}=e;if(r!==void 0){const{errorPath:c,dataPathArr:u,opts:f}=e,m=i.let("data",(0,St._)`${e.data}${(0,St.getProperty)(r)}`,!0);l(m),t.errorPath=(0,St.str)`${c}${(0,sa.getErrorPath)(r,n,f.jsPropertySyntax)}`,t.parentDataProperty=(0,St._)`${r}`,t.dataPathArr=[...u,t.parentDataProperty]}if(s!==void 0){const c=s instanceof St.Name?s:i.let("data",s,!0);l(c),a!==void 0&&(t.propertyName=a)}o&&(t.dataTypes=o);function l(c){t.data=c,t.dataLevel=e.dataLevel+1,t.dataTypes=[],e.definedProperties=new Set,t.parentData=e.data,t.dataNames=[...e.dataNames,c]}}qt.extendSubschemaData=dl;function hl(t,{jtdDiscriminator:e,jtdMetadata:r,compositeRule:n,createErrors:s,allErrors:o}){n!==void 0&&(t.compositeRule=n),s!==void 0&&(t.createErrors=s),o!==void 0&&(t.allErrors=o),t.jtdDiscriminator=e,t.jtdMetadata=r}qt.extendSubschemaMode=hl;var Ke={},oa=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var n,s,o;if(Array.isArray(e)){if(n=e.length,n!=r.length)return!1;for(s=n;s--!==0;)if(!t(e[s],r[s]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(o=Object.keys(e),n=o.length,n!==Object.keys(r).length)return!1;for(s=n;s--!==0;)if(!Object.prototype.hasOwnProperty.call(r,o[s]))return!1;for(s=n;s--!==0;){var a=o[s];if(!t(e[a],r[a]))return!1}return!0}return e!==e&&r!==r},aa={exports:{}},Lt=aa.exports=function(t,e,r){typeof e=="function"&&(r=e,e={}),r=e.cb||r;var n=typeof r=="function"?r:r.pre||function(){},s=r.post||function(){};xr(e,n,s,t,"",t)};Lt.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};Lt.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};Lt.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};Lt.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function xr(t,e,r,n,s,o,a,i,l,c){if(n&&typeof n=="object"&&!Array.isArray(n)){e(n,s,o,a,i,l,c);for(var u in n){var f=n[u];if(Array.isArray(f)){if(u in Lt.arrayKeywords)for(var m=0;m<f.length;m++)xr(t,e,r,f[m],s+"/"+u+"/"+m,o,s,u,n,m)}else if(u in Lt.propsKeywords){if(f&&typeof f=="object")for(var y in f)xr(t,e,r,f[y],s+"/"+u+"/"+ml(y),o,s,u,n,y)}else(u in Lt.keywords||t.allKeys&&!(u in Lt.skipKeywords))&&xr(t,e,r,f,s+"/"+u,o,s,u,n)}r(n,s,o,a,i,l,c)}}function ml(t){return t.replace(/~/g,"~0").replace(/\//g,"~1")}Object.defineProperty(Ke,"__esModule",{value:!0});Ke.getSchemaRefs=Ke.resolveUrl=Ke.normalizeId=Ke._getFullPath=Ke.getFullPath=Ke.inlineRef=void 0;const pl=de,_l=oa,gl=aa.exports,vl=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function yl(t,e=!0){return typeof t=="boolean"?!0:e===!0?!jn(t):e?ia(t)<=e:!1}Ke.inlineRef=yl;const bl=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function jn(t){for(const e in t){if(bl.has(e))return!0;const r=t[e];if(Array.isArray(r)&&r.some(jn)||typeof r=="object"&&jn(r))return!0}return!1}function ia(t){let e=0;for(const r in t){if(r==="$ref")return 1/0;if(e++,!vl.has(r)&&(typeof t[r]=="object"&&(0,pl.eachItem)(t[r],n=>e+=ia(n)),e===1/0))return 1/0}return e}function la(t,e="",r){r!==!1&&(e=mr(e));const n=t.parse(e);return ca(t,n)}Ke.getFullPath=la;function ca(t,e){return t.serialize(e).split("#")[0]+"#"}Ke._getFullPath=ca;const $l=/#\/?$/;function mr(t){return t?t.replace($l,""):""}Ke.normalizeId=mr;function wl(t,e,r){return r=mr(r),t.resolve(e,r)}Ke.resolveUrl=wl;const kl=/^[a-z_][-a-z0-9._]*$/i;function El(t,e){if(typeof t=="boolean")return{};const{schemaId:r,uriResolver:n}=this.opts,s=mr(t[r]||e),o={"":s},a=la(n,s,!1),i={},l=new Set;return gl(t,{allKeys:!0},(f,m,y,p)=>{if(p===void 0)return;const g=a+m;let v=o[p];typeof f[r]=="string"&&(v=_.call(this,f[r])),b.call(this,f.$anchor),b.call(this,f.$dynamicAnchor),o[m]=v;function _(S){const O=this.opts.uriResolver.resolve;if(S=mr(v?O(v,S):S),l.has(S))throw u(S);l.add(S);let A=this.refs[S];return typeof A=="string"&&(A=this.refs[A]),typeof A=="object"?c(f,A.schema,S):S!==mr(g)&&(S[0]==="#"?(c(f,i[S],S),i[S]=f):this.refs[S]=g),S}function b(S){if(typeof S=="string"){if(!kl.test(S))throw new Error(`invalid anchor "${S}"`);_.call(this,`#${S}`)}}}),i;function c(f,m,y){if(m!==void 0&&!_l(f,m))throw u(y)}function u(f){return new Error(`reference "${f}" resolves to more than one schema`)}}Ke.getSchemaRefs=El;Object.defineProperty(yt,"__esModule",{value:!0});yt.getData=yt.KeywordCxt=yt.validateFunctionCode=void 0;const ua=pr,qs=Mr,Bn=Dt,on=Mr,Sl=dn,Cr=Pt,kn=qt,Q=le,ne=Nt,Pl=Ke,Mt=de,kr=Dr;function Cl(t){if(ha(t)&&(ma(t),da(t))){Tl(t);return}fa(t,()=>(0,ua.topBoolOrEmptySchema)(t))}yt.validateFunctionCode=Cl;function fa({gen:t,validateName:e,schema:r,schemaEnv:n,opts:s},o){s.code.es5?t.func(e,(0,Q._)`${ne.default.data}, ${ne.default.valCxt}`,n.$async,()=>{t.code((0,Q._)`"use strict"; ${Bs(r,s)}`),Ol(t,s),t.code(o)}):t.func(e,(0,Q._)`${ne.default.data}, ${Nl(s)}`,n.$async,()=>t.code(Bs(r,s)).code(o))}function Nl(t){return(0,Q._)`{${ne.default.instancePath}="", ${ne.default.parentData}, ${ne.default.parentDataProperty}, ${ne.default.rootData}=${ne.default.data}${t.dynamicRef?(0,Q._)`, ${ne.default.dynamicAnchors}={}`:Q.nil}}={}`}function Ol(t,e){t.if(ne.default.valCxt,()=>{t.var(ne.default.instancePath,(0,Q._)`${ne.default.valCxt}.${ne.default.instancePath}`),t.var(ne.default.parentData,(0,Q._)`${ne.default.valCxt}.${ne.default.parentData}`),t.var(ne.default.parentDataProperty,(0,Q._)`${ne.default.valCxt}.${ne.default.parentDataProperty}`),t.var(ne.default.rootData,(0,Q._)`${ne.default.valCxt}.${ne.default.rootData}`),e.dynamicRef&&t.var(ne.default.dynamicAnchors,(0,Q._)`${ne.default.valCxt}.${ne.default.dynamicAnchors}`)},()=>{t.var(ne.default.instancePath,(0,Q._)`""`),t.var(ne.default.parentData,(0,Q._)`undefined`),t.var(ne.default.parentDataProperty,(0,Q._)`undefined`),t.var(ne.default.rootData,ne.default.data),e.dynamicRef&&t.var(ne.default.dynamicAnchors,(0,Q._)`{}`)})}function Tl(t){const{schema:e,opts:r,gen:n}=t;fa(t,()=>{r.$comment&&e.$comment&&_a(t),Dl(t),n.let(ne.default.vErrors,null),n.let(ne.default.errors,0),r.unevaluated&&Al(t),pa(t),Vl(t)})}function Al(t){const{gen:e,validateName:r}=t;t.evaluated=e.const("evaluated",(0,Q._)`${r}.evaluated`),e.if((0,Q._)`${t.evaluated}.dynamicProps`,()=>e.assign((0,Q._)`${t.evaluated}.props`,(0,Q._)`undefined`)),e.if((0,Q._)`${t.evaluated}.dynamicItems`,()=>e.assign((0,Q._)`${t.evaluated}.items`,(0,Q._)`undefined`))}function Bs(t,e){const r=typeof t=="object"&&t[e.schemaId];return r&&(e.code.source||e.code.process)?(0,Q._)`/*# sourceURL=${r} */`:Q.nil}function Rl(t,e){if(ha(t)&&(ma(t),da(t))){jl(t,e);return}(0,ua.boolOrEmptySchema)(t,e)}function da({schema:t,self:e}){if(typeof t=="boolean")return!t;for(const r in t)if(e.RULES.all[r])return!0;return!1}function ha(t){return typeof t.schema!="boolean"}function jl(t,e){const{schema:r,gen:n,opts:s}=t;s.$comment&&r.$comment&&_a(t),Ml(t),zl(t);const o=n.const("_errs",ne.default.errors);pa(t,o),n.var(e,(0,Q._)`${o} === ${ne.default.errors}`)}function ma(t){(0,Mt.checkUnknownRules)(t),Il(t)}function pa(t,e){if(t.opts.jtd)return Ks(t,[],!1,e);const r=(0,qs.getSchemaTypes)(t.schema),n=(0,qs.coerceAndCheckDataType)(t,r);Ks(t,r,!n,e)}function Il(t){const{schema:e,errSchemaPath:r,opts:n,self:s}=t;e.$ref&&n.ignoreKeywordsWithRef&&(0,Mt.schemaHasRulesButRef)(e,s.RULES)&&s.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function Dl(t){const{schema:e,opts:r}=t;e.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,Mt.checkStrictMode)(t,"default is ignored in the schema root")}function Ml(t){const e=t.schema[t.opts.schemaId];e&&(t.baseId=(0,Pl.resolveUrl)(t.opts.uriResolver,t.baseId,e))}function zl(t){if(t.schema.$async&&!t.schemaEnv.$async)throw new Error("async schema in sync schema")}function _a({gen:t,schemaEnv:e,schema:r,errSchemaPath:n,opts:s}){const o=r.$comment;if(s.$comment===!0)t.code((0,Q._)`${ne.default.self}.logger.log(${o})`);else if(typeof s.$comment=="function"){const a=(0,Q.str)`${n}/$comment`,i=t.scopeValue("root",{ref:e.root});t.code((0,Q._)`${ne.default.self}.opts.$comment(${o}, ${a}, ${i}.schema)`)}}function Vl(t){const{gen:e,schemaEnv:r,validateName:n,ValidationError:s,opts:o}=t;r.$async?e.if((0,Q._)`${ne.default.errors} === 0`,()=>e.return(ne.default.data),()=>e.throw((0,Q._)`new ${s}(${ne.default.vErrors})`)):(e.assign((0,Q._)`${n}.errors`,ne.default.vErrors),o.unevaluated&&Fl(t),e.return((0,Q._)`${ne.default.errors} === 0`))}function Fl({gen:t,evaluated:e,props:r,items:n}){r instanceof Q.Name&&t.assign((0,Q._)`${e}.props`,r),n instanceof Q.Name&&t.assign((0,Q._)`${e}.items`,n)}function Ks(t,e,r,n){const{gen:s,schema:o,data:a,allErrors:i,opts:l,self:c}=t,{RULES:u}=c;if(o.$ref&&(l.ignoreKeywordsWithRef||!(0,Mt.schemaHasRulesButRef)(o,u))){s.block(()=>va(t,"$ref",u.all.$ref.definition));return}l.jtd||Ul(t,e),s.block(()=>{for(const m of u.rules)f(m);f(u.post)});function f(m){!(0,Bn.shouldUseGroup)(o,m)||(m.type?(s.if((0,on.checkDataType)(m.type,a,l.strictNumbers)),Ws(t,m),e.length===1&&e[0]===m.type&&r&&(s.else(),(0,on.reportTypeError)(t)),s.endIf()):Ws(t,m),i||s.if((0,Q._)`${ne.default.errors} === ${n||0}`))}}function Ws(t,e){const{gen:r,schema:n,opts:{useDefaults:s}}=t;s&&(0,Sl.assignDefaults)(t,e.type),r.block(()=>{for(const o of e.rules)(0,Bn.shouldUseRule)(n,o)&&va(t,o.keyword,o.definition,e.type)})}function Ul(t,e){t.schemaEnv.meta||!t.opts.strictTypes||(Ll(t,e),t.opts.allowUnionTypes||ql(t,e),Bl(t,t.dataTypes))}function Ll(t,e){if(!!e.length){if(!t.dataTypes.length){t.dataTypes=e;return}e.forEach(r=>{Hs(t.dataTypes,r)||Kn(t,`type "${r}" not allowed by context "${t.dataTypes.join(",")}"`)}),t.dataTypes=t.dataTypes.filter(r=>Hs(e,r))}}function ql(t,e){e.length>1&&!(e.length===2&&e.includes("null"))&&Kn(t,"use allowUnionTypes to allow union type keyword")}function Bl(t,e){const r=t.self.RULES.all;for(const n in r){const s=r[n];if(typeof s=="object"&&(0,Bn.shouldUseRule)(t.schema,s)){const{type:o}=s.definition;o.length&&!o.some(a=>Kl(e,a))&&Kn(t,`missing type "${o.join(",")}" for keyword "${n}"`)}}}function Kl(t,e){return t.includes(e)||e==="number"&&t.includes("integer")}function Hs(t,e){return t.includes(e)||e==="integer"&&t.includes("number")}function Kn(t,e){e+=` at "${t.schemaEnv.baseId+t.errSchemaPath}" (strictTypes)`,(0,Mt.checkStrictMode)(t,e,t.opts.strictTypes)}class ga{constructor(e,r,n){if((0,Cr.validateKeywordUsage)(e,r,n),this.gen=e.gen,this.allErrors=e.allErrors,this.keyword=n,this.data=e.data,this.schema=e.schema[n],this.$data=r.$data&&e.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,Mt.schemaRefOrVal)(e,this.schema,n,this.$data),this.schemaType=r.schemaType,this.parentSchema=e.schema,this.params={},this.it=e,this.def=r,this.$data)this.schemaCode=e.gen.const("vSchema",ya(this.$data,e));else if(this.schemaCode=this.schemaValue,!(0,Cr.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=e.gen.const("_errs",ne.default.errors))}result(e,r,n){this.failResult((0,Q.not)(e),r,n)}failResult(e,r,n){this.gen.if(e),n?n():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(e,r){this.failResult((0,Q.not)(e),void 0,r)}fail(e){if(e===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(e),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(e){if(!this.$data)return this.fail(e);const{schemaCode:r}=this;this.fail((0,Q._)`${r} !== undefined && (${(0,Q.or)(this.invalid$data(),e)})`)}error(e,r,n){if(r){this.setParams(r),this._error(e,n),this.setParams({});return}this._error(e,n)}_error(e,r){(e?kr.reportExtraError:kr.reportError)(this,this.def.error,r)}$dataError(){(0,kr.reportError)(this,this.def.$dataError||kr.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,kr.resetErrorsCount)(this.gen,this.errsCount)}ok(e){this.allErrors||this.gen.if(e)}setParams(e,r){r?Object.assign(this.params,e):this.params=e}block$data(e,r,n=Q.nil){this.gen.block(()=>{this.check$data(e,n),r()})}check$data(e=Q.nil,r=Q.nil){if(!this.$data)return;const{gen:n,schemaCode:s,schemaType:o,def:a}=this;n.if((0,Q.or)((0,Q._)`${s} === undefined`,r)),e!==Q.nil&&n.assign(e,!0),(o.length||a.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),e!==Q.nil&&n.assign(e,!1)),n.else()}invalid$data(){const{gen:e,schemaCode:r,schemaType:n,def:s,it:o}=this;return(0,Q.or)(a(),i());function a(){if(n.length){if(!(r instanceof Q.Name))throw new Error("ajv implementation error");const l=Array.isArray(n)?n:[n];return(0,Q._)`${(0,on.checkDataTypes)(l,r,o.opts.strictNumbers,on.DataType.Wrong)}`}return Q.nil}function i(){if(s.validateSchema){const l=e.scopeValue("validate$data",{ref:s.validateSchema});return(0,Q._)`!${l}(${r})`}return Q.nil}}subschema(e,r){const n=(0,kn.getSubschema)(this.it,e);(0,kn.extendSubschemaData)(n,this.it,e),(0,kn.extendSubschemaMode)(n,e);const s=Rt(Ne(Ne({},this.it),n),{items:void 0,props:void 0});return Rl(s,r),s}mergeEvaluated(e,r){const{it:n,gen:s}=this;!n.opts.unevaluated||(n.props!==!0&&e.props!==void 0&&(n.props=Mt.mergeEvaluated.props(s,e.props,n.props,r)),n.items!==!0&&e.items!==void 0&&(n.items=Mt.mergeEvaluated.items(s,e.items,n.items,r)))}mergeValidEvaluated(e,r){const{it:n,gen:s}=this;if(n.opts.unevaluated&&(n.props!==!0||n.items!==!0))return s.if(r,()=>this.mergeEvaluated(e,Q.Name)),!0}}yt.KeywordCxt=ga;function va(t,e,r,n){const s=new ga(t,r,e);"code"in r?r.code(s,n):s.$data&&r.validate?(0,Cr.funcKeywordCode)(s,r):"macro"in r?(0,Cr.macroKeywordCode)(s,r):(r.compile||r.validate)&&(0,Cr.funcKeywordCode)(s,r)}const Wl=/^\/(?:[^~]|~0|~1)*$/,Hl=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function ya(t,{dataLevel:e,dataNames:r,dataPathArr:n}){let s,o;if(t==="")return ne.default.rootData;if(t[0]==="/"){if(!Wl.test(t))throw new Error(`Invalid JSON-pointer: ${t}`);s=t,o=ne.default.rootData}else{const c=Hl.exec(t);if(!c)throw new Error(`Invalid JSON-pointer: ${t}`);const u=+c[1];if(s=c[2],s==="#"){if(u>=e)throw new Error(l("property/index",u));return n[e-u]}if(u>e)throw new Error(l("data",u));if(o=r[e-u],!s)return o}let a=o;const i=s.split("/");for(const c of i)c&&(o=(0,Q._)`${o}${(0,Q.getProperty)((0,Mt.unescapeJsonPointer)(c))}`,a=(0,Q._)`${a} && ${o}`);return a;function l(c,u){return`Cannot access ${c} ${u} levels up, current level is ${e}`}}yt.getData=ya;var hn={};Object.defineProperty(hn,"__esModule",{value:!0});class Gl extends Error{constructor(e){super("validation failed"),this.errors=e,this.ajv=this.validation=!0}}hn.default=Gl;var mn={};Object.defineProperty(mn,"__esModule",{value:!0});const En=Ke;class Jl extends Error{constructor(e,r,n,s){super(s||`can't resolve reference ${n} from id ${r}`),this.missingRef=(0,En.resolveUrl)(e,r,n),this.missingSchema=(0,En.normalizeId)((0,En.getFullPath)(e,this.missingRef))}}mn.default=Jl;var nt={};Object.defineProperty(nt,"__esModule",{value:!0});nt.resolveSchema=nt.getCompilingSchema=nt.resolveRef=nt.compileSchema=nt.SchemaEnv=void 0;const pt=le,Xl=hn,Jt=Nt,vt=Ke,Gs=de,Yl=yt;class pn{constructor(e){var r;this.refs={},this.dynamicAnchors={};let n;typeof e.schema=="object"&&(n=e.schema),this.schema=e.schema,this.schemaId=e.schemaId,this.root=e.root||this,this.baseId=(r=e.baseId)!==null&&r!==void 0?r:(0,vt.normalizeId)(n==null?void 0:n[e.schemaId||"$id"]),this.schemaPath=e.schemaPath,this.localRefs=e.localRefs,this.meta=e.meta,this.$async=n==null?void 0:n.$async,this.refs={}}}nt.SchemaEnv=pn;function Wn(t){const e=ba.call(this,t);if(e)return e;const r=(0,vt.getFullPath)(this.opts.uriResolver,t.root.baseId),{es5:n,lines:s}=this.opts.code,{ownProperties:o}=this.opts,a=new pt.CodeGen(this.scope,{es5:n,lines:s,ownProperties:o});let i;t.$async&&(i=a.scopeValue("Error",{ref:Xl.default,code:(0,pt._)`require("ajv/dist/runtime/validation_error").default`}));const l=a.scopeName("validate");t.validateName=l;const c={gen:a,allErrors:this.opts.allErrors,data:Jt.default.data,parentData:Jt.default.parentData,parentDataProperty:Jt.default.parentDataProperty,dataNames:[Jt.default.data],dataPathArr:[pt.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:a.scopeValue("schema",this.opts.code.source===!0?{ref:t.schema,code:(0,pt.stringify)(t.schema)}:{ref:t.schema}),validateName:l,ValidationError:i,schema:t.schema,schemaEnv:t,rootId:r,baseId:t.baseId||r,schemaPath:pt.nil,errSchemaPath:t.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,pt._)`""`,opts:this.opts,self:this};let u;try{this._compilations.add(t),(0,Yl.validateFunctionCode)(c),a.optimize(this.opts.code.optimize);const f=a.toString();u=`${a.scopeRefs(Jt.default.scope)}return ${f}`,this.opts.code.process&&(u=this.opts.code.process(u,t));const y=new Function(`${Jt.default.self}`,`${Jt.default.scope}`,u)(this,this.scope.get());if(this.scope.value(l,{ref:y}),y.errors=null,y.schema=t.schema,y.schemaEnv=t,t.$async&&(y.$async=!0),this.opts.code.source===!0&&(y.source={validateName:l,validateCode:f,scopeValues:a._values}),this.opts.unevaluated){const{props:p,items:g}=c;y.evaluated={props:p instanceof pt.Name?void 0:p,items:g instanceof pt.Name?void 0:g,dynamicProps:p instanceof pt.Name,dynamicItems:g instanceof pt.Name},y.source&&(y.source.evaluated=(0,pt.stringify)(y.evaluated))}return t.validate=y,t}catch(f){throw delete t.validate,delete t.validateName,u&&this.logger.error("Error compiling schema, function code:",u),f}finally{this._compilations.delete(t)}}nt.compileSchema=Wn;function Zl(t,e,r){var n;r=(0,vt.resolveUrl)(this.opts.uriResolver,e,r);const s=t.refs[r];if(s)return s;let o=ec.call(this,t,r);if(o===void 0){const a=(n=t.localRefs)===null||n===void 0?void 0:n[r],{schemaId:i}=this.opts;a&&(o=new pn({schema:a,schemaId:i,root:t,baseId:e}))}if(o!==void 0)return t.refs[r]=Ql.call(this,o)}nt.resolveRef=Zl;function Ql(t){return(0,vt.inlineRef)(t.schema,this.opts.inlineRefs)?t.schema:t.validate?t:Wn.call(this,t)}function ba(t){for(const e of this._compilations)if(xl(e,t))return e}nt.getCompilingSchema=ba;function xl(t,e){return t.schema===e.schema&&t.root===e.root&&t.baseId===e.baseId}function ec(t,e){let r;for(;typeof(r=this.refs[e])=="string";)e=r;return r||this.schemas[e]||_n.call(this,t,e)}function _n(t,e){const r=this.opts.uriResolver.parse(e),n=(0,vt._getFullPath)(this.opts.uriResolver,r);let s=(0,vt.getFullPath)(this.opts.uriResolver,t.baseId,void 0);if(Object.keys(t.schema).length>0&&n===s)return Sn.call(this,r,t);const o=(0,vt.normalizeId)(n),a=this.refs[o]||this.schemas[o];if(typeof a=="string"){const i=_n.call(this,t,a);return typeof(i==null?void 0:i.schema)!="object"?void 0:Sn.call(this,r,i)}if(typeof(a==null?void 0:a.schema)=="object"){if(a.validate||Wn.call(this,a),o===(0,vt.normalizeId)(e)){const{schema:i}=a,{schemaId:l}=this.opts,c=i[l];return c&&(s=(0,vt.resolveUrl)(this.opts.uriResolver,s,c)),new pn({schema:i,schemaId:l,root:t,baseId:s})}return Sn.call(this,r,a)}}nt.resolveSchema=_n;const tc=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function Sn(t,{baseId:e,schema:r,root:n}){var s;if(((s=t.fragment)===null||s===void 0?void 0:s[0])!=="/")return;for(const i of t.fragment.slice(1).split("/")){if(typeof r=="boolean")return;const l=r[(0,Gs.unescapeFragment)(i)];if(l===void 0)return;r=l;const c=typeof r=="object"&&r[this.opts.schemaId];!tc.has(i)&&c&&(e=(0,vt.resolveUrl)(this.opts.uriResolver,e,c))}let o;if(typeof r!="boolean"&&r.$ref&&!(0,Gs.schemaHasRulesButRef)(r,this.RULES)){const i=(0,vt.resolveUrl)(this.opts.uriResolver,e,r.$ref);o=_n.call(this,n,i)}const{schemaId:a}=this.opts;if(o=o||new pn({schema:r,schemaId:a,root:n,baseId:e}),o.schema!==o.root.schema)return o}const rc="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",nc="Meta-schema for $data reference (JSON AnySchema extension proposal)",sc="object",oc=["$data"],ac={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},ic=!1;var lc={$id:rc,description:nc,type:sc,required:oc,properties:ac,additionalProperties:ic},Hn={},In={exports:{}};/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */(function(t,e){(function(r,n){n(e)})(Ti,function(r){function n(){for(var $=arguments.length,h=Array($),E=0;E<$;E++)h[E]=arguments[E];if(h.length>1){h[0]=h[0].slice(0,-1);for(var D=h.length-1,j=1;j<D;++j)h[j]=h[j].slice(1,-1);return h[D]=h[D].slice(1),h.join("")}else return h[0]}function s($){return"(?:"+$+")"}function o($){return $===void 0?"undefined":$===null?"null":Object.prototype.toString.call($).split(" ").pop().split("]").shift().toLowerCase()}function a($){return $.toUpperCase()}function i($){return $!=null?$ instanceof Array?$:typeof $.length!="number"||$.split||$.setInterval||$.call?[$]:Array.prototype.slice.call($):[]}function l($,h){var E=$;if(h)for(var D in h)E[D]=h[D];return E}function c($){var h="[A-Za-z]",E="[0-9]",D=n(E,"[A-Fa-f]"),j=s(s("%[EFef]"+D+"%"+D+D+"%"+D+D)+"|"+s("%[89A-Fa-f]"+D+"%"+D+D)+"|"+s("%"+D+D)),x="[\\:\\/\\?\\#\\[\\]\\@]",ee="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",fe=n(x,ee),we=$?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",Ae=$?"[\\uE000-\\uF8FF]":"[]",ce=n(h,E,"[\\-\\.\\_\\~]",we);s(h+n(h,E,"[\\+\\-\\.]")+"*"),s(s(j+"|"+n(ce,ee,"[\\:]"))+"*");var ve=s(s("25[0-5]")+"|"+s("2[0-4]"+E)+"|"+s("1"+E+E)+"|"+s("0?[1-9]"+E)+"|0?0?"+E),Re=s(ve+"\\."+ve+"\\."+ve+"\\."+ve),se=s(D+"{1,4}"),Se=s(s(se+"\\:"+se)+"|"+Re),ze=s(s(se+"\\:")+"{6}"+Se),Pe=s("\\:\\:"+s(se+"\\:")+"{5}"+Se),Vt=s(s(se)+"?\\:\\:"+s(se+"\\:")+"{4}"+Se),$t=s(s(s(se+"\\:")+"{0,1}"+se)+"?\\:\\:"+s(se+"\\:")+"{3}"+Se),wt=s(s(s(se+"\\:")+"{0,2}"+se)+"?\\:\\:"+s(se+"\\:")+"{2}"+Se),ar=s(s(s(se+"\\:")+"{0,3}"+se)+"?\\:\\:"+se+"\\:"+Se),Ht=s(s(s(se+"\\:")+"{0,4}"+se)+"?\\:\\:"+Se),ut=s(s(s(se+"\\:")+"{0,5}"+se)+"?\\:\\:"+se),kt=s(s(s(se+"\\:")+"{0,6}"+se)+"?\\:\\:"),Gt=s([ze,Pe,Vt,$t,wt,ar,Ht,ut,kt].join("|")),At=s(s(ce+"|"+j)+"+");s("[vV]"+D+"+\\."+n(ce,ee,"[\\:]")+"+"),s(s(j+"|"+n(ce,ee))+"*");var br=s(j+"|"+n(ce,ee,"[\\:\\@]"));return s(s(j+"|"+n(ce,ee,"[\\@]"))+"+"),s(s(br+"|"+n("[\\/\\?]",Ae))+"*"),{NOT_SCHEME:new RegExp(n("[^]",h,E,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(n("[^\\%\\:]",ce,ee),"g"),NOT_HOST:new RegExp(n("[^\\%\\[\\]\\:]",ce,ee),"g"),NOT_PATH:new RegExp(n("[^\\%\\/\\:\\@]",ce,ee),"g"),NOT_PATH_NOSCHEME:new RegExp(n("[^\\%\\/\\@]",ce,ee),"g"),NOT_QUERY:new RegExp(n("[^\\%]",ce,ee,"[\\:\\@\\/\\?]",Ae),"g"),NOT_FRAGMENT:new RegExp(n("[^\\%]",ce,ee,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(n("[^]",ce,ee),"g"),UNRESERVED:new RegExp(ce,"g"),OTHER_CHARS:new RegExp(n("[^\\%]",ce,fe),"g"),PCT_ENCODED:new RegExp(j,"g"),IPV4ADDRESS:new RegExp("^("+Re+")$"),IPV6ADDRESS:new RegExp("^\\[?("+Gt+")"+s(s("\\%25|\\%(?!"+D+"{2})")+"("+At+")")+"?\\]?$")}}var u=c(!1),f=c(!0),m=function(){function $(h,E){var D=[],j=!0,x=!1,ee=void 0;try{for(var fe=h[Symbol.iterator](),we;!(j=(we=fe.next()).done)&&(D.push(we.value),!(E&&D.length===E));j=!0);}catch(Ae){x=!0,ee=Ae}finally{try{!j&&fe.return&&fe.return()}finally{if(x)throw ee}}return D}return function(h,E){if(Array.isArray(h))return h;if(Symbol.iterator in Object(h))return $(h,E);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),y=function($){if(Array.isArray($)){for(var h=0,E=Array($.length);h<$.length;h++)E[h]=$[h];return E}else return Array.from($)},p=2147483647,g=36,v=1,_=26,b=38,S=700,O=72,A=128,k="-",R=/^xn--/,U=/[^\0-\x7E]/,Z=/[\x2E\u3002\uFF0E\uFF61]/g,Y={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},ue=g-v,te=Math.floor,_e=String.fromCharCode;function re($){throw new RangeError(Y[$])}function me($,h){for(var E=[],D=$.length;D--;)E[D]=h($[D]);return E}function Le($,h){var E=$.split("@"),D="";E.length>1&&(D=E[0]+"@",$=E[1]),$=$.replace(Z,".");var j=$.split("."),x=me(j,h).join(".");return D+x}function He($){for(var h=[],E=0,D=$.length;E<D;){var j=$.charCodeAt(E++);if(j>=55296&&j<=56319&&E<D){var x=$.charCodeAt(E++);(x&64512)==56320?h.push(((j&1023)<<10)+(x&1023)+65536):(h.push(j),E--)}else h.push(j)}return h}var ge=function(h){return String.fromCodePoint.apply(String,y(h))},xe=function(h){return h-48<10?h-22:h-65<26?h-65:h-97<26?h-97:g},K=function(h,E){return h+22+75*(h<26)-((E!=0)<<5)},N=function(h,E,D){var j=0;for(h=D?te(h/S):h>>1,h+=te(h/E);h>ue*_>>1;j+=g)h=te(h/ue);return te(j+(ue+1)*h/(h+b))},F=function(h){var E=[],D=h.length,j=0,x=A,ee=O,fe=h.lastIndexOf(k);fe<0&&(fe=0);for(var we=0;we<fe;++we)h.charCodeAt(we)>=128&&re("not-basic"),E.push(h.charCodeAt(we));for(var Ae=fe>0?fe+1:0;Ae<D;){for(var ce=j,ve=1,Re=g;;Re+=g){Ae>=D&&re("invalid-input");var se=xe(h.charCodeAt(Ae++));(se>=g||se>te((p-j)/ve))&&re("overflow"),j+=se*ve;var Se=Re<=ee?v:Re>=ee+_?_:Re-ee;if(se<Se)break;var ze=g-Se;ve>te(p/ze)&&re("overflow"),ve*=ze}var Pe=E.length+1;ee=N(j-ce,Pe,ce==0),te(j/Pe)>p-x&&re("overflow"),x+=te(j/Pe),j%=Pe,E.splice(j++,0,x)}return String.fromCodePoint.apply(String,E)},T=function(h){var E=[];h=He(h);var D=h.length,j=A,x=0,ee=O,fe=!0,we=!1,Ae=void 0;try{for(var ce=h[Symbol.iterator](),ve;!(fe=(ve=ce.next()).done);fe=!0){var Re=ve.value;Re<128&&E.push(_e(Re))}}catch($r){we=!0,Ae=$r}finally{try{!fe&&ce.return&&ce.return()}finally{if(we)throw Ae}}var se=E.length,Se=se;for(se&&E.push(k);Se<D;){var ze=p,Pe=!0,Vt=!1,$t=void 0;try{for(var wt=h[Symbol.iterator](),ar;!(Pe=(ar=wt.next()).done);Pe=!0){var Ht=ar.value;Ht>=j&&Ht<ze&&(ze=Ht)}}catch($r){Vt=!0,$t=$r}finally{try{!Pe&&wt.return&&wt.return()}finally{if(Vt)throw $t}}var ut=Se+1;ze-j>te((p-x)/ut)&&re("overflow"),x+=(ze-j)*ut,j=ze;var kt=!0,Gt=!1,At=void 0;try{for(var br=h[Symbol.iterator](),Ts;!(kt=(Ts=br.next()).done);kt=!0){var As=Ts.value;if(As<j&&++x>p&&re("overflow"),As==j){for(var Lr=x,qr=g;;qr+=g){var Br=qr<=ee?v:qr>=ee+_?_:qr-ee;if(Lr<Br)break;var Rs=Lr-Br,js=g-Br;E.push(_e(K(Br+Rs%js,0))),Lr=te(Rs/js)}E.push(_e(K(Lr,0))),ee=N(x,ut,Se==se),x=0,++Se}}}catch($r){Gt=!0,At=$r}finally{try{!kt&&br.return&&br.return()}finally{if(Gt)throw At}}++x,++j}return E.join("")},d=function(h){return Le(h,function(E){return R.test(E)?F(E.slice(4).toLowerCase()):E})},w=function(h){return Le(h,function(E){return U.test(E)?"xn--"+T(E):E})},M={version:"2.1.0",ucs2:{decode:He,encode:ge},decode:F,encode:T,toASCII:w,toUnicode:d},H={};function J($){var h=$.charCodeAt(0),E=void 0;return h<16?E="%0"+h.toString(16).toUpperCase():h<128?E="%"+h.toString(16).toUpperCase():h<2048?E="%"+(h>>6|192).toString(16).toUpperCase()+"%"+(h&63|128).toString(16).toUpperCase():E="%"+(h>>12|224).toString(16).toUpperCase()+"%"+(h>>6&63|128).toString(16).toUpperCase()+"%"+(h&63|128).toString(16).toUpperCase(),E}function ae($){for(var h="",E=0,D=$.length;E<D;){var j=parseInt($.substr(E+1,2),16);if(j<128)h+=String.fromCharCode(j),E+=3;else if(j>=194&&j<224){if(D-E>=6){var x=parseInt($.substr(E+4,2),16);h+=String.fromCharCode((j&31)<<6|x&63)}else h+=$.substr(E,6);E+=6}else if(j>=224){if(D-E>=9){var ee=parseInt($.substr(E+4,2),16),fe=parseInt($.substr(E+7,2),16);h+=String.fromCharCode((j&15)<<12|(ee&63)<<6|fe&63)}else h+=$.substr(E,9);E+=9}else h+=$.substr(E,3),E+=3}return h}function oe($,h){function E(D){var j=ae(D);return j.match(h.UNRESERVED)?j:D}return $.scheme&&($.scheme=String($.scheme).replace(h.PCT_ENCODED,E).toLowerCase().replace(h.NOT_SCHEME,"")),$.userinfo!==void 0&&($.userinfo=String($.userinfo).replace(h.PCT_ENCODED,E).replace(h.NOT_USERINFO,J).replace(h.PCT_ENCODED,a)),$.host!==void 0&&($.host=String($.host).replace(h.PCT_ENCODED,E).toLowerCase().replace(h.NOT_HOST,J).replace(h.PCT_ENCODED,a)),$.path!==void 0&&($.path=String($.path).replace(h.PCT_ENCODED,E).replace($.scheme?h.NOT_PATH:h.NOT_PATH_NOSCHEME,J).replace(h.PCT_ENCODED,a)),$.query!==void 0&&($.query=String($.query).replace(h.PCT_ENCODED,E).replace(h.NOT_QUERY,J).replace(h.PCT_ENCODED,a)),$.fragment!==void 0&&($.fragment=String($.fragment).replace(h.PCT_ENCODED,E).replace(h.NOT_FRAGMENT,J).replace(h.PCT_ENCODED,a)),$}function he($){return $.replace(/^0*(.*)/,"$1")||"0"}function Ie($,h){var E=$.match(h.IPV4ADDRESS)||[],D=m(E,2),j=D[1];return j?j.split(".").map(he).join("."):$}function st($,h){var E=$.match(h.IPV6ADDRESS)||[],D=m(E,3),j=D[1],x=D[2];if(j){for(var ee=j.toLowerCase().split("::").reverse(),fe=m(ee,2),we=fe[0],Ae=fe[1],ce=Ae?Ae.split(":").map(he):[],ve=we.split(":").map(he),Re=h.IPV4ADDRESS.test(ve[ve.length-1]),se=Re?7:8,Se=ve.length-se,ze=Array(se),Pe=0;Pe<se;++Pe)ze[Pe]=ce[Pe]||ve[Se+Pe]||"";Re&&(ze[se-1]=Ie(ze[se-1],h));var Vt=ze.reduce(function(ut,kt,Gt){if(!kt||kt==="0"){var At=ut[ut.length-1];At&&At.index+At.length===Gt?At.length++:ut.push({index:Gt,length:1})}return ut},[]),$t=Vt.sort(function(ut,kt){return kt.length-ut.length})[0],wt=void 0;if($t&&$t.length>1){var ar=ze.slice(0,$t.index),Ht=ze.slice($t.index+$t.length);wt=ar.join(":")+"::"+Ht.join(":")}else wt=ze.join(":");return x&&(wt+="%"+x),wt}else return $}var Ge=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,lt="".match(/(){0}/)[1]===void 0;function Ce($){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},E={},D=h.iri!==!1?f:u;h.reference==="suffix"&&($=(h.scheme?h.scheme+":":"")+"//"+$);var j=$.match(Ge);if(j){lt?(E.scheme=j[1],E.userinfo=j[3],E.host=j[4],E.port=parseInt(j[5],10),E.path=j[6]||"",E.query=j[7],E.fragment=j[8],isNaN(E.port)&&(E.port=j[5])):(E.scheme=j[1]||void 0,E.userinfo=$.indexOf("@")!==-1?j[3]:void 0,E.host=$.indexOf("//")!==-1?j[4]:void 0,E.port=parseInt(j[5],10),E.path=j[6]||"",E.query=$.indexOf("?")!==-1?j[7]:void 0,E.fragment=$.indexOf("#")!==-1?j[8]:void 0,isNaN(E.port)&&(E.port=$.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?j[4]:void 0)),E.host&&(E.host=st(Ie(E.host,D),D)),E.scheme===void 0&&E.userinfo===void 0&&E.host===void 0&&E.port===void 0&&!E.path&&E.query===void 0?E.reference="same-document":E.scheme===void 0?E.reference="relative":E.fragment===void 0?E.reference="absolute":E.reference="uri",h.reference&&h.reference!=="suffix"&&h.reference!==E.reference&&(E.error=E.error||"URI is not a "+h.reference+" reference.");var x=H[(h.scheme||E.scheme||"").toLowerCase()];if(!h.unicodeSupport&&(!x||!x.unicodeSupport)){if(E.host&&(h.domainHost||x&&x.domainHost))try{E.host=M.toASCII(E.host.replace(D.PCT_ENCODED,ae).toLowerCase())}catch(ee){E.error=E.error||"Host's domain name can not be converted to ASCII via punycode: "+ee}oe(E,u)}else oe(E,D);x&&x.parse&&x.parse(E,h)}else E.error=E.error||"URI can not be parsed.";return E}function dt($,h){var E=h.iri!==!1?f:u,D=[];return $.userinfo!==void 0&&(D.push($.userinfo),D.push("@")),$.host!==void 0&&D.push(st(Ie(String($.host),E),E).replace(E.IPV6ADDRESS,function(j,x,ee){return"["+x+(ee?"%25"+ee:"")+"]"})),(typeof $.port=="number"||typeof $.port=="string")&&(D.push(":"),D.push(String($.port))),D.length?D.join(""):void 0}var ht=/^\.\.?\//,Je=/^\/\.(\/|$)/,ot=/^\/\.\.(\/|$)/,ct=/^\/?(?:.|\n)*?(?=\/|$)/;function Xe($){for(var h=[];$.length;)if($.match(ht))$=$.replace(ht,"");else if($.match(Je))$=$.replace(Je,"/");else if($.match(ot))$=$.replace(ot,"/"),h.pop();else if($==="."||$==="..")$="";else{var E=$.match(ct);if(E){var D=E[0];$=$.slice(D.length),h.push(D)}else throw new Error("Unexpected dot segment condition")}return h.join("")}function $e($){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},E=h.iri?f:u,D=[],j=H[(h.scheme||$.scheme||"").toLowerCase()];if(j&&j.serialize&&j.serialize($,h),$.host&&!E.IPV6ADDRESS.test($.host)){if(h.domainHost||j&&j.domainHost)try{$.host=h.iri?M.toUnicode($.host):M.toASCII($.host.replace(E.PCT_ENCODED,ae).toLowerCase())}catch(fe){$.error=$.error||"Host's domain name can not be converted to "+(h.iri?"Unicode":"ASCII")+" via punycode: "+fe}}oe($,E),h.reference!=="suffix"&&$.scheme&&(D.push($.scheme),D.push(":"));var x=dt($,h);if(x!==void 0&&(h.reference!=="suffix"&&D.push("//"),D.push(x),$.path&&$.path.charAt(0)!=="/"&&D.push("/")),$.path!==void 0){var ee=$.path;!h.absolutePath&&(!j||!j.absolutePath)&&(ee=Xe(ee)),x===void 0&&(ee=ee.replace(/^\/\//,"/%2F")),D.push(ee)}return $.query!==void 0&&(D.push("?"),D.push($.query)),$.fragment!==void 0&&(D.push("#"),D.push($.fragment)),D.join("")}function pe($,h){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},D=arguments[3],j={};return D||($=Ce($e($,E),E),h=Ce($e(h,E),E)),E=E||{},!E.tolerant&&h.scheme?(j.scheme=h.scheme,j.userinfo=h.userinfo,j.host=h.host,j.port=h.port,j.path=Xe(h.path||""),j.query=h.query):(h.userinfo!==void 0||h.host!==void 0||h.port!==void 0?(j.userinfo=h.userinfo,j.host=h.host,j.port=h.port,j.path=Xe(h.path||""),j.query=h.query):(h.path?(h.path.charAt(0)==="/"?j.path=Xe(h.path):(($.userinfo!==void 0||$.host!==void 0||$.port!==void 0)&&!$.path?j.path="/"+h.path:$.path?j.path=$.path.slice(0,$.path.lastIndexOf("/")+1)+h.path:j.path=h.path,j.path=Xe(j.path)),j.query=h.query):(j.path=$.path,h.query!==void 0?j.query=h.query:j.query=$.query),j.userinfo=$.userinfo,j.host=$.host,j.port=$.port),j.scheme=$.scheme),j.fragment=h.fragment,j}function De($,h,E){var D=l({scheme:"null"},E);return $e(pe(Ce($,D),Ce(h,D),D,!0),D)}function Ot($,h){return typeof $=="string"?$=$e(Ce($,h),h):o($)==="object"&&($=Ce($e($,h),h)),$}function Bt($,h,E){return typeof $=="string"?$=$e(Ce($,E),E):o($)==="object"&&($=$e($,E)),typeof h=="string"?h=$e(Ce(h,E),E):o(h)==="object"&&(h=$e(h,E)),$===h}function sr($,h){return $&&$.toString().replace(!h||!h.iri?u.ESCAPE:f.ESCAPE,J)}function tt($,h){return $&&$.toString().replace(!h||!h.iri?u.PCT_ENCODED:f.PCT_ENCODED,ae)}var Tt={scheme:"http",domainHost:!0,parse:function(h,E){return h.host||(h.error=h.error||"HTTP URIs must have a host."),h},serialize:function(h,E){var D=String(h.scheme).toLowerCase()==="https";return(h.port===(D?443:80)||h.port==="")&&(h.port=void 0),h.path||(h.path="/"),h}},Kt={scheme:"https",domainHost:Tt.domainHost,parse:Tt.parse,serialize:Tt.serialize};function Fr($){return typeof $.secure=="boolean"?$.secure:String($.scheme).toLowerCase()==="wss"}var Wt={scheme:"ws",domainHost:!0,parse:function(h,E){var D=h;return D.secure=Fr(D),D.resourceName=(D.path||"/")+(D.query?"?"+D.query:""),D.path=void 0,D.query=void 0,D},serialize:function(h,E){if((h.port===(Fr(h)?443:80)||h.port==="")&&(h.port=void 0),typeof h.secure=="boolean"&&(h.scheme=h.secure?"wss":"ws",h.secure=void 0),h.resourceName){var D=h.resourceName.split("?"),j=m(D,2),x=j[0],ee=j[1];h.path=x&&x!=="/"?x:void 0,h.query=ee,h.resourceName=void 0}return h.fragment=void 0,h}},Ur={scheme:"wss",domainHost:Wt.domainHost,parse:Wt.parse,serialize:Wt.serialize},L={},zt="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",Me="[0-9A-Fa-f]",Ye=s(s("%[EFef]"+Me+"%"+Me+Me+"%"+Me+Me)+"|"+s("%[89A-Fa-f]"+Me+"%"+Me+Me)+"|"+s("%"+Me+Me)),mt="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",yn="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",za=n(yn,'[\\"\\\\]'),Va="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",Fa=new RegExp(zt,"g"),or=new RegExp(Ye,"g"),Ua=new RegExp(n("[^]",mt,"[\\.]",'[\\"]',za),"g"),Ps=new RegExp(n("[^]",zt,Va),"g"),La=Ps;function bn($){var h=ae($);return h.match(Fa)?h:$}var Cs={scheme:"mailto",parse:function(h,E){var D=h,j=D.to=D.path?D.path.split(","):[];if(D.path=void 0,D.query){for(var x=!1,ee={},fe=D.query.split("&"),we=0,Ae=fe.length;we<Ae;++we){var ce=fe[we].split("=");switch(ce[0]){case"to":for(var ve=ce[1].split(","),Re=0,se=ve.length;Re<se;++Re)j.push(ve[Re]);break;case"subject":D.subject=tt(ce[1],E);break;case"body":D.body=tt(ce[1],E);break;default:x=!0,ee[tt(ce[0],E)]=tt(ce[1],E);break}}x&&(D.headers=ee)}D.query=void 0;for(var Se=0,ze=j.length;Se<ze;++Se){var Pe=j[Se].split("@");if(Pe[0]=tt(Pe[0]),E.unicodeSupport)Pe[1]=tt(Pe[1],E).toLowerCase();else try{Pe[1]=M.toASCII(tt(Pe[1],E).toLowerCase())}catch(Vt){D.error=D.error||"Email address's domain name can not be converted to ASCII via punycode: "+Vt}j[Se]=Pe.join("@")}return D},serialize:function(h,E){var D=h,j=i(h.to);if(j){for(var x=0,ee=j.length;x<ee;++x){var fe=String(j[x]),we=fe.lastIndexOf("@"),Ae=fe.slice(0,we).replace(or,bn).replace(or,a).replace(Ua,J),ce=fe.slice(we+1);try{ce=E.iri?M.toUnicode(ce):M.toASCII(tt(ce,E).toLowerCase())}catch(Se){D.error=D.error||"Email address's domain name can not be converted to "+(E.iri?"Unicode":"ASCII")+" via punycode: "+Se}j[x]=Ae+"@"+ce}D.path=j.join(",")}var ve=h.headers=h.headers||{};h.subject&&(ve.subject=h.subject),h.body&&(ve.body=h.body);var Re=[];for(var se in ve)ve[se]!==L[se]&&Re.push(se.replace(or,bn).replace(or,a).replace(Ps,J)+"="+ve[se].replace(or,bn).replace(or,a).replace(La,J));return Re.length&&(D.query=Re.join("&")),D}},qa=/^([^\:]+)\:(.*)/,Ns={scheme:"urn",parse:function(h,E){var D=h.path&&h.path.match(qa),j=h;if(D){var x=E.scheme||j.scheme||"urn",ee=D[1].toLowerCase(),fe=D[2],we=x+":"+(E.nid||ee),Ae=H[we];j.nid=ee,j.nss=fe,j.path=void 0,Ae&&(j=Ae.parse(j,E))}else j.error=j.error||"URN can not be parsed.";return j},serialize:function(h,E){var D=E.scheme||h.scheme||"urn",j=h.nid,x=D+":"+(E.nid||j),ee=H[x];ee&&(h=ee.serialize(h,E));var fe=h,we=h.nss;return fe.path=(j||E.nid)+":"+we,fe}},Ba=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,Os={scheme:"urn:uuid",parse:function(h,E){var D=h;return D.uuid=D.nss,D.nss=void 0,!E.tolerant&&(!D.uuid||!D.uuid.match(Ba))&&(D.error=D.error||"UUID is not valid."),D},serialize:function(h,E){var D=h;return D.nss=(h.uuid||"").toLowerCase(),D}};H[Tt.scheme]=Tt,H[Kt.scheme]=Kt,H[Wt.scheme]=Wt,H[Ur.scheme]=Ur,H[Cs.scheme]=Cs,H[Ns.scheme]=Ns,H[Os.scheme]=Os,r.SCHEMES=H,r.pctEncChar=J,r.pctDecChars=ae,r.parse=Ce,r.removeDotSegments=Xe,r.serialize=$e,r.resolveComponents=pe,r.resolve=De,r.normalize=Ot,r.equal=Bt,r.escapeComponent=sr,r.unescapeComponent=tt,Object.defineProperty(r,"__esModule",{value:!0})})})(In,In.exports);Object.defineProperty(Hn,"__esModule",{value:!0});const $a=In.exports;$a.code='require("ajv/dist/runtime/uri").default';Hn.default=$a;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;var e=yt;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return e.KeywordCxt}});var r=le;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const n=hn,s=mn,o=xt,a=nt,i=le,l=Ke,c=Mr,u=de,f=lc,m=Hn,y=(K,N)=>new RegExp(K,N);y.code="new RegExp";const p=["removeAdditional","useDefaults","coerceTypes"],g=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),v={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},_={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},b=200;function S(K){var N,F,T,d,w,M,H,J,ae,oe,he,Ie,st,Ge,lt,Ce,dt,ht,Je,ot,ct,Xe,$e,pe,De;const Ot=K.strict,Bt=(N=K.code)===null||N===void 0?void 0:N.optimize,sr=Bt===!0||Bt===void 0?1:Bt||0,tt=(T=(F=K.code)===null||F===void 0?void 0:F.regExp)!==null&&T!==void 0?T:y,Tt=(d=K.uriResolver)!==null&&d!==void 0?d:m.default;return{strictSchema:(M=(w=K.strictSchema)!==null&&w!==void 0?w:Ot)!==null&&M!==void 0?M:!0,strictNumbers:(J=(H=K.strictNumbers)!==null&&H!==void 0?H:Ot)!==null&&J!==void 0?J:!0,strictTypes:(oe=(ae=K.strictTypes)!==null&&ae!==void 0?ae:Ot)!==null&&oe!==void 0?oe:"log",strictTuples:(Ie=(he=K.strictTuples)!==null&&he!==void 0?he:Ot)!==null&&Ie!==void 0?Ie:"log",strictRequired:(Ge=(st=K.strictRequired)!==null&&st!==void 0?st:Ot)!==null&&Ge!==void 0?Ge:!1,code:K.code?Rt(Ne({},K.code),{optimize:sr,regExp:tt}):{optimize:sr,regExp:tt},loopRequired:(lt=K.loopRequired)!==null&&lt!==void 0?lt:b,loopEnum:(Ce=K.loopEnum)!==null&&Ce!==void 0?Ce:b,meta:(dt=K.meta)!==null&&dt!==void 0?dt:!0,messages:(ht=K.messages)!==null&&ht!==void 0?ht:!0,inlineRefs:(Je=K.inlineRefs)!==null&&Je!==void 0?Je:!0,schemaId:(ot=K.schemaId)!==null&&ot!==void 0?ot:"$id",addUsedSchema:(ct=K.addUsedSchema)!==null&&ct!==void 0?ct:!0,validateSchema:(Xe=K.validateSchema)!==null&&Xe!==void 0?Xe:!0,validateFormats:($e=K.validateFormats)!==null&&$e!==void 0?$e:!0,unicodeRegExp:(pe=K.unicodeRegExp)!==null&&pe!==void 0?pe:!0,int32range:(De=K.int32range)!==null&&De!==void 0?De:!0,uriResolver:Tt}}class O{constructor(N={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,N=this.opts=Ne(Ne({},N),S(N));const{es5:F,lines:T}=this.opts.code;this.scope=new i.ValueScope({scope:{},prefixes:g,es5:F,lines:T}),this.logger=te(N.logger);const d=N.validateFormats;N.validateFormats=!1,this.RULES=(0,o.getRules)(),A.call(this,v,N,"NOT SUPPORTED"),A.call(this,_,N,"DEPRECATED","warn"),this._metaOpts=Y.call(this),N.formats&&U.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),N.keywords&&Z.call(this,N.keywords),typeof N.meta=="object"&&this.addMetaSchema(N.meta),R.call(this),N.validateFormats=d}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:N,meta:F,schemaId:T}=this.opts;let d=f;T==="id"&&(d=Ne({},f),d.id=d.$id,delete d.$id),F&&N&&this.addMetaSchema(d,d[T],!1)}defaultMeta(){const{meta:N,schemaId:F}=this.opts;return this.opts.defaultMeta=typeof N=="object"?N[F]||N:void 0}validate(N,F){let T;if(typeof N=="string"){if(T=this.getSchema(N),!T)throw new Error(`no schema with key or ref "${N}"`)}else T=this.compile(N);const d=T(F);return"$async"in T||(this.errors=T.errors),d}compile(N,F){const T=this._addSchema(N,F);return T.validate||this._compileSchemaEnv(T)}compileAsync(N,F){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:T}=this.opts;return d.call(this,N,F);async function d(oe,he){await w.call(this,oe.$schema);const Ie=this._addSchema(oe,he);return Ie.validate||M.call(this,Ie)}async function w(oe){oe&&!this.getSchema(oe)&&await d.call(this,{$ref:oe},!0)}async function M(oe){try{return this._compileSchemaEnv(oe)}catch(he){if(!(he instanceof s.default))throw he;return H.call(this,he),await J.call(this,he.missingSchema),M.call(this,oe)}}function H({missingSchema:oe,missingRef:he}){if(this.refs[oe])throw new Error(`AnySchema ${oe} is loaded but ${he} cannot be resolved`)}async function J(oe){const he=await ae.call(this,oe);this.refs[oe]||await w.call(this,he.$schema),this.refs[oe]||this.addSchema(he,oe,F)}async function ae(oe){const he=this._loading[oe];if(he)return he;try{return await(this._loading[oe]=T(oe))}finally{delete this._loading[oe]}}}addSchema(N,F,T,d=this.opts.validateSchema){if(Array.isArray(N)){for(const M of N)this.addSchema(M,void 0,T,d);return this}let w;if(typeof N=="object"){const{schemaId:M}=this.opts;if(w=N[M],w!==void 0&&typeof w!="string")throw new Error(`schema ${M} must be string`)}return F=(0,l.normalizeId)(F||w),this._checkUnique(F),this.schemas[F]=this._addSchema(N,T,F,d,!0),this}addMetaSchema(N,F,T=this.opts.validateSchema){return this.addSchema(N,F,!0,T),this}validateSchema(N,F){if(typeof N=="boolean")return!0;let T;if(T=N.$schema,T!==void 0&&typeof T!="string")throw new Error("$schema must be a string");if(T=T||this.opts.defaultMeta||this.defaultMeta(),!T)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const d=this.validate(T,N);if(!d&&F){const w="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(w);else throw new Error(w)}return d}getSchema(N){let F;for(;typeof(F=k.call(this,N))=="string";)N=F;if(F===void 0){const{schemaId:T}=this.opts,d=new a.SchemaEnv({schema:{},schemaId:T});if(F=a.resolveSchema.call(this,d,N),!F)return;this.refs[N]=F}return F.validate||this._compileSchemaEnv(F)}removeSchema(N){if(N instanceof RegExp)return this._removeAllSchemas(this.schemas,N),this._removeAllSchemas(this.refs,N),this;switch(typeof N){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const F=k.call(this,N);return typeof F=="object"&&this._cache.delete(F.schema),delete this.schemas[N],delete this.refs[N],this}case"object":{const F=N;this._cache.delete(F);let T=N[this.opts.schemaId];return T&&(T=(0,l.normalizeId)(T),delete this.schemas[T],delete this.refs[T]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(N){for(const F of N)this.addKeyword(F);return this}addKeyword(N,F){let T;if(typeof N=="string")T=N,typeof F=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),F.keyword=T);else if(typeof N=="object"&&F===void 0){if(F=N,T=F.keyword,Array.isArray(T)&&!T.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(re.call(this,T,F),!F)return(0,u.eachItem)(T,w=>me.call(this,w)),this;He.call(this,F);const d=Rt(Ne({},F),{type:(0,c.getJSONTypes)(F.type),schemaType:(0,c.getJSONTypes)(F.schemaType)});return(0,u.eachItem)(T,d.type.length===0?w=>me.call(this,w,d):w=>d.type.forEach(M=>me.call(this,w,d,M))),this}getKeyword(N){const F=this.RULES.all[N];return typeof F=="object"?F.definition:!!F}removeKeyword(N){const{RULES:F}=this;delete F.keywords[N],delete F.all[N];for(const T of F.rules){const d=T.rules.findIndex(w=>w.keyword===N);d>=0&&T.rules.splice(d,1)}return this}addFormat(N,F){return typeof F=="string"&&(F=new RegExp(F)),this.formats[N]=F,this}errorsText(N=this.errors,{separator:F=", ",dataVar:T="data"}={}){return!N||N.length===0?"No errors":N.map(d=>`${T}${d.instancePath} ${d.message}`).reduce((d,w)=>d+F+w)}$dataMetaSchema(N,F){const T=this.RULES.all;N=JSON.parse(JSON.stringify(N));for(const d of F){const w=d.split("/").slice(1);let M=N;for(const H of w)M=M[H];for(const H in T){const J=T[H];if(typeof J!="object")continue;const{$data:ae}=J.definition,oe=M[H];ae&&oe&&(M[H]=xe(oe))}}return N}_removeAllSchemas(N,F){for(const T in N){const d=N[T];(!F||F.test(T))&&(typeof d=="string"?delete N[T]:d&&!d.meta&&(this._cache.delete(d.schema),delete N[T]))}}_addSchema(N,F,T,d=this.opts.validateSchema,w=this.opts.addUsedSchema){let M;const{schemaId:H}=this.opts;if(typeof N=="object")M=N[H];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof N!="boolean")throw new Error("schema must be object or boolean")}let J=this._cache.get(N);if(J!==void 0)return J;T=(0,l.normalizeId)(M||T);const ae=l.getSchemaRefs.call(this,N,T);return J=new a.SchemaEnv({schema:N,schemaId:H,meta:F,baseId:T,localRefs:ae}),this._cache.set(J.schema,J),w&&!T.startsWith("#")&&(T&&this._checkUnique(T),this.refs[T]=J),d&&this.validateSchema(N,!0),J}_checkUnique(N){if(this.schemas[N]||this.refs[N])throw new Error(`schema with key or id "${N}" already exists`)}_compileSchemaEnv(N){if(N.meta?this._compileMetaSchema(N):a.compileSchema.call(this,N),!N.validate)throw new Error("ajv implementation error");return N.validate}_compileMetaSchema(N){const F=this.opts;this.opts=this._metaOpts;try{a.compileSchema.call(this,N)}finally{this.opts=F}}}t.default=O,O.ValidationError=n.default,O.MissingRefError=s.default;function A(K,N,F,T="error"){for(const d in K){const w=d;w in N&&this.logger[T](`${F}: option ${d}. ${K[w]}`)}}function k(K){return K=(0,l.normalizeId)(K),this.schemas[K]||this.refs[K]}function R(){const K=this.opts.schemas;if(!!K)if(Array.isArray(K))this.addSchema(K);else for(const N in K)this.addSchema(K[N],N)}function U(){for(const K in this.opts.formats){const N=this.opts.formats[K];N&&this.addFormat(K,N)}}function Z(K){if(Array.isArray(K)){this.addVocabulary(K);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const N in K){const F=K[N];F.keyword||(F.keyword=N),this.addKeyword(F)}}function Y(){const K=Ne({},this.opts);for(const N of p)delete K[N];return K}const ue={log(){},warn(){},error(){}};function te(K){if(K===!1)return ue;if(K===void 0)return console;if(K.log&&K.warn&&K.error)return K;throw new Error("logger must implement log, warn and error methods")}const _e=/^[a-z_$][a-z0-9_$:-]*$/i;function re(K,N){const{RULES:F}=this;if((0,u.eachItem)(K,T=>{if(F.keywords[T])throw new Error(`Keyword ${T} is already defined`);if(!_e.test(T))throw new Error(`Keyword ${T} has invalid name`)}),!!N&&N.$data&&!("code"in N||"validate"in N))throw new Error('$data keyword must have "code" or "validate" function')}function me(K,N,F){var T;const d=N==null?void 0:N.post;if(F&&d)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:w}=this;let M=d?w.post:w.rules.find(({type:J})=>J===F);if(M||(M={type:F,rules:[]},w.rules.push(M)),w.keywords[K]=!0,!N)return;const H={keyword:K,definition:Rt(Ne({},N),{type:(0,c.getJSONTypes)(N.type),schemaType:(0,c.getJSONTypes)(N.schemaType)})};N.before?Le.call(this,M,H,N.before):M.rules.push(H),w.all[K]=H,(T=N.implements)===null||T===void 0||T.forEach(J=>this.addKeyword(J))}function Le(K,N,F){const T=K.rules.findIndex(d=>d.keyword===F);T>=0?K.rules.splice(T,0,N):(K.rules.push(N),this.logger.warn(`rule ${F} is not defined`))}function He(K){let{metaSchema:N}=K;N!==void 0&&(K.$data&&this.opts.$data&&(N=xe(N)),K.validateSchema=this.compile(N,!0))}const ge={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function xe(K){return{anyOf:[K,ge]}}})(Zo);var Gn={},Jn={},Xn={};Object.defineProperty(Xn,"__esModule",{value:!0});const cc={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};Xn.default=cc;var er={};Object.defineProperty(er,"__esModule",{value:!0});er.callRef=er.getValidate=void 0;const uc=mn,Js=ie,rt=le,lr=Nt,Xs=nt,Hr=de,fc={keyword:"$ref",schemaType:"string",code(t){const{gen:e,schema:r,it:n}=t,{baseId:s,schemaEnv:o,validateName:a,opts:i,self:l}=n,{root:c}=o;if((r==="#"||r==="#/")&&s===c.baseId)return f();const u=Xs.resolveRef.call(l,c,s,r);if(u===void 0)throw new uc.default(n.opts.uriResolver,s,r);if(u instanceof Xs.SchemaEnv)return m(u);return y(u);function f(){if(o===c)return en(t,a,o,o.$async);const p=e.scopeValue("root",{ref:c});return en(t,(0,rt._)`${p}.validate`,c,c.$async)}function m(p){const g=wa(t,p);en(t,g,p,p.$async)}function y(p){const g=e.scopeValue("schema",i.code.source===!0?{ref:p,code:(0,rt.stringify)(p)}:{ref:p}),v=e.name("valid"),_=t.subschema({schema:p,dataTypes:[],schemaPath:rt.nil,topSchemaRef:g,errSchemaPath:r},v);t.mergeEvaluated(_),t.ok(v)}}};function wa(t,e){const{gen:r}=t;return e.validate?r.scopeValue("validate",{ref:e.validate}):(0,rt._)`${r.scopeValue("wrapper",{ref:e})}.validate`}er.getValidate=wa;function en(t,e,r,n){const{gen:s,it:o}=t,{allErrors:a,schemaEnv:i,opts:l}=o,c=l.passContext?lr.default.this:rt.nil;n?u():f();function u(){if(!i.$async)throw new Error("async schema referenced by sync schema");const p=s.let("valid");s.try(()=>{s.code((0,rt._)`await ${(0,Js.callValidateCode)(t,e,c)}`),y(e),a||s.assign(p,!0)},g=>{s.if((0,rt._)`!(${g} instanceof ${o.ValidationError})`,()=>s.throw(g)),m(g),a||s.assign(p,!1)}),t.ok(p)}function f(){t.result((0,Js.callValidateCode)(t,e,c),()=>y(e),()=>m(e))}function m(p){const g=(0,rt._)`${p}.errors`;s.assign(lr.default.vErrors,(0,rt._)`${lr.default.vErrors} === null ? ${g} : ${lr.default.vErrors}.concat(${g})`),s.assign(lr.default.errors,(0,rt._)`${lr.default.vErrors}.length`)}function y(p){var g;if(!o.opts.unevaluated)return;const v=(g=r==null?void 0:r.validate)===null||g===void 0?void 0:g.evaluated;if(o.props!==!0)if(v&&!v.dynamicProps)v.props!==void 0&&(o.props=Hr.mergeEvaluated.props(s,v.props,o.props));else{const _=s.var("props",(0,rt._)`${p}.evaluated.props`);o.props=Hr.mergeEvaluated.props(s,_,o.props,rt.Name)}if(o.items!==!0)if(v&&!v.dynamicItems)v.items!==void 0&&(o.items=Hr.mergeEvaluated.items(s,v.items,o.items));else{const _=s.var("items",(0,rt._)`${p}.evaluated.items`);o.items=Hr.mergeEvaluated.items(s,_,o.items,rt.Name)}}}er.callRef=en;er.default=fc;Object.defineProperty(Jn,"__esModule",{value:!0});const dc=Xn,hc=er,mc=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",dc.default,hc.default];Jn.default=mc;var Yn={},Zn={};Object.defineProperty(Zn,"__esModule",{value:!0});const an=le,Ut=an.operators,ln={maximum:{okStr:"<=",ok:Ut.LTE,fail:Ut.GT},minimum:{okStr:">=",ok:Ut.GTE,fail:Ut.LT},exclusiveMaximum:{okStr:"<",ok:Ut.LT,fail:Ut.GTE},exclusiveMinimum:{okStr:">",ok:Ut.GT,fail:Ut.LTE}},pc={message:({keyword:t,schemaCode:e})=>(0,an.str)`must be ${ln[t].okStr} ${e}`,params:({keyword:t,schemaCode:e})=>(0,an._)`{comparison: ${ln[t].okStr}, limit: ${e}}`},_c={keyword:Object.keys(ln),type:"number",schemaType:"number",$data:!0,error:pc,code(t){const{keyword:e,data:r,schemaCode:n}=t;t.fail$data((0,an._)`${r} ${ln[e].fail} ${n} || isNaN(${r})`)}};Zn.default=_c;var Qn={};Object.defineProperty(Qn,"__esModule",{value:!0});const Nr=le,gc={message:({schemaCode:t})=>(0,Nr.str)`must be multiple of ${t}`,params:({schemaCode:t})=>(0,Nr._)`{multipleOf: ${t}}`},vc={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:gc,code(t){const{gen:e,data:r,schemaCode:n,it:s}=t,o=s.opts.multipleOfPrecision,a=e.let("res"),i=o?(0,Nr._)`Math.abs(Math.round(${a}) - ${a}) > 1e-${o}`:(0,Nr._)`${a} !== parseInt(${a})`;t.fail$data((0,Nr._)`(${n} === 0 || (${a} = ${r}/${n}, ${i}))`)}};Qn.default=vc;var xn={},es={};Object.defineProperty(es,"__esModule",{value:!0});function ka(t){const e=t.length;let r=0,n=0,s;for(;n<e;)r++,s=t.charCodeAt(n++),s>=55296&&s<=56319&&n<e&&(s=t.charCodeAt(n),(s&64512)===56320&&n++);return r}es.default=ka;ka.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty(xn,"__esModule",{value:!0});const Yt=le,yc=de,bc=es,$c={message({keyword:t,schemaCode:e}){const r=t==="maxLength"?"more":"fewer";return(0,Yt.str)`must NOT have ${r} than ${e} characters`},params:({schemaCode:t})=>(0,Yt._)`{limit: ${t}}`},wc={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:$c,code(t){const{keyword:e,data:r,schemaCode:n,it:s}=t,o=e==="maxLength"?Yt.operators.GT:Yt.operators.LT,a=s.opts.unicode===!1?(0,Yt._)`${r}.length`:(0,Yt._)`${(0,yc.useFunc)(t.gen,bc.default)}(${r})`;t.fail$data((0,Yt._)`${a} ${o} ${n}`)}};xn.default=wc;var ts={};Object.defineProperty(ts,"__esModule",{value:!0});const kc=ie,cn=le,Ec={message:({schemaCode:t})=>(0,cn.str)`must match pattern "${t}"`,params:({schemaCode:t})=>(0,cn._)`{pattern: ${t}}`},Sc={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:Ec,code(t){const{data:e,$data:r,schema:n,schemaCode:s,it:o}=t,a=o.opts.unicodeRegExp?"u":"",i=r?(0,cn._)`(new RegExp(${s}, ${a}))`:(0,kc.usePattern)(t,n);t.fail$data((0,cn._)`!${i}.test(${e})`)}};ts.default=Sc;var rs={};Object.defineProperty(rs,"__esModule",{value:!0});const Or=le,Pc={message({keyword:t,schemaCode:e}){const r=t==="maxProperties"?"more":"fewer";return(0,Or.str)`must NOT have ${r} than ${e} properties`},params:({schemaCode:t})=>(0,Or._)`{limit: ${t}}`},Cc={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:Pc,code(t){const{keyword:e,data:r,schemaCode:n}=t,s=e==="maxProperties"?Or.operators.GT:Or.operators.LT;t.fail$data((0,Or._)`Object.keys(${r}).length ${s} ${n}`)}};rs.default=Cc;var ns={};Object.defineProperty(ns,"__esModule",{value:!0});const Er=ie,Tr=le,Nc=de,Oc={message:({params:{missingProperty:t}})=>(0,Tr.str)`must have required property '${t}'`,params:({params:{missingProperty:t}})=>(0,Tr._)`{missingProperty: ${t}}`},Tc={keyword:"required",type:"object",schemaType:"array",$data:!0,error:Oc,code(t){const{gen:e,schema:r,schemaCode:n,data:s,$data:o,it:a}=t,{opts:i}=a;if(!o&&r.length===0)return;const l=r.length>=i.loopRequired;if(a.allErrors?c():u(),i.strictRequired){const y=t.parentSchema.properties,{definedProperties:p}=t.it;for(const g of r)if((y==null?void 0:y[g])===void 0&&!p.has(g)){const v=a.schemaEnv.baseId+a.errSchemaPath,_=`required property "${g}" is not defined at "${v}" (strictRequired)`;(0,Nc.checkStrictMode)(a,_,a.opts.strictRequired)}}function c(){if(l||o)t.block$data(Tr.nil,f);else for(const y of r)(0,Er.checkReportMissingProp)(t,y)}function u(){const y=e.let("missing");if(l||o){const p=e.let("valid",!0);t.block$data(p,()=>m(y,p)),t.ok(p)}else e.if((0,Er.checkMissingProp)(t,r,y)),(0,Er.reportMissingProp)(t,y),e.else()}function f(){e.forOf("prop",n,y=>{t.setParams({missingProperty:y}),e.if((0,Er.noPropertyInData)(e,s,y,i.ownProperties),()=>t.error())})}function m(y,p){t.setParams({missingProperty:y}),e.forOf(y,n,()=>{e.assign(p,(0,Er.propertyInData)(e,s,y,i.ownProperties)),e.if((0,Tr.not)(p),()=>{t.error(),e.break()})},Tr.nil)}}};ns.default=Tc;var ss={};Object.defineProperty(ss,"__esModule",{value:!0});const Ar=le,Ac={message({keyword:t,schemaCode:e}){const r=t==="maxItems"?"more":"fewer";return(0,Ar.str)`must NOT have ${r} than ${e} items`},params:({schemaCode:t})=>(0,Ar._)`{limit: ${t}}`},Rc={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:Ac,code(t){const{keyword:e,data:r,schemaCode:n}=t,s=e==="maxItems"?Ar.operators.GT:Ar.operators.LT;t.fail$data((0,Ar._)`${r}.length ${s} ${n}`)}};ss.default=Rc;var os={},zr={};Object.defineProperty(zr,"__esModule",{value:!0});const Ea=oa;Ea.code='require("ajv/dist/runtime/equal").default';zr.default=Ea;Object.defineProperty(os,"__esModule",{value:!0});const Pn=Mr,qe=le,jc=de,Ic=zr,Dc={message:({params:{i:t,j:e}})=>(0,qe.str)`must NOT have duplicate items (items ## ${e} and ${t} are identical)`,params:({params:{i:t,j:e}})=>(0,qe._)`{i: ${t}, j: ${e}}`},Mc={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:Dc,code(t){const{gen:e,data:r,$data:n,schema:s,parentSchema:o,schemaCode:a,it:i}=t;if(!n&&!s)return;const l=e.let("valid"),c=o.items?(0,Pn.getSchemaTypes)(o.items):[];t.block$data(l,u,(0,qe._)`${a} === false`),t.ok(l);function u(){const p=e.let("i",(0,qe._)`${r}.length`),g=e.let("j");t.setParams({i:p,j:g}),e.assign(l,!0),e.if((0,qe._)`${p} > 1`,()=>(f()?m:y)(p,g))}function f(){return c.length>0&&!c.some(p=>p==="object"||p==="array")}function m(p,g){const v=e.name("item"),_=(0,Pn.checkDataTypes)(c,v,i.opts.strictNumbers,Pn.DataType.Wrong),b=e.const("indices",(0,qe._)`{}`);e.for((0,qe._)`;${p}--;`,()=>{e.let(v,(0,qe._)`${r}[${p}]`),e.if(_,(0,qe._)`continue`),c.length>1&&e.if((0,qe._)`typeof ${v} == "string"`,(0,qe._)`${v} += "_"`),e.if((0,qe._)`typeof ${b}[${v}] == "number"`,()=>{e.assign(g,(0,qe._)`${b}[${v}]`),t.error(),e.assign(l,!1).break()}).code((0,qe._)`${b}[${v}] = ${p}`)})}function y(p,g){const v=(0,jc.useFunc)(e,Ic.default),_=e.name("outer");e.label(_).for((0,qe._)`;${p}--;`,()=>e.for((0,qe._)`${g} = ${p}; ${g}--;`,()=>e.if((0,qe._)`${v}(${r}[${p}], ${r}[${g}])`,()=>{t.error(),e.assign(l,!1).break(_)})))}}};os.default=Mc;var as={};Object.defineProperty(as,"__esModule",{value:!0});const Dn=le,zc=de,Vc=zr,Fc={message:"must be equal to constant",params:({schemaCode:t})=>(0,Dn._)`{allowedValue: ${t}}`},Uc={keyword:"const",$data:!0,error:Fc,code(t){const{gen:e,data:r,$data:n,schemaCode:s,schema:o}=t;n||o&&typeof o=="object"?t.fail$data((0,Dn._)`!${(0,zc.useFunc)(e,Vc.default)}(${r}, ${s})`):t.fail((0,Dn._)`${o} !== ${r}`)}};as.default=Uc;var is={};Object.defineProperty(is,"__esModule",{value:!0});const Pr=le,Lc=de,qc=zr,Bc={message:"must be equal to one of the allowed values",params:({schemaCode:t})=>(0,Pr._)`{allowedValues: ${t}}`},Kc={keyword:"enum",schemaType:"array",$data:!0,error:Bc,code(t){const{gen:e,data:r,$data:n,schema:s,schemaCode:o,it:a}=t;if(!n&&s.length===0)throw new Error("enum must have non-empty array");const i=s.length>=a.opts.loopEnum;let l;const c=()=>l!=null?l:l=(0,Lc.useFunc)(e,qc.default);let u;if(i||n)u=e.let("valid"),t.block$data(u,f);else{if(!Array.isArray(s))throw new Error("ajv implementation error");const y=e.const("vSchema",o);u=(0,Pr.or)(...s.map((p,g)=>m(y,g)))}t.pass(u);function f(){e.assign(u,!1),e.forOf("v",o,y=>e.if((0,Pr._)`${c()}(${r}, ${y})`,()=>e.assign(u,!0).break()))}function m(y,p){const g=s[p];return typeof g=="object"&&g!==null?(0,Pr._)`${c()}(${r}, ${y}[${p}])`:(0,Pr._)`${r} === ${g}`}}};is.default=Kc;Object.defineProperty(Yn,"__esModule",{value:!0});const Wc=Zn,Hc=Qn,Gc=xn,Jc=ts,Xc=rs,Yc=ns,Zc=ss,Qc=os,xc=as,eu=is,tu=[Wc.default,Hc.default,Gc.default,Jc.default,Xc.default,Yc.default,Zc.default,Qc.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},xc.default,eu.default];Yn.default=tu;var ls={},vr={};Object.defineProperty(vr,"__esModule",{value:!0});vr.validateAdditionalItems=void 0;const Zt=le,Mn=de,ru={message:({params:{len:t}})=>(0,Zt.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,Zt._)`{limit: ${t}}`},nu={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:ru,code(t){const{parentSchema:e,it:r}=t,{items:n}=e;if(!Array.isArray(n)){(0,Mn.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}Sa(t,n)}};function Sa(t,e){const{gen:r,schema:n,data:s,keyword:o,it:a}=t;a.items=!0;const i=r.const("len",(0,Zt._)`${s}.length`);if(n===!1)t.setParams({len:e.length}),t.pass((0,Zt._)`${i} <= ${e.length}`);else if(typeof n=="object"&&!(0,Mn.alwaysValidSchema)(a,n)){const c=r.var("valid",(0,Zt._)`${i} <= ${e.length}`);r.if((0,Zt.not)(c),()=>l(c)),t.ok(c)}function l(c){r.forRange("i",e.length,i,u=>{t.subschema({keyword:o,dataProp:u,dataPropType:Mn.Type.Num},c),a.allErrors||r.if((0,Zt.not)(c),()=>r.break())})}}vr.validateAdditionalItems=Sa;vr.default=nu;var cs={},yr={};Object.defineProperty(yr,"__esModule",{value:!0});yr.validateTuple=void 0;const Ys=le,tn=de,su=ie,ou={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(t){const{schema:e,it:r}=t;if(Array.isArray(e))return Pa(t,"additionalItems",e);r.items=!0,!(0,tn.alwaysValidSchema)(r,e)&&t.ok((0,su.validateArray)(t))}};function Pa(t,e,r=t.schema){const{gen:n,parentSchema:s,data:o,keyword:a,it:i}=t;u(s),i.opts.unevaluated&&r.length&&i.items!==!0&&(i.items=tn.mergeEvaluated.items(n,r.length,i.items));const l=n.name("valid"),c=n.const("len",(0,Ys._)`${o}.length`);r.forEach((f,m)=>{(0,tn.alwaysValidSchema)(i,f)||(n.if((0,Ys._)`${c} > ${m}`,()=>t.subschema({keyword:a,schemaProp:m,dataProp:m},l)),t.ok(l))});function u(f){const{opts:m,errSchemaPath:y}=i,p=r.length,g=p===f.minItems&&(p===f.maxItems||f[e]===!1);if(m.strictTuples&&!g){const v=`"${a}" is ${p}-tuple, but minItems or maxItems/${e} are not specified or different at path "${y}"`;(0,tn.checkStrictMode)(i,v,m.strictTuples)}}}yr.validateTuple=Pa;yr.default=ou;Object.defineProperty(cs,"__esModule",{value:!0});const au=yr,iu={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:t=>(0,au.validateTuple)(t,"items")};cs.default=iu;var us={};Object.defineProperty(us,"__esModule",{value:!0});const Zs=le,lu=de,cu=ie,uu=vr,fu={message:({params:{len:t}})=>(0,Zs.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,Zs._)`{limit: ${t}}`},du={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:fu,code(t){const{schema:e,parentSchema:r,it:n}=t,{prefixItems:s}=r;n.items=!0,!(0,lu.alwaysValidSchema)(n,e)&&(s?(0,uu.validateAdditionalItems)(t,s):t.ok((0,cu.validateArray)(t)))}};us.default=du;var fs={};Object.defineProperty(fs,"__esModule",{value:!0});const ft=le,Gr=de,hu={message:({params:{min:t,max:e}})=>e===void 0?(0,ft.str)`must contain at least ${t} valid item(s)`:(0,ft.str)`must contain at least ${t} and no more than ${e} valid item(s)`,params:({params:{min:t,max:e}})=>e===void 0?(0,ft._)`{minContains: ${t}}`:(0,ft._)`{minContains: ${t}, maxContains: ${e}}`},mu={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:hu,code(t){const{gen:e,schema:r,parentSchema:n,data:s,it:o}=t;let a,i;const{minContains:l,maxContains:c}=n;o.opts.next?(a=l===void 0?1:l,i=c):a=1;const u=e.const("len",(0,ft._)`${s}.length`);if(t.setParams({min:a,max:i}),i===void 0&&a===0){(0,Gr.checkStrictMode)(o,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(i!==void 0&&a>i){(0,Gr.checkStrictMode)(o,'"minContains" > "maxContains" is always invalid'),t.fail();return}if((0,Gr.alwaysValidSchema)(o,r)){let g=(0,ft._)`${u} >= ${a}`;i!==void 0&&(g=(0,ft._)`${g} && ${u} <= ${i}`),t.pass(g);return}o.items=!0;const f=e.name("valid");i===void 0&&a===1?y(f,()=>e.if(f,()=>e.break())):a===0?(e.let(f,!0),i!==void 0&&e.if((0,ft._)`${s}.length > 0`,m)):(e.let(f,!1),m()),t.result(f,()=>t.reset());function m(){const g=e.name("_valid"),v=e.let("count",0);y(g,()=>e.if(g,()=>p(v)))}function y(g,v){e.forRange("i",0,u,_=>{t.subschema({keyword:"contains",dataProp:_,dataPropType:Gr.Type.Num,compositeRule:!0},g),v()})}function p(g){e.code((0,ft._)`${g}++`),i===void 0?e.if((0,ft._)`${g} >= ${a}`,()=>e.assign(f,!0).break()):(e.if((0,ft._)`${g} > ${i}`,()=>e.assign(f,!1).break()),a===1?e.assign(f,!0):e.if((0,ft._)`${g} >= ${a}`,()=>e.assign(f,!0)))}}};fs.default=mu;var Ca={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.validateSchemaDeps=t.validatePropertyDeps=t.error=void 0;const e=le,r=de,n=ie;t.error={message:({params:{property:l,depsCount:c,deps:u}})=>{const f=c===1?"property":"properties";return(0,e.str)`must have ${f} ${u} when property ${l} is present`},params:({params:{property:l,depsCount:c,deps:u,missingProperty:f}})=>(0,e._)`{property: ${l},
    missingProperty: ${f},
    depsCount: ${c},
    deps: ${u}}`};const s={keyword:"dependencies",type:"object",schemaType:"object",error:t.error,code(l){const[c,u]=o(l);a(l,c),i(l,u)}};function o({schema:l}){const c={},u={};for(const f in l){if(f==="__proto__")continue;const m=Array.isArray(l[f])?c:u;m[f]=l[f]}return[c,u]}function a(l,c=l.schema){const{gen:u,data:f,it:m}=l;if(Object.keys(c).length===0)return;const y=u.let("missing");for(const p in c){const g=c[p];if(g.length===0)continue;const v=(0,n.propertyInData)(u,f,p,m.opts.ownProperties);l.setParams({property:p,depsCount:g.length,deps:g.join(", ")}),m.allErrors?u.if(v,()=>{for(const _ of g)(0,n.checkReportMissingProp)(l,_)}):(u.if((0,e._)`${v} && (${(0,n.checkMissingProp)(l,g,y)})`),(0,n.reportMissingProp)(l,y),u.else())}}t.validatePropertyDeps=a;function i(l,c=l.schema){const{gen:u,data:f,keyword:m,it:y}=l,p=u.name("valid");for(const g in c)(0,r.alwaysValidSchema)(y,c[g])||(u.if((0,n.propertyInData)(u,f,g,y.opts.ownProperties),()=>{const v=l.subschema({keyword:m,schemaProp:g},p);l.mergeValidEvaluated(v,p)},()=>u.var(p,!0)),l.ok(p))}t.validateSchemaDeps=i,t.default=s})(Ca);var ds={};Object.defineProperty(ds,"__esModule",{value:!0});const Na=le,pu=de,_u={message:"property name must be valid",params:({params:t})=>(0,Na._)`{propertyName: ${t.propertyName}}`},gu={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:_u,code(t){const{gen:e,schema:r,data:n,it:s}=t;if((0,pu.alwaysValidSchema)(s,r))return;const o=e.name("valid");e.forIn("key",n,a=>{t.setParams({propertyName:a}),t.subschema({keyword:"propertyNames",data:a,dataTypes:["string"],propertyName:a,compositeRule:!0},o),e.if((0,Na.not)(o),()=>{t.error(!0),s.allErrors||e.break()})}),t.ok(o)}};ds.default=gu;var gn={};Object.defineProperty(gn,"__esModule",{value:!0});const Jr=ie,_t=le,vu=Nt,Xr=de,yu={message:"must NOT have additional properties",params:({params:t})=>(0,_t._)`{additionalProperty: ${t.additionalProperty}}`},bu={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:yu,code(t){const{gen:e,schema:r,parentSchema:n,data:s,errsCount:o,it:a}=t;if(!o)throw new Error("ajv implementation error");const{allErrors:i,opts:l}=a;if(a.props=!0,l.removeAdditional!=="all"&&(0,Xr.alwaysValidSchema)(a,r))return;const c=(0,Jr.allSchemaProperties)(n.properties),u=(0,Jr.allSchemaProperties)(n.patternProperties);f(),t.ok((0,_t._)`${o} === ${vu.default.errors}`);function f(){e.forIn("key",s,v=>{!c.length&&!u.length?p(v):e.if(m(v),()=>p(v))})}function m(v){let _;if(c.length>8){const b=(0,Xr.schemaRefOrVal)(a,n.properties,"properties");_=(0,Jr.isOwnProperty)(e,b,v)}else c.length?_=(0,_t.or)(...c.map(b=>(0,_t._)`${v} === ${b}`)):_=_t.nil;return u.length&&(_=(0,_t.or)(_,...u.map(b=>(0,_t._)`${(0,Jr.usePattern)(t,b)}.test(${v})`))),(0,_t.not)(_)}function y(v){e.code((0,_t._)`delete ${s}[${v}]`)}function p(v){if(l.removeAdditional==="all"||l.removeAdditional&&r===!1){y(v);return}if(r===!1){t.setParams({additionalProperty:v}),t.error(),i||e.break();return}if(typeof r=="object"&&!(0,Xr.alwaysValidSchema)(a,r)){const _=e.name("valid");l.removeAdditional==="failing"?(g(v,_,!1),e.if((0,_t.not)(_),()=>{t.reset(),y(v)})):(g(v,_),i||e.if((0,_t.not)(_),()=>e.break()))}}function g(v,_,b){const S={keyword:"additionalProperties",dataProp:v,dataPropType:Xr.Type.Str};b===!1&&Object.assign(S,{compositeRule:!0,createErrors:!1,allErrors:!1}),t.subschema(S,_)}}};gn.default=bu;var hs={};Object.defineProperty(hs,"__esModule",{value:!0});const $u=yt,Qs=ie,Cn=de,xs=gn,wu={keyword:"properties",type:"object",schemaType:"object",code(t){const{gen:e,schema:r,parentSchema:n,data:s,it:o}=t;o.opts.removeAdditional==="all"&&n.additionalProperties===void 0&&xs.default.code(new $u.KeywordCxt(o,xs.default,"additionalProperties"));const a=(0,Qs.allSchemaProperties)(r);for(const f of a)o.definedProperties.add(f);o.opts.unevaluated&&a.length&&o.props!==!0&&(o.props=Cn.mergeEvaluated.props(e,(0,Cn.toHash)(a),o.props));const i=a.filter(f=>!(0,Cn.alwaysValidSchema)(o,r[f]));if(i.length===0)return;const l=e.name("valid");for(const f of i)c(f)?u(f):(e.if((0,Qs.propertyInData)(e,s,f,o.opts.ownProperties)),u(f),o.allErrors||e.else().var(l,!0),e.endIf()),t.it.definedProperties.add(f),t.ok(l);function c(f){return o.opts.useDefaults&&!o.compositeRule&&r[f].default!==void 0}function u(f){t.subschema({keyword:"properties",schemaProp:f,dataProp:f},l)}}};hs.default=wu;var ms={};Object.defineProperty(ms,"__esModule",{value:!0});const eo=ie,Yr=le,to=de,ro=de,ku={keyword:"patternProperties",type:"object",schemaType:"object",code(t){const{gen:e,schema:r,data:n,parentSchema:s,it:o}=t,{opts:a}=o,i=(0,eo.allSchemaProperties)(r),l=i.filter(g=>(0,to.alwaysValidSchema)(o,r[g]));if(i.length===0||l.length===i.length&&(!o.opts.unevaluated||o.props===!0))return;const c=a.strictSchema&&!a.allowMatchingProperties&&s.properties,u=e.name("valid");o.props!==!0&&!(o.props instanceof Yr.Name)&&(o.props=(0,ro.evaluatedPropsToName)(e,o.props));const{props:f}=o;m();function m(){for(const g of i)c&&y(g),o.allErrors?p(g):(e.var(u,!0),p(g),e.if(u))}function y(g){for(const v in c)new RegExp(g).test(v)&&(0,to.checkStrictMode)(o,`property ${v} matches pattern ${g} (use allowMatchingProperties)`)}function p(g){e.forIn("key",n,v=>{e.if((0,Yr._)`${(0,eo.usePattern)(t,g)}.test(${v})`,()=>{const _=l.includes(g);_||t.subschema({keyword:"patternProperties",schemaProp:g,dataProp:v,dataPropType:ro.Type.Str},u),o.opts.unevaluated&&f!==!0?e.assign((0,Yr._)`${f}[${v}]`,!0):!_&&!o.allErrors&&e.if((0,Yr.not)(u),()=>e.break())})})}}};ms.default=ku;var ps={};Object.defineProperty(ps,"__esModule",{value:!0});const Eu=de,Su={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(t){const{gen:e,schema:r,it:n}=t;if((0,Eu.alwaysValidSchema)(n,r)){t.fail();return}const s=e.name("valid");t.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},s),t.failResult(s,()=>t.reset(),()=>t.error())},error:{message:"must NOT be valid"}};ps.default=Su;var _s={};Object.defineProperty(_s,"__esModule",{value:!0});const Pu=ie,Cu={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:Pu.validateUnion,error:{message:"must match a schema in anyOf"}};_s.default=Cu;var gs={};Object.defineProperty(gs,"__esModule",{value:!0});const rn=le,Nu=de,Ou={message:"must match exactly one schema in oneOf",params:({params:t})=>(0,rn._)`{passingSchemas: ${t.passing}}`},Tu={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:Ou,code(t){const{gen:e,schema:r,parentSchema:n,it:s}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");if(s.opts.discriminator&&n.discriminator)return;const o=r,a=e.let("valid",!1),i=e.let("passing",null),l=e.name("_valid");t.setParams({passing:i}),e.block(c),t.result(a,()=>t.reset(),()=>t.error(!0));function c(){o.forEach((u,f)=>{let m;(0,Nu.alwaysValidSchema)(s,u)?e.var(l,!0):m=t.subschema({keyword:"oneOf",schemaProp:f,compositeRule:!0},l),f>0&&e.if((0,rn._)`${l} && ${a}`).assign(a,!1).assign(i,(0,rn._)`[${i}, ${f}]`).else(),e.if(l,()=>{e.assign(a,!0),e.assign(i,f),m&&t.mergeEvaluated(m,rn.Name)})})}}};gs.default=Tu;var vs={};Object.defineProperty(vs,"__esModule",{value:!0});const Au=de,Ru={keyword:"allOf",schemaType:"array",code(t){const{gen:e,schema:r,it:n}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");const s=e.name("valid");r.forEach((o,a)=>{if((0,Au.alwaysValidSchema)(n,o))return;const i=t.subschema({keyword:"allOf",schemaProp:a},s);t.ok(s),t.mergeEvaluated(i)})}};vs.default=Ru;var ys={};Object.defineProperty(ys,"__esModule",{value:!0});const un=le,Oa=de,ju={message:({params:t})=>(0,un.str)`must match "${t.ifClause}" schema`,params:({params:t})=>(0,un._)`{failingKeyword: ${t.ifClause}}`},Iu={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:ju,code(t){const{gen:e,parentSchema:r,it:n}=t;r.then===void 0&&r.else===void 0&&(0,Oa.checkStrictMode)(n,'"if" without "then" and "else" is ignored');const s=no(n,"then"),o=no(n,"else");if(!s&&!o)return;const a=e.let("valid",!0),i=e.name("_valid");if(l(),t.reset(),s&&o){const u=e.let("ifClause");t.setParams({ifClause:u}),e.if(i,c("then",u),c("else",u))}else s?e.if(i,c("then")):e.if((0,un.not)(i),c("else"));t.pass(a,()=>t.error(!0));function l(){const u=t.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},i);t.mergeEvaluated(u)}function c(u,f){return()=>{const m=t.subschema({keyword:u},i);e.assign(a,i),t.mergeValidEvaluated(m,a),f?e.assign(f,(0,un._)`${u}`):t.setParams({ifClause:u})}}}};function no(t,e){const r=t.schema[e];return r!==void 0&&!(0,Oa.alwaysValidSchema)(t,r)}ys.default=Iu;var bs={};Object.defineProperty(bs,"__esModule",{value:!0});const Du=de,Mu={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:t,parentSchema:e,it:r}){e.if===void 0&&(0,Du.checkStrictMode)(r,`"${t}" without "if" is ignored`)}};bs.default=Mu;Object.defineProperty(ls,"__esModule",{value:!0});const zu=vr,Vu=cs,Fu=yr,Uu=us,Lu=fs,qu=Ca,Bu=ds,Ku=gn,Wu=hs,Hu=ms,Gu=ps,Ju=_s,Xu=gs,Yu=vs,Zu=ys,Qu=bs;function xu(t=!1){const e=[Gu.default,Ju.default,Xu.default,Yu.default,Zu.default,Qu.default,Bu.default,Ku.default,qu.default,Wu.default,Hu.default];return t?e.push(Vu.default,Uu.default):e.push(zu.default,Fu.default),e.push(Lu.default),e}ls.default=xu;var $s={},ws={};Object.defineProperty(ws,"__esModule",{value:!0});const je=le,ef={message:({schemaCode:t})=>(0,je.str)`must match format "${t}"`,params:({schemaCode:t})=>(0,je._)`{format: ${t}}`},tf={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:ef,code(t,e){const{gen:r,data:n,$data:s,schema:o,schemaCode:a,it:i}=t,{opts:l,errSchemaPath:c,schemaEnv:u,self:f}=i;if(!l.validateFormats)return;s?m():y();function m(){const p=r.scopeValue("formats",{ref:f.formats,code:l.code.formats}),g=r.const("fDef",(0,je._)`${p}[${a}]`),v=r.let("fType"),_=r.let("format");r.if((0,je._)`typeof ${g} == "object" && !(${g} instanceof RegExp)`,()=>r.assign(v,(0,je._)`${g}.type || "string"`).assign(_,(0,je._)`${g}.validate`),()=>r.assign(v,(0,je._)`"string"`).assign(_,g)),t.fail$data((0,je.or)(b(),S()));function b(){return l.strictSchema===!1?je.nil:(0,je._)`${a} && !${_}`}function S(){const O=u.$async?(0,je._)`(${g}.async ? await ${_}(${n}) : ${_}(${n}))`:(0,je._)`${_}(${n})`,A=(0,je._)`(typeof ${_} == "function" ? ${O} : ${_}.test(${n}))`;return(0,je._)`${_} && ${_} !== true && ${v} === ${e} && !${A}`}}function y(){const p=f.formats[o];if(!p){b();return}if(p===!0)return;const[g,v,_]=S(p);g===e&&t.pass(O());function b(){if(l.strictSchema===!1){f.logger.warn(A());return}throw new Error(A());function A(){return`unknown format "${o}" ignored in schema at path "${c}"`}}function S(A){const k=A instanceof RegExp?(0,je.regexpCode)(A):l.code.formats?(0,je._)`${l.code.formats}${(0,je.getProperty)(o)}`:void 0,R=r.scopeValue("formats",{key:o,ref:A,code:k});return typeof A=="object"&&!(A instanceof RegExp)?[A.type||"string",A.validate,(0,je._)`${R}.validate`]:["string",A,R]}function O(){if(typeof p=="object"&&!(p instanceof RegExp)&&p.async){if(!u.$async)throw new Error("async format in sync schema");return(0,je._)`await ${_}(${n})`}return typeof v=="function"?(0,je._)`${_}(${n})`:(0,je._)`${_}.test(${n})`}}}};ws.default=tf;Object.defineProperty($s,"__esModule",{value:!0});const rf=ws,nf=[rf.default];$s.default=nf;var _r={};Object.defineProperty(_r,"__esModule",{value:!0});_r.contentVocabulary=_r.metadataVocabulary=void 0;_r.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];_r.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(Gn,"__esModule",{value:!0});const sf=Jn,of=Yn,af=ls,lf=$s,so=_r,cf=[sf.default,of.default,(0,af.default)(),lf.default,so.metadataVocabulary,so.contentVocabulary];Gn.default=cf;var ks={},Ta={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DiscrError=void 0,function(e){e.Tag="tag",e.Mapping="mapping"}(t.DiscrError||(t.DiscrError={}))})(Ta);Object.defineProperty(ks,"__esModule",{value:!0});const cr=le,zn=Ta,oo=nt,uf=de,ff={message:({params:{discrError:t,tagName:e}})=>t===zn.DiscrError.Tag?`tag "${e}" must be string`:`value of tag "${e}" must be in oneOf`,params:({params:{discrError:t,tag:e,tagName:r}})=>(0,cr._)`{error: ${t}, tag: ${r}, tagValue: ${e}}`},df={keyword:"discriminator",type:"object",schemaType:"object",error:ff,code(t){const{gen:e,data:r,schema:n,parentSchema:s,it:o}=t,{oneOf:a}=s;if(!o.opts.discriminator)throw new Error("discriminator: requires discriminator option");const i=n.propertyName;if(typeof i!="string")throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!a)throw new Error("discriminator: requires oneOf keyword");const l=e.let("valid",!1),c=e.const("tag",(0,cr._)`${r}${(0,cr.getProperty)(i)}`);e.if((0,cr._)`typeof ${c} == "string"`,()=>u(),()=>t.error(!1,{discrError:zn.DiscrError.Tag,tag:c,tagName:i})),t.ok(l);function u(){const y=m();e.if(!1);for(const p in y)e.elseIf((0,cr._)`${c} === ${p}`),e.assign(l,f(y[p]));e.else(),t.error(!1,{discrError:zn.DiscrError.Mapping,tag:c,tagName:i}),e.endIf()}function f(y){const p=e.name("valid"),g=t.subschema({keyword:"oneOf",schemaProp:y},p);return t.mergeEvaluated(g,cr.Name),p}function m(){var y;const p={},g=_(s);let v=!0;for(let O=0;O<a.length;O++){let A=a[O];(A==null?void 0:A.$ref)&&!(0,uf.schemaHasRulesButRef)(A,o.self.RULES)&&(A=oo.resolveRef.call(o.self,o.schemaEnv.root,o.baseId,A==null?void 0:A.$ref),A instanceof oo.SchemaEnv&&(A=A.schema));const k=(y=A==null?void 0:A.properties)===null||y===void 0?void 0:y[i];if(typeof k!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${i}"`);v=v&&(g||_(A)),b(k,O)}if(!v)throw new Error(`discriminator: "${i}" must be required`);return p;function _({required:O}){return Array.isArray(O)&&O.includes(i)}function b(O,A){if(O.const)S(O.const,A);else if(O.enum)for(const k of O.enum)S(k,A);else throw new Error(`discriminator: "properties/${i}" must have "const" or "enum"`)}function S(O,A){if(typeof O!="string"||O in p)throw new Error(`discriminator: "${i}" values must be unique strings`);p[O]=A}}}};ks.default=df;const hf="http://json-schema.org/draft-07/schema#",mf="http://json-schema.org/draft-07/schema#",pf="Core schema meta-schema",_f={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},gf=["object","boolean"],vf={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}};var yf={$schema:hf,$id:mf,title:pf,definitions:_f,type:gf,properties:vf,default:!0};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;const r=Zo,n=Gn,s=ks,o=yf,a=["/properties"],i="http://json-schema.org/draft-07/schema";class l extends r.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(m=>this.addVocabulary(m)),this.opts.discriminator&&this.addKeyword(s.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const m=this.opts.$data?this.$dataMetaSchema(o,a):o;this.addMetaSchema(m,i,!1),this.refs["http://json-schema.org/schema"]=i}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(i)?i:void 0)}}t.exports=e=l,Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var c=yt;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return c.KeywordCxt}});var u=le;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return u._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return u.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return u.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return u.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return u.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return u.CodeGen}})})(An,An.exports);var bf=Ai(An.exports);const tr="0.4",$f=new bf({strict:!1});function Aa(t,e){return`https://raw.githubusercontent.com/ome/ngff/main/${e}/schemas/${t}.schema`}async function Ra(t){return await fetch(t).then(function(e){if(e.ok)return e;throw console.log("Fetch error:",e),new Error(`Error loading ${t}: ${e.statusText}`)})}async function nr(t){return Ra(t).then(e=>e.json())}async function wf(t){let e=await kf(t);console.log("xmlString",e);var r=new DOMParser;let n=r.parseFromString(e,"text/xml");return console.log("dom",n),n}async function kf(t){return Ra(t).then(e=>e.text())}let Nn={};async function fn(t,e="image"){let r=e+t;if(!Nn[r]){const n=Aa(e,t);console.log("Loading schema... "+n);const s=await nr(n);delete s.$schema,Nn[r]=s}return Nn[r]}function Vr(t){return t.multiscales?t.multiscales[0].version:t.plate?t.plate.version:t.well?t.well.version:void 0}function Ef(t){return t[0].toUpperCase()+t.slice(1)}function ja(t){if(t["bioformats2raw.layout"])return"bioformats2raw.layout";let e=Es(t);return e?Ef(e):""}function Es(t){return t.multiscales?"image":t.plate?"plate":t.well?"well":void 0}function Sf(t){const r=Vr(t)||tr,n=Es(t);return Aa(n,r)}function Pf(t,e){const r=$f.compile(t),n=r(e);let s=[];return n||(s=r.errors,console.log(s)),s}async function Ir(t){const e=Es(t);if(!e)return["Unrecognised JSON data"];let r=Vr(t);r||(console.log("No version found, using: "+tr),r=tr);let n=await fn(r,e);return Pf(n,t)}function Cf(t){var e=["Bytes","KB","MB","GB","TB"];if(t==0)return"0 Byte";var r=Math.floor(Math.log(t)/Math.log(1e3));return(t/Math.pow(1e3,r)).toFixed(2)+" "+e[r]}function Nf(t){let e,r=[{width:t[1]},{height:t[1]},{"stroke-width":"0"},{class:t[2]},t[0].a,t[4],{xmlns:"http://www.w3.org/2000/svg"}],n={};for(let s=0;s<r.length;s+=1)n=Lo(n,r[s]);return{c(){e=ai("svg"),zs(e,n)},m(s,o){V(s,e,o),e.innerHTML=t[3]},p(s,[o]){o&8&&(e.innerHTML=s[3]),zs(e,n=ki(r,[o&2&&{width:s[1]},o&2&&{height:s[1]},{"stroke-width":"0"},o&4&&{class:s[2]},o&1&&s[0].a,o&16&&s[4],{xmlns:"http://www.w3.org/2000/svg"}]))},i:B,o:B,d(s){s&&z(e)}}}function Of(t,e,r){let{src:n}=e,{size:s="1em"}=e,{color:o=void 0}=e,{title:a=void 0}=e,{className:i=""}=e,l,c;return t.$$set=u=>{"src"in u&&r(0,n=u.src),"size"in u&&r(1,s=u.size),"color"in u&&r(5,o=u.color),"title"in u&&r(6,a=u.title),"className"in u&&r(2,i=u.className)},t.$$.update=()=>{t.$$.dirty&33&&(r(4,c={}),o&&(n.a.stroke!=="none"&&r(4,c.stroke=o,c),n.a.fill!=="none"&&r(4,c.fill=o,c))),t.$$.dirty&65&&r(3,l=(a?`<title>${a}</title>`:"")+n.c)},[n,s,i,l,c,o,a]}class Ia extends Ue{constructor(e){super(),Fe(this,e,Of,Nf,Ve,{src:0,size:1,color:5,title:6,className:2})}}var Tf={a:{viewBox:"0 0 16 16",fill:"currentColor"},c:'<path d="M12.14 8.753l-5.482 4.796c-.646.566-1.658.106-1.658-.753V3.204a1 1 0 0 1 1.659-.753l5.48 4.796a1 1 0 0 1 0 1.506z"></path>'};function Af(t){const e=t-1;return e*e*e+1}function Rf(t,{delay:e=0,duration:r=400,easing:n=Uo}={}){const s=+getComputedStyle(t).opacity;return{delay:e,duration:r,easing:n,css:o=>`opacity: ${o*s}`}}function ao(t,{delay:e=0,duration:r=400,easing:n=Af}={}){const s=getComputedStyle(t),o=+s.opacity,a=parseFloat(s.height),i=parseFloat(s.paddingTop),l=parseFloat(s.paddingBottom),c=parseFloat(s.marginTop),u=parseFloat(s.marginBottom),f=parseFloat(s.borderTopWidth),m=parseFloat(s.borderBottomWidth);return{delay:e,duration:r,easing:n,css:y=>`overflow: hidden;opacity: ${Math.min(y*20,1)*o};height: ${y*a}px;padding-top: ${y*i}px;padding-bottom: ${y*l}px;margin-top: ${y*c}px;margin-bottom: ${y*u}px;border-top-width: ${y*f}px;border-bottom-width: ${y*m}px;`}}var jf={a:{viewBox:"0 0 16 16",fill:"currentColor"},c:'<path fill-rule="evenodd" d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm.93-9.412l-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM8 5.5a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"></path>'};function io(t){let e,r,n,s,o,a;return r=new Ia({props:{className:"info",src:jf}}),{c(){e=I("a"),Ee(r.$$.fragment),P(e,"target","_blank"),P(e,"href",t[1]),P(e,"title",n="Open ngff spec for "+t[0]+"."),P(e,"class","svelte-18a4t9w")},m(i,l){V(i,e,l),ye(r,e,null),s=!0,o||(a=at(e,"click",ii(t[4])),o=!0)},p(i,l){(!s||l&2)&&P(e,"href",i[1]),(!s||l&1&&n!==(n="Open ngff spec for "+i[0]+"."))&&P(e,"title",n)},i(i){s||(q(r.$$.fragment,i),s=!0)},o(i){G(r.$$.fragment,i),s=!1},d(i){i&&z(e),be(r),o=!1,a()}}}function If(t){let e,r,n,s,o,a=t[1]&&io(t);return{c(){e=I("span"),r=W(t[0]),a&&a.c(),P(e,"class","key svelte-18a4t9w"),P(e,"href",t[1])},m(i,l){V(i,e,l),C(e,r),a&&a.m(e,null),n=!0,s||(o=at(e,"click",t[2]),s=!0)},p(i,[l]){(!n||l&1)&&We(r,i[0]),i[1]?a?(a.p(i,l),l&2&&q(a,1)):(a=io(i),a.c(),q(a,1),a.m(e,null)):a&&(Oe(),G(a,1,1,()=>{a=null}),Te()),(!n||l&2)&&P(e,"href",i[1])},i(i){n||(q(a),n=!0)},o(i){G(a),n=!1},d(i){i&&z(e),a&&a.d(),s=!1,o()}}}function Df(t,e,r){const n=Xo();function s(){n("toggle")}let{name:o}=e,{version:a}=e;const i={multiscales:"multiscale-md",omero:"omero-md",labels:"labels-md","image-label":"label-md",plate:"plate-md",well:"well-md"},c={"0.1":i,"0.2":i,"0.3":i,"0.4":Ne({axes:"axes-md",coordinateTransforms:"trafo-md"},i)}[a];let u;c[o]&&(u=`https://ngff.openmicroscopy.org/${a}/index.html#${c[o]}`);function f(m){gi.call(this,t,m)}return t.$$set=m=>{"name"in m&&r(0,o=m.name),"version"in m&&r(3,a=m.version)},[o,u,s,a,f]}class Mf extends Ue{constructor(e){super(),Fe(this,e,Df,If,Ve,{name:0,version:3})}}function lo(t,e,r){const n=t.slice();return n[9]=e[r],n[8]=r,n}function co(t,e,r){const n=t.slice();return n[6]=e[r],n[8]=r,n}function uo(t){let e,r,n;return e=new Mf({props:{name:t[1],version:t[4]}}),e.$on("toggle",t[5]),{c(){Ee(e.$$.fragment),r=W(":")},m(s,o){ye(e,s,o),V(s,r,o),n=!0},p(s,o){const a={};o&2&&(a.name=s[1]),o&16&&(a.version=s[4]),e.$set(a)},i(s){n||(q(e.$$.fragment,s),n=!0)},o(s){G(e.$$.fragment,s),n=!1},d(s){be(e,s),s&&z(r)}}}function zf(t){let e="{",r;return{c(){r=W(e)},m(n,s){V(n,r,s)},d(n){n&&z(r)}}}function Vf(t){let e="[",r;return{c(){r=W(e)},m(n,s){V(n,r,s)},d(n){n&&z(r)}}}function fo(t){let e,r,n,s,o,a,i;function l(g,v){return g[2][0]?Uf:Ff}let c=l(t),u=c(t),f=!t[3]&&ho();function m(g,v){return g[2][0]?qf:Lf}let y=m(t),p=y(t);return{c(){e=I("span"),e.textContent="...",r=X(),u.c(),n=X(),f&&f.c(),s=X(),o=I("span"),a=W("// "),p.c(),i=W(" items"),P(e,"class","comment dots svelte-60tpry"),P(o,"class","comment svelte-60tpry")},m(g,v){V(g,e,v),V(g,r,v),u.m(g,v),V(g,n,v),f&&f.m(g,v),V(g,s,v),V(g,o,v),C(o,a),p.m(o,null),C(o,i)},p(g,v){c!==(c=l(g))&&(u.d(1),u=c(g),u&&(u.c(),u.m(n.parentNode,n))),g[3]?f&&(f.d(1),f=null):f||(f=ho(),f.c(),f.m(s.parentNode,s)),y===(y=m(g))&&p?p.p(g,v):(p.d(1),p=y(g),p&&(p.c(),p.m(o,i)))},d(g){g&&z(e),g&&z(r),u.d(g),g&&z(n),f&&f.d(g),g&&z(s),g&&z(o),p.d()}}}function Ff(t){let e="}",r;return{c(){r=W(e)},m(n,s){V(n,r,s)},d(n){n&&z(r)}}}function Uf(t){let e="]",r;return{c(){r=W(e)},m(n,s){V(n,r,s)},d(n){n&&z(r)}}}function ho(t){let e;return{c(){e=I("span"),e.textContent=",",P(e,"class","trailing-comma svelte-60tpry")},m(r,n){V(r,e,n)},d(r){r&&z(e)}}}function Lf(t){let e=Object.keys(t[2]).length+"",r;return{c(){r=W(e)},m(n,s){V(n,r,s)},p(n,s){s&4&&e!==(e=Object.keys(n[2]).length+"")&&We(r,e)},d(n){n&&z(r)}}}function qf(t){let e=t[2].length+"",r;return{c(){r=W(e)},m(n,s){V(n,r,s)},p(n,s){s&4&&e!==(e=n[2].length+"")&&We(r,e)},d(n){n&&z(r)}}}function mo(t){let e,r,n,s,o;const a=[Kf,Bf],i=[];function l(c,u){return c[2][0]?0:1}return r=l(t),n=i[r]=a[r](t),{c(){e=I("ul"),n.c(),P(e,"class","svelte-60tpry")},m(c,u){V(c,e,u),i[r].m(e,null),o=!0},p(c,u){let f=r;r=l(c),r===f?i[r].p(c,u):(Oe(),G(i[f],1,1,()=>{i[f]=null}),Te(),n=i[r],n?n.p(c,u):(n=i[r]=a[r](c),n.c()),q(n,1),n.m(e,null))},i(c){o||(q(n),Qt(()=>{s||(s=fr(e,ao,{duration:300},!0)),s.run(1)}),o=!0)},o(c){G(n),s||(s=fr(e,ao,{duration:300},!1)),s.run(0),o=!1},d(c){c&&z(e),i[r].d(),c&&s&&s.end()}}}function Bf(t){let e,r,n=Object.entries(t[2]),s=[];for(let a=0;a<n.length;a+=1)s[a]=_o(lo(t,n,a));const o=a=>G(s[a],1,1,()=>{s[a]=null});return{c(){for(let a=0;a<s.length;a+=1)s[a].c();e=Qe()},m(a,i){for(let l=0;l<s.length;l+=1)s[l].m(a,i);V(a,e,i),r=!0},p(a,i){if(i&20){n=Object.entries(a[2]);let l;for(l=0;l<n.length;l+=1){const c=lo(a,n,l);s[l]?(s[l].p(c,i),q(s[l],1)):(s[l]=_o(c),s[l].c(),q(s[l],1),s[l].m(e.parentNode,e))}for(Oe(),l=n.length;l<s.length;l+=1)o(l);Te()}},i(a){if(!r){for(let i=0;i<n.length;i+=1)q(s[i]);r=!0}},o(a){s=s.filter(Boolean);for(let i=0;i<s.length;i+=1)G(s[i]);r=!1},d(a){Ct(s,a),a&&z(e)}}}function Kf(t){let e,r,n=t[2],s=[];for(let a=0;a<n.length;a+=1)s[a]=vo(co(t,n,a));const o=a=>G(s[a],1,1,()=>{s[a]=null});return{c(){for(let a=0;a<s.length;a+=1)s[a].c();e=Qe()},m(a,i){for(let l=0;l<s.length;l+=1)s[l].m(a,i);V(a,e,i),r=!0},p(a,i){if(i&20){n=a[2];let l;for(l=0;l<n.length;l+=1){const c=co(a,n,l);s[l]?(s[l].p(c,i),q(s[l],1)):(s[l]=vo(c),s[l].c(),q(s[l],1),s[l].m(e.parentNode,e))}for(Oe(),l=n.length;l<s.length;l+=1)o(l);Te()}},i(a){if(!r){for(let i=0;i<n.length;i+=1)q(s[i]);r=!0}},o(a){s=s.filter(Boolean);for(let i=0;i<s.length;i+=1)G(s[i]);r=!1},d(a){Ct(s,a),a&&z(e)}}}function Wf(t){let e,r,n=t[9][0]+"",s,o,a,i,l=Object.keys(t[2]).length!=t[8]+1,c;function u(p,g){return typeof p[9][1]=="string"?Xf:typeof p[9][1]=="number"?Jf:Gf}let f=u(t),m=f(t),y=l&&po();return{c(){e=I("span"),r=W('"'),s=W(n),o=W('"'),a=W(`:

                
                `),m.c(),i=X(),y&&y.c(),c=Qe(),P(e,"class","key indent svelte-60tpry")},m(p,g){V(p,e,g),C(e,r),C(e,s),C(e,o),V(p,a,g),m.m(p,g),V(p,i,g),y&&y.m(p,g),V(p,c,g)},p(p,g){g&4&&n!==(n=p[9][0]+"")&&We(s,n),f===(f=u(p))&&m?m.p(p,g):(m.d(1),m=f(p),m&&(m.c(),m.m(i.parentNode,i))),g&4&&(l=Object.keys(p[2]).length!=p[8]+1),l?y||(y=po(),y.c(),y.m(c.parentNode,c)):y&&(y.d(1),y=null)},i:B,o:B,d(p){p&&z(e),p&&z(a),m.d(p),p&&z(i),y&&y.d(p),p&&z(c)}}}function Hf(t){let e,r;return e=new vn({props:{name:t[9][0],version:t[4],contents:t[9][1],expanded:Object.values(t[2]).length==1,last:Object.keys(t[2]).length===t[8]+1}}),{c(){Ee(e.$$.fragment)},m(n,s){ye(e,n,s),r=!0},p(n,s){const o={};s&4&&(o.name=n[9][0]),s&16&&(o.version=n[4]),s&4&&(o.contents=n[9][1]),s&4&&(o.expanded=Object.values(n[2]).length==1),s&4&&(o.last=Object.keys(n[2]).length===n[8]+1),e.$set(o)},i(n){r||(q(e.$$.fragment,n),r=!0)},o(n){G(e.$$.fragment,n),r=!1},d(n){be(e,n)}}}function Gf(t){let e,r=t[9][1]+"",n;return{c(){e=I("span"),n=W(r),P(e,"class","null svelte-60tpry")},m(s,o){V(s,e,o),C(e,n)},p(s,o){o&4&&r!==(r=s[9][1]+"")&&We(n,r)},d(s){s&&z(e)}}}function Jf(t){let e,r=t[9][1]+"",n;return{c(){e=I("span"),n=W(r),P(e,"class","number svelte-60tpry")},m(s,o){V(s,e,o),C(e,n)},p(s,o){o&4&&r!==(r=s[9][1]+"")&&We(n,r)},d(s){s&&z(e)}}}function Xf(t){let e,r,n=t[9][1]+"",s,o;return{c(){e=I("span"),r=W('"'),s=W(n),o=W('"'),P(e,"class","string svelte-60tpry")},m(a,i){V(a,e,i),C(e,r),C(e,s),C(e,o)},p(a,i){i&4&&n!==(n=a[9][1]+"")&&We(s,n)},d(a){a&&z(e)}}}function po(t){let e;return{c(){e=I("span"),e.textContent=",",P(e,"class","trailing-comma svelte-60tpry")},m(r,n){V(r,e,n)},d(r){r&&z(e)}}}function _o(t){let e,r,n,s,o;const a=[Hf,Wf],i=[];function l(c,u){return typeof c[9][1]=="object"?0:1}return r=l(t),n=i[r]=a[r](t),{c(){e=I("li"),n.c(),s=X(),P(e,"class","svelte-60tpry")},m(c,u){V(c,e,u),i[r].m(e,null),C(e,s),o=!0},p(c,u){let f=r;r=l(c),r===f?i[r].p(c,u):(Oe(),G(i[f],1,1,()=>{i[f]=null}),Te(),n=i[r],n?n.p(c,u):(n=i[r]=a[r](c),n.c()),q(n,1),n.m(e,s))},i(c){o||(q(n),o=!0)},o(c){G(n),o=!1},d(c){c&&z(e),i[r].d()}}}function Yf(t){let e,r;function n(i,l){return typeof i[6]=="string"?ed:typeof i[6]=="number"?xf:Qf}let s=n(t),o=s(t),a=t[2].length!=t[8]+1&&go();return{c(){o.c(),e=X(),a&&a.c(),r=Qe()},m(i,l){o.m(i,l),V(i,e,l),a&&a.m(i,l),V(i,r,l)},p(i,l){s===(s=n(i))&&o?o.p(i,l):(o.d(1),o=s(i),o&&(o.c(),o.m(e.parentNode,e))),i[2].length!=i[8]+1?a||(a=go(),a.c(),a.m(r.parentNode,r)):a&&(a.d(1),a=null)},i:B,o:B,d(i){o.d(i),i&&z(e),a&&a.d(i),i&&z(r)}}}function Zf(t){let e,r;return e=new vn({props:{name:"",version:t[4],contents:t[6],expanded:t[2].length==1,last:t[2].length===t[8]+1}}),{c(){Ee(e.$$.fragment)},m(n,s){ye(e,n,s),r=!0},p(n,s){const o={};s&16&&(o.version=n[4]),s&4&&(o.contents=n[6]),s&4&&(o.expanded=n[2].length==1),s&4&&(o.last=n[2].length===n[8]+1),e.$set(o)},i(n){r||(q(e.$$.fragment,n),r=!0)},o(n){G(e.$$.fragment,n),r=!1},d(n){be(e,n)}}}function Qf(t){let e,r=t[6]+"",n;return{c(){e=I("span"),n=W(r),P(e,"class","null svelte-60tpry")},m(s,o){V(s,e,o),C(e,n)},p(s,o){o&4&&r!==(r=s[6]+"")&&We(n,r)},d(s){s&&z(e)}}}function xf(t){let e,r=t[6]+"",n;return{c(){e=I("span"),n=W(r),P(e,"class","number svelte-60tpry")},m(s,o){V(s,e,o),C(e,n)},p(s,o){o&4&&r!==(r=s[6]+"")&&We(n,r)},d(s){s&&z(e)}}}function ed(t){let e,r,n=t[6]+"",s,o;return{c(){e=I("span"),r=W('"'),s=W(n),o=W('"'),P(e,"class","string svelte-60tpry")},m(a,i){V(a,e,i),C(e,r),C(e,s),C(e,o)},p(a,i){i&4&&n!==(n=a[6]+"")&&We(s,n)},d(a){a&&z(e)}}}function go(t){let e;return{c(){e=I("span"),e.textContent=",",P(e,"class","trailing-comma svelte-60tpry")},m(r,n){V(r,e,n)},d(r){r&&z(e)}}}function vo(t){let e,r,n,s,o;const a=[Zf,Yf],i=[];function l(c,u){return typeof c[6]=="object"?0:1}return r=l(t),n=i[r]=a[r](t),{c(){e=I("li"),n.c(),s=X(),P(e,"class","svelte-60tpry")},m(c,u){V(c,e,u),i[r].m(e,null),C(e,s),o=!0},p(c,u){let f=r;r=l(c),r===f?i[r].p(c,u):(Oe(),G(i[f],1,1,()=>{i[f]=null}),Te(),n=i[r],n?n.p(c,u):(n=i[r]=a[r](c),n.c()),q(n,1),n.m(e,s))},i(c){o||(q(n),o=!0)},o(c){G(n),o=!1},d(c){c&&z(e),i[r].d()}}}function yo(t){let e,r;function n(i,l){return i[2][0]?rd:td}let s=n(t),o=s(t),a=!t[3]&&bo();return{c(){o.c(),e=X(),a&&a.c(),r=Qe()},m(i,l){o.m(i,l),V(i,e,l),a&&a.m(i,l),V(i,r,l)},p(i,l){s!==(s=n(i))&&(o.d(1),o=s(i),o&&(o.c(),o.m(e.parentNode,e))),i[3]?a&&(a.d(1),a=null):a||(a=bo(),a.c(),a.m(r.parentNode,r))},d(i){o.d(i),i&&z(e),a&&a.d(i),i&&z(r)}}}function td(t){let e="}",r;return{c(){r=W(e)},m(n,s){V(n,r,s)},d(n){n&&z(r)}}}function rd(t){let e="]",r;return{c(){r=W(e)},m(n,s){V(n,r,s)},d(n){n&&z(r)}}}function bo(t){let e;return{c(){e=I("span"),e.textContent=",",P(e,"class","trailing-comma svelte-60tpry")},m(r,n){V(r,e,n)},d(r){r&&z(e)}}}function nd(t){let e,r,n,s,o,a,i,l,c,u,f,m,y;n=new Ia({props:{className:"caret-toggle",src:Tf}});let p=t[1]&&uo(t);function g(A,k){return A[2][0]?Vf:zf}let v=g(t),_=v(t),b=!t[0]&&fo(t),S=t[0]&&mo(t),O=t[0]&&yo(t);return{c(){e=I("div"),r=I("div"),Ee(n.$$.fragment),o=X(),a=I("div"),p&&p.c(),i=X(),_.c(),l=X(),b&&b.c(),c=X(),S&&S.c(),u=X(),O&&O.c(),P(r,"class",s=(t[0]?"expanded":"")+" caret svelte-60tpry"),P(a,"class","content svelte-60tpry"),P(e,"class","folder svelte-60tpry")},m(A,k){V(A,e,k),C(e,r),ye(n,r,null),C(e,o),C(e,a),p&&p.m(a,null),C(a,i),_.m(a,null),C(a,l),b&&b.m(a,null),C(a,c),S&&S.m(a,null),C(a,u),O&&O.m(a,null),f=!0,m||(y=at(r,"click",t[5]),m=!0)},p(A,[k]){(!f||k&1&&s!==(s=(A[0]?"expanded":"")+" caret svelte-60tpry"))&&P(r,"class",s),A[1]?p?(p.p(A,k),k&2&&q(p,1)):(p=uo(A),p.c(),q(p,1),p.m(a,i)):p&&(Oe(),G(p,1,1,()=>{p=null}),Te()),v!==(v=g(A))&&(_.d(1),_=v(A),_&&(_.c(),_.m(a,l))),A[0]?b&&(b.d(1),b=null):b?b.p(A,k):(b=fo(A),b.c(),b.m(a,c)),A[0]?S?(S.p(A,k),k&1&&q(S,1)):(S=mo(A),S.c(),q(S,1),S.m(a,u)):S&&(Oe(),G(S,1,1,()=>{S=null}),Te()),A[0]?O?O.p(A,k):(O=yo(A),O.c(),O.m(a,null)):O&&(O.d(1),O=null)},i(A){f||(q(n.$$.fragment,A),q(p),q(S),f=!0)},o(A){G(n.$$.fragment,A),G(p),G(S),f=!1},d(A){A&&z(e),be(n),p&&p.d(),_.d(),b&&b.d(),S&&S.d(),O&&O.d(),m=!1,y()}}}function sd(t,e,r){let{name:n}=e,{contents:s}=e,{expanded:o=!1}=e,{last:a=!0}=e,{version:i}=e;Object.keys(s).length==1&&(o=!0);function l(){r(0,o=!o)}return t.$$set=c=>{"name"in c&&r(1,n=c.name),"contents"in c&&r(2,s=c.contents),"expanded"in c&&r(0,o=c.expanded),"last"in c&&r(3,a=c.last),"version"in c&&r(4,i=c.version)},[o,n,s,a,i,l]}class vn extends Ue{constructor(e){super(),Fe(this,e,sd,nd,Ve,{name:1,contents:2,expanded:0,last:3,version:4})}}function od(t){let e,r=t[6].message+"",n;return{c(){e=I("span"),n=W(r),P(e,"class","error svelte-xcxanv")},m(s,o){V(s,e,o),C(e,n)},p:B,d(s){s&&z(e)}}}function ad(t){let e;function r(o,a){return o[5].length>0?ld:id}let s=r(t)(t);return{c(){s.c(),e=Qe()},m(o,a){s.m(o,a),V(o,e,a)},p(o,a){s.p(o,a)},d(o){s.d(o),o&&z(e)}}}function id(t){let e,r,n;return{c(){e=I("span"),r=W(t[1]),n=W(": \u2713"),P(e,"class","valid svelte-xcxanv")},m(s,o){V(s,e,o),C(e,r),C(e,n)},p(s,o){o&2&&We(r,s[1])},d(s){s&&z(e)}}}function ld(t){let e;return{c(){e=I("span"),e.textContent="\u2A2F Error!",P(e,"class","error svelte-xcxanv")},m(r,n){V(r,e,n)},p:B,d(r){r&&z(e)}}}function cd(t){let e,r,n;return{c(){e=I("span"),r=W(t[1]),n=W("."),P(e,"class","svelte-xcxanv")},m(s,o){V(s,e,o),C(e,r),C(e,n)},p(s,o){o&2&&We(r,s[1])},d(s){s&&z(e)}}}function ud(t){let e,r,n,s={ctx:t,current:null,token:null,hasCatch:!0,pending:cd,then:ad,catch:od,value:5,error:6};return it(t[2],s),{c(){e=I("a"),s.block.c(),P(e,"title",r=t[1]+": Open Image"),P(e,"href",n=t[3]+"?source="+(t[0]+t[1])+"/"),P(e,"class","svelte-xcxanv")},m(o,a){V(o,e,a),s.block.m(e,s.anchor=null),s.mount=()=>e,s.anchor=null},p(o,[a]){t=o,bt(s,t,a),a&2&&r!==(r=t[1]+": Open Image")&&P(e,"title",r),a&3&&n!==(n=t[3]+"?source="+(t[0]+t[1])+"/")&&P(e,"href",n)},i:B,o:B,d(o){o&&z(e),s.block.d(),s.token=null,s=null}}}function fd(t,e,r){let{source:n}=e,{path:s}=e;async function o(){let l=await nr(n+s+"/.zattrs");return console.log("imgAttrs",l),await Ir(l)}const a=o(),i=window.location.origin+window.location.pathname;return t.$$set=l=>{"source"in l&&r(0,n=l.source),"path"in l&&r(1,s=l.path)},[n,s,a,i]}class Da extends Ue{constructor(e){super(),Fe(this,e,fd,ud,Ve,{source:0,path:1})}}var Ma="https://ome.github.io/ome-ngff-validator/assets/vizarr_logo.c1ca0190.png";const{Boolean:dd}=Yo;function $o(t,e,r){const n=t.slice();return n[10]=e[r],n[12]=r,n}function wo(t,e,r){const n=t.slice();return n[14]=e[r],n[12]=r,n}function hd(t){let e,r=t[16].message+"",n;return{c(){e=I("p"),n=W(r),Be(e,"color","red")},m(s,o){V(s,e,o),C(e,n)},p:B,i:B,o:B,d(s){s&&z(e)}}}function md(t){let e,r,n,s,o,a,i,l={ctx:t,current:null,token:null,hasCatch:!0,pending:gd,then:_d,catch:pd,value:13,error:16,blocks:[,,,]};it(s=t[4](t[0]+"0"),l);let c=t[9].errors&&vd(t);return{c(){e=I("h1"),e.textContent="Images",r=X(),n=I("ol"),l.block.c(),o=X(),c&&c.c(),a=Qe(),P(e,"class","svelte-blz8kd")},m(u,f){V(u,e,f),V(u,r,f),V(u,n,f),l.block.m(n,l.anchor=null),l.mount=()=>n,l.anchor=null,V(u,o,f),c&&c.m(u,f),V(u,a,f),i=!0},p(u,f){t=u,l.ctx=t,f&1&&s!==(s=t[4](t[0]+"0"))&&it(s,l)||bt(l,t,f),t[9].errors&&c.p(t,f)},i(u){i||(q(l.block),i=!0)},o(u){for(let f=0;f<3;f+=1){const m=l.blocks[f];G(m)}i=!1},d(u){u&&z(e),u&&z(r),u&&z(n),l.block.d(),l.token=null,l=null,u&&z(o),c&&c.d(u),u&&z(a)}}}function pd(t){let e,r=t[16].message+"",n;return{c(){e=I("p"),n=W(r),Be(e,"color","red")},m(s,o){V(s,e,o),C(e,n)},p(s,o){o&1&&r!==(r=s[16].message+"")&&We(n,r)},i:B,o:B,d(s){s&&z(e)}}}function _d(t){let e,r,n=t[9].images,s=[];for(let a=0;a<n.length;a+=1)s[a]=ko(wo(t,n,a));const o=a=>G(s[a],1,1,()=>{s[a]=null});return{c(){e=I("ul");for(let a=0;a<s.length;a+=1)s[a].c()},m(a,i){V(a,e,i);for(let l=0;l<s.length;l+=1)s[l].m(e,null);r=!0},p(a,i){if(i&73){n=a[9].images;let l;for(l=0;l<n.length;l+=1){const c=wo(a,n,l);s[l]?(s[l].p(c,i),q(s[l],1)):(s[l]=ko(c),s[l].c(),q(s[l],1),s[l].m(e,null))}for(Oe(),l=n.length;l<s.length;l+=1)o(l);Te()}},i(a){if(!r){for(let i=0;i<n.length;i+=1)q(s[i]);r=!0}},o(a){s=s.filter(dd);for(let i=0;i<s.length;i+=1)G(s[i]);r=!1},d(a){a&&z(e),Ct(s,a)}}}function ko(t){let e,r,n,s,o,a=t[14].name+"",i,l,c,u,f,m,y,p,g,v,_;return u=new Da({props:{source:t[0],path:t[12]}}),{c(){e=I("li"),r=W("/"),n=W(t[12]),s=X(),o=I("a"),i=W(a),c=X(),Ee(u.$$.fragment),f=X(),m=I("a"),y=I("img"),v=X(),P(o,"title","Open Image"),P(o,"href",l=t[6]+"?source="+t[0]+t[12]+"/"),P(o,"class","svelte-blz8kd"),Bo(y.src,p=Ma)||P(y,"src",p),P(y,"class","svelte-blz8kd"),P(m,"title","View image in vizarr"),P(m,"class","vizarr_link svelte-blz8kd"),P(m,"target","_blank"),P(m,"href",g="https://hms-dbmi.github.io/vizarr/?source="+t[0]+t[12]+"/"),P(e,"class","image svelte-blz8kd")},m(b,S){V(b,e,S),C(e,r),C(e,n),C(e,s),C(e,o),C(o,i),C(e,c),ye(u,e,null),C(e,f),C(e,m),C(m,y),C(e,v),_=!0},p(b,S){(!_||S&1&&l!==(l=b[6]+"?source="+b[0]+b[12]+"/"))&&P(o,"href",l);const O={};S&1&&(O.source=b[0]),u.$set(O),(!_||S&1&&g!==(g="https://hms-dbmi.github.io/vizarr/?source="+b[0]+b[12]+"/"))&&P(m,"href",g)},i(b){_||(q(u.$$.fragment,b),_=!0)},o(b){G(u.$$.fragment,b),_=!1},d(b){b&&z(e),be(u)}}}function gd(t){let e;return{c(){e=I("div"),e.textContent="loading schema..."},m(r,n){V(r,e,n)},p:B,i:B,o:B,d(r){r&&z(e)}}}function vd(t){let e,r,n,s=t[9].errors,o=[];for(let a=0;a<s.length;a+=1)o[a]=Eo($o(t,s,a));return{c(){e=I("div"),r=I("h2"),r.textContent=`Error parsing ${Ss}`,n=X();for(let a=0;a<o.length;a+=1)o[a].c();P(e,"class","error")},m(a,i){V(a,e,i),C(e,r),C(e,n);for(let l=0;l<o.length;l+=1)o[l].m(e,null)},p(a,i){if(i&8){s=a[9].errors;let l;for(l=0;l<s.length;l+=1){const c=$o(a,s,l);o[l]?o[l].p(c,i):(o[l]=Eo(c),o[l].c(),o[l].m(e,null))}for(;l<o.length;l+=1)o[l].d(1);o.length=s.length}},d(a){a&&z(e),Ct(o,a)}}}function Eo(t){let e,r=t[10]+"",n;return{c(){e=I("div"),n=W(r)},m(s,o){V(s,e,o),C(e,n)},p:B,d(s){s&&z(e)}}}function yd(t){let e;return{c(){e=I("div"),e.textContent=`loading ${t[2]}...`},m(r,n){V(r,e,n)},p:B,i:B,o:B,d(r){r&&z(e)}}}function bd(t){let e,r,n,s,o,a,i,l,c,u,f,m,y,p;l=new vn({props:{name:"",version:"",contents:t[1],expanded:!0}});let g={ctx:t,current:null,token:null,hasCatch:!0,pending:yd,then:md,catch:hd,value:9,error:16,blocks:[,,,]};return it(t[3],g),{c(){e=I("article"),r=W("Reading: "),n=I("a"),s=W(t[5]),o=W("/.zattrs"),a=X(),i=I("div"),Ee(l.$$.fragment),c=W(`

  Loading metadata:`),u=I("a"),f=W(Ss),m=I("br"),y=X(),g.block.c(),P(n,"href",t[0]),P(n,"class","svelte-blz8kd"),P(i,"class","json svelte-blz8kd"),P(u,"href",t[2]),P(u,"class","svelte-blz8kd")},m(v,_){V(v,e,_),C(e,r),C(e,n),C(n,s),C(n,o),C(e,a),C(e,i),ye(l,i,null),C(e,c),C(e,u),C(u,f),C(e,m),C(e,y),g.block.m(e,g.anchor=null),g.mount=()=>e,g.anchor=null,p=!0},p(v,[_]){t=v,(!p||_&1)&&P(n,"href",t[0]);const b={};_&2&&(b.contents=t[1]),l.$set(b),bt(g,t,_)},i(v){p||(q(l.$$.fragment,v),q(g.block),p=!0)},o(v){G(l.$$.fragment,v);for(let _=0;_<3;_+=1){const b=g.blocks[_];G(b)}p=!1},d(v){v&&z(e),be(l),g.block.d(),g.token=null,g=null}}}const Ss="OME/METADATA.ome.xml";function $d(t,e,r){let{source:n}=e,{rootAttrs:s}=e;const o=`${n}${Ss}`;async function a(m){const p=(await wf(m)).documentElement;let g={images:[]};for(const v of p.children)console.log(v.tagName),v.tagName==="Image"&&g.images.push({name:v.getAttribute("Name"),id:v.getAttribute("ID")}),v.tagName==="body"&&v.firstElementChild.tagName=="parsererror"&&(g.errors=[...v.firstElementChild.children].map(_=>_.innerHTML));return g}const i=a(o);async function l(m){let y=await nr(m+"/.zattrs");return console.log("preloadSchema",y),await Ir(y)}const c=n.split("/").filter(Boolean),u=c[c.length-1],f=window.location.origin+window.location.pathname;return t.$$set=m=>{"source"in m&&r(0,n=m.source),"rootAttrs"in m&&r(1,s=m.rootAttrs)},[n,s,o,i,l,u,f]}class wd extends Ue{constructor(e){super(),Fe(this,e,$d,bd,Ve,{source:0,rootAttrs:1})}}function kd(t){let e,r,n,s,o,a,i,l,c,u,f,m,y,p,g,v,_,b,S,O;return{c(){e=I("div"),r=I("div"),n=I("div"),s=I("div"),o=I("div"),o.textContent=`${t[3]}`,a=X(),i=I("div"),i.textContent=`${t[4]}`,l=X(),c=I("div"),u=X(),f=I("div"),m=X(),y=I("div"),p=I("div"),p.textContent=`${t[5]}`,g=X(),v=I("div"),_=X(),b=I("div"),P(o,"class","sizeX svelte-17y51i8"),P(i,"class","sizeY svelte-17y51i8"),P(s,"class","face front svelte-17y51i8"),P(c,"class","face back svelte-17y51i8"),P(f,"class","face right svelte-17y51i8"),P(p,"class","sizeX svelte-17y51i8"),P(y,"class","face left svelte-17y51i8"),P(v,"class","face top svelte-17y51i8"),P(b,"class","face bottom svelte-17y51i8"),P(n,"class","cube svelte-17y51i8"),P(r,"class","container svelte-17y51i8"),Be(r,"--size-x",t[6]+"px"),Be(r,"--size-y",t[7]+"px"),Be(r,"--size-z",t[8]+"px"),Be(r,"--chunkX",t[9]+"px"),Be(r,"--chunkY",t[10]+"px"),Be(r,"--chunkZ",t[11]+"px"),Be(r,"--scrollX",t[1]+"deg"),P(e,"class","parent svelte-17y51i8")},m(A,k){V(A,e,k),C(e,r),C(r,n),C(n,s),C(s,o),C(s,a),C(s,i),C(n,l),C(n,c),C(n,u),C(n,f),C(n,m),C(n,y),C(y,p),C(n,g),C(n,v),C(n,_),C(n,b),t[13](e),S||(O=at(e,"mousemove",t[2]),S=!0)},p(A,[k]){k&2&&Be(r,"--scrollX",A[1]+"deg")},i:B,o:B,d(A){A&&z(e),t[13](null),S=!1,O()}}}const On=5;function Ed(t,e,r){let{zarray:n}=e,s,o=50;function a(O){r(1,o=O.offsetX/6+20)}const i=n.shape,l=i[i.length-1],c=i[i.length-2],u=i.length<3?1:i[i.length-3],f=200/Math.max(l,c,u),m=l*f,y=c*f,p=u*f,g=n.chunks,v=Math.max(On,g[g.length-1]*f),_=Math.max(On,g[g.length-2]*f),b=Math.max(On,g[g.length-3]*f);function S(O){hr[O?"unshift":"push"](()=>{s=O,r(0,s)})}return t.$$set=O=>{"zarray"in O&&r(12,n=O.zarray)},[s,o,a,l,c,u,m,y,p,v,_,b,n,S]}class Sd extends Ue{constructor(e){super(),Fe(this,e,Ed,kd,Ve,{zarray:12})}}function Pd(t){let e,r=t[5].message+"",n;return{c(){e=I("p"),n=W(r),Be(e,"color","red"),P(e,"class","svelte-1wgmtwf")},m(s,o){V(s,e,o),C(e,n)},p:B,i:B,o:B,d(s){s&&z(e)}}}function Cd(t){let e,r,n,s,o,a,i,l=t[3](t[4].shape,t[4])+"",c,u,f,m=t[3](t[4].chunks,t[4])+"",y,p,g,v,_,b,S=JSON.stringify(t[4].shape)+"",O,A,k,R=JSON.stringify(t[4].chunks)+"",U,Z,Y,ue,te,_e,re=So(t[4])+1+"",me,Le,He,ge,xe=So(t[4])+"",K,N,F,T,d,w,M,H=t[4].dtype+"",J,ae,oe,he,Ie,st,Ge,lt,Ce,dt,ht,Je,ot,ct=JSON.stringify(t[4],null,2)+"",Xe,$e;return Ie=new Sd({props:{zarray:t[4]}}),{c(){e=I("table"),r=I("tr"),r.innerHTML='<th class="svelte-1wgmtwf"></th><th class="svelte-1wgmtwf">Array</th><th class="svelte-1wgmtwf">Chunk</th>',n=X(),s=I("tr"),o=I("th"),o.textContent="Bytes",a=X(),i=I("td"),c=W(l),u=X(),f=I("td"),y=W(m),p=X(),g=I("tr"),v=I("th"),v.textContent="Shape",_=X(),b=I("td"),O=W(S),A=X(),k=I("td"),U=W(R),Z=X(),Y=I("tr"),ue=I("th"),ue.textContent="Count",te=X(),_e=I("td"),me=W(re),Le=W(" Tasks"),He=X(),ge=I("td"),K=W(xe),N=W(" Chunks"),F=X(),T=I("tr"),d=I("th"),d.textContent="Type",w=X(),M=I("td"),J=W(H),ae=X(),oe=I("td"),oe.textContent="numpy.ndarray",he=X(),Ee(Ie.$$.fragment),st=X(),Ge=I("details"),lt=I("summary"),Ce=W(t[1]),dt=W("/.zarray"),ht=X(),Je=I("pre"),ot=I("code"),Xe=W(ct),P(r,"class","svelte-1wgmtwf"),P(o,"class","svelte-1wgmtwf"),P(i,"class","svelte-1wgmtwf"),P(f,"class","svelte-1wgmtwf"),P(s,"class","svelte-1wgmtwf"),P(v,"class","svelte-1wgmtwf"),P(b,"class","svelte-1wgmtwf"),P(k,"class","svelte-1wgmtwf"),P(g,"class","svelte-1wgmtwf"),P(ue,"class","svelte-1wgmtwf"),P(_e,"class","svelte-1wgmtwf"),P(ge,"class","svelte-1wgmtwf"),P(Y,"class","svelte-1wgmtwf"),P(d,"class","svelte-1wgmtwf"),P(M,"class","svelte-1wgmtwf"),P(oe,"class","svelte-1wgmtwf"),P(T,"class","svelte-1wgmtwf"),P(e,"class","svelte-1wgmtwf"),P(Je,"class","svelte-1wgmtwf"),P(Ge,"class","svelte-1wgmtwf")},m(pe,De){V(pe,e,De),C(e,r),C(e,n),C(e,s),C(s,o),C(s,a),C(s,i),C(i,c),C(s,u),C(s,f),C(f,y),C(e,p),C(e,g),C(g,v),C(g,_),C(g,b),C(b,O),C(g,A),C(g,k),C(k,U),C(e,Z),C(e,Y),C(Y,ue),C(Y,te),C(Y,_e),C(_e,me),C(_e,Le),C(Y,He),C(Y,ge),C(ge,K),C(ge,N),C(e,F),C(e,T),C(T,d),C(T,w),C(T,M),C(M,J),C(T,ae),C(T,oe),V(pe,he,De),ye(Ie,pe,De),V(pe,st,De),V(pe,Ge,De),C(Ge,lt),C(lt,Ce),C(lt,dt),C(Ge,ht),C(Ge,Je),C(Je,ot),C(ot,Xe),$e=!0},p(pe,De){(!$e||De&2)&&We(Ce,pe[1])},i(pe){$e||(q(Ie.$$.fragment,pe),$e=!0)},o(pe){G(Ie.$$.fragment,pe),$e=!1},d(pe){pe&&z(e),pe&&z(he),be(Ie,pe),pe&&z(st),pe&&z(Ge)}}}function Nd(t){let e;return{c(){e=I("div"),e.textContent="loading array .zarray ..."},m(r,n){V(r,e,n)},p:B,i:B,o:B,d(r){r&&z(e)}}}function Od(t){let e,r,n,s,o=t[1]+"/.zarray",a,i,l,c,u={ctx:t,current:null,token:null,hasCatch:!0,pending:Nd,then:Cd,catch:Pd,value:4,error:5,blocks:[,,,]};return it(t[2],u),{c(){e=I("div"),r=I("p"),n=W("Path "),s=I("a"),a=W(o),l=X(),u.block.c(),P(s,"href",i=t[0]+t[1]+"/.zarray "),P(s,"class","svelte-1wgmtwf"),P(r,"class","svelte-1wgmtwf"),P(e,"class","array svelte-1wgmtwf")},m(f,m){V(f,e,m),C(e,r),C(r,n),C(r,s),C(s,a),C(e,l),u.block.m(e,u.anchor=null),u.mount=()=>e,u.anchor=null,c=!0},p(f,[m]){t=f,(!c||m&2)&&o!==(o=t[1]+"/.zarray")&&We(a,o),(!c||m&3&&i!==(i=t[0]+t[1]+"/.zarray "))&&P(s,"href",i),bt(u,t,m)},i(f){c||(q(u.block),c=!0)},o(f){for(let m=0;m<3;m+=1){const y=u.blocks[m];G(y)}c=!1},d(f){f&&z(e),u.block.d(),u.token=null,u=null}}}function So(t){const e=t.chunks;return t.shape.map((n,s)=>Math.ceil(n/e[s])).reduce((n,s)=>n*s,1)}function Td(t,e,r){let{source:n}=e,{path:s}=e;const o=nr(n+s+"/.zarray");function a(i,l){let c=[1,2,4,8].find(f=>l.dtype.includes(f));if(!c)return"";let u=i.reduce((f,m)=>f*m,1);return Cf(c*u)}return t.$$set=i=>{"source"in i&&r(0,n=i.source),"path"in i&&r(1,s=i.path)},[n,s,o,a]}class Ad extends Ue{constructor(e){super(),Fe(this,e,Td,Od,Ve,{source:0,path:1})}}function Po(t,e,r){const n=t.slice();return n[2]=e[r],n[4]=r,n}function Co(t,e,r){const n=t.slice();return n[5]=e[r],n}function No(t){let e,r;return e=new Ad({props:{source:t[0],path:t[5].path}}),{c(){Ee(e.$$.fragment)},m(n,s){ye(e,n,s),r=!0},p(n,s){const o={};s&1&&(o.source=n[0]),s&2&&(o.path=n[5].path),e.$set(o)},i(n){r||(q(e.$$.fragment,n),r=!0)},o(n){G(e.$$.fragment,n),r=!1},d(n){be(e,n)}}}function Oo(t){let e,r,n,s,o,a,i,l=t[2].datasets,c=[];for(let f=0;f<l.length;f+=1)c[f]=No(Co(t,l,f));const u=f=>G(c[f],1,1,()=>{c[f]=null});return{c(){e=I("article"),r=I("h2"),n=W("Dataset "),s=W(t[4]),o=X();for(let f=0;f<c.length;f+=1)c[f].c();a=X(),P(r,"class","svelte-1u2mha0"),P(e,"class","svelte-1u2mha0")},m(f,m){V(f,e,m),C(e,r),C(r,n),C(r,s),C(e,o);for(let y=0;y<c.length;y+=1)c[y].m(e,null);C(e,a),i=!0},p(f,m){if(m&3){l=f[2].datasets;let y;for(y=0;y<l.length;y+=1){const p=Co(f,l,y);c[y]?(c[y].p(p,m),q(c[y],1)):(c[y]=No(p),c[y].c(),q(c[y],1),c[y].m(e,a))}for(Oe(),y=l.length;y<c.length;y+=1)u(y);Te()}},i(f){if(!i){for(let m=0;m<l.length;m+=1)q(c[m]);i=!0}},o(f){c=c.filter(Boolean);for(let m=0;m<c.length;m+=1)G(c[m]);i=!1},d(f){f&&z(e),Ct(c,f)}}}function Rd(t){let e,r,n=t[1].multiscales,s=[];for(let a=0;a<n.length;a+=1)s[a]=Oo(Po(t,n,a));const o=a=>G(s[a],1,1,()=>{s[a]=null});return{c(){for(let a=0;a<s.length;a+=1)s[a].c();e=Qe()},m(a,i){for(let l=0;l<s.length;l+=1)s[l].m(a,i);V(a,e,i),r=!0},p(a,[i]){if(i&3){n=a[1].multiscales;let l;for(l=0;l<n.length;l+=1){const c=Po(a,n,l);s[l]?(s[l].p(c,i),q(s[l],1)):(s[l]=Oo(c),s[l].c(),q(s[l],1),s[l].m(e.parentNode,e))}for(Oe(),l=n.length;l<s.length;l+=1)o(l);Te()}},i(a){if(!r){for(let i=0;i<n.length;i+=1)q(s[i]);r=!0}},o(a){s=s.filter(Boolean);for(let i=0;i<s.length;i+=1)G(s[i]);r=!1},d(a){Ct(s,a),a&&z(e)}}}function jd(t,e,r){let{source:n}=e,{rootAttrs:s}=e;return t.$$set=o=>{"source"in o&&r(0,n=o.source),"rootAttrs"in o&&r(1,s=o.rootAttrs)},[n,s]}class Id extends Ue{constructor(e){super(),Fe(this,e,jd,Rd,Ve,{source:0,rootAttrs:1})}}function Dd(t){let e,r=t[9].message+"",n;return{c(){e=I("td"),n=W(r),Be(e,"color","red"),P(e,"class","svelte-bgaf62")},m(s,o){V(s,e,o),C(e,n)},p:B,d(s){s&&z(e)}}}function Md(t){let e,r,n,s,o={ctx:t,current:null,token:null,hasCatch:!1,pending:Fd,then:Vd,catch:zd,value:8};return it(t[3],o),{c(){e=I("td"),r=I("a"),o.block.c(),P(r,"title",n=t[1]+": Open Well"),P(r,"href",s=t[4]+"?source="+(t[0]+t[1])+"/"),P(r,"class","svelte-bgaf62"),P(e,"class",gt(t[7].length===0?"valid":"invalid")+" svelte-bgaf62")},m(a,i){V(a,e,i),C(e,r),o.block.m(r,o.anchor=null),o.mount=()=>r,o.anchor=null},p(a,i){t=a,bt(o,t,i),i&2&&n!==(n=t[1]+": Open Well")&&P(r,"title",n),i&3&&s!==(s=t[4]+"?source="+(t[0]+t[1])+"/")&&P(r,"href",s)},d(a){a&&z(e),o.block.d(),o.token=null,o=null}}}function zd(t){return{c:B,m:B,p:B,d:B}}function Vd(t){let e=t[8].length===0?"\u2713":"\u2A2F",r;return{c(){r=W(e)},m(n,s){V(n,r,s)},p:B,d(n){n&&z(r)}}}function Fd(t){let e;return{c(){e=W("\xA0")},m(r,n){V(r,e,n)},p:B,d(r){r&&z(e)}}}function Ud(t){let e;return{c(){e=I("td"),e.textContent="...",P(e,"class","svelte-bgaf62")},m(r,n){V(r,e,n)},p:B,d(r){r&&z(e)}}}function Ld(t){let e,r={ctx:t,current:null,token:null,hasCatch:!0,pending:Ud,then:Md,catch:Dd,value:7,error:9};return it(t[2],r),{c(){e=Qe(),r.block.c()},m(n,s){V(n,e,s),r.block.m(n,r.anchor=s),r.mount=()=>e.parentNode,r.anchor=e},p(n,[s]){t=n,bt(r,t,s)},i:B,o:B,d(n){n&&z(e),r.block.d(n),r.token=null,r=null}}}function qd(t,e,r){let{wellAttrs:n}=e,{source:s}=e,{path:o}=e;async function a(){console.log("wellAttrs",n,n.well);let u=n.well.images[0].path,f=await nr(s+o+"/"+u+"/.zattrs");return await Ir(f)}let i=Ir(n),l=a();const c=window.location.origin+window.location.pathname;return t.$$set=u=>{"wellAttrs"in u&&r(5,n=u.wellAttrs),"source"in u&&r(0,s=u.source),"path"in u&&r(1,o=u.path)},[s,o,i,l,c,n]}class Bd extends Ue{constructor(e){super(),Fe(this,e,qd,Ld,Ve,{wellAttrs:5,source:0,path:1})}}function Kd(t){let e,r=t[4].message+"",n;return{c(){e=I("td"),n=W(r),Be(e,"color","red"),P(e,"class","svelte-zadp2s")},m(s,o){V(s,e,o),C(e,n)},p:B,i:B,o:B,d(s){s&&z(e)}}}function Wd(t){let e,r;return e=new Bd({props:{wellAttrs:t[3],source:t[0],path:t[1]}}),{c(){Ee(e.$$.fragment)},m(n,s){ye(e,n,s),r=!0},p(n,s){const o={};s&1&&(o.source=n[0]),s&2&&(o.path=n[1]),e.$set(o)},i(n){r||(q(e.$$.fragment,n),r=!0)},o(n){G(e.$$.fragment,n),r=!1},d(n){be(e,n)}}}function Hd(t){let e;return{c(){e=I("td"),e.textContent=".",P(e,"class","svelte-zadp2s")},m(r,n){V(r,e,n)},p:B,i:B,o:B,d(r){r&&z(e)}}}function Gd(t){let e,r,n={ctx:t,current:null,token:null,hasCatch:!0,pending:Hd,then:Wd,catch:Kd,value:3,error:4,blocks:[,,,]};return it(t[2],n),{c(){e=Qe(),n.block.c()},m(s,o){V(s,e,o),n.block.m(s,n.anchor=o),n.mount=()=>e.parentNode,n.anchor=e,r=!0},p(s,[o]){t=s,bt(n,t,o)},i(s){r||(q(n.block),r=!0)},o(s){for(let o=0;o<3;o+=1){const a=n.blocks[o];G(a)}r=!1},d(s){s&&z(e),n.block.d(s),n.token=null,n=null}}}function Jd(t,e,r){let{source:n}=e,{path:s}=e;const o=nr(n+s+"/.zattrs");return t.$$set=a=>{"source"in a&&r(0,n=a.source),"path"in a&&r(1,s=a.path)},[n,s,o]}class Xd extends Ue{constructor(e){super(),Fe(this,e,Jd,Gd,Ve,{source:0,path:1})}}function To(t,e,r){const n=t.slice();return n[7]=e[r],n}function Ao(t,e,r){const n=t.slice();return n[10]=e[r],n}function Yd(t){let e,r=t[13].message+"",n;return{c(){e=I("p"),n=W(r),Be(e,"color","red")},m(s,o){V(s,e,o),C(e,n)},p:B,i:B,o:B,d(s){s&&z(e)}}}function Zd(t){let e,r,n,s,o=t[1].rows,a=[];for(let l=0;l<o.length;l+=1)a[l]=jo(To(t,o,l));const i=l=>G(a[l],1,1,()=>{a[l]=null});return{c(){e=I("p"),e.textContent=`Validating ${t[2].length} Wells and first Image in each:`,r=X(),n=I("table");for(let l=0;l<a.length;l+=1)a[l].c();P(n,"class","svelte-1t60zd5")},m(l,c){V(l,e,c),V(l,r,c),V(l,n,c);for(let u=0;u<a.length;u+=1)a[u].m(n,null);s=!0},p(l,c){if(c&7){o=l[1].rows;let u;for(u=0;u<o.length;u+=1){const f=To(l,o,u);a[u]?(a[u].p(f,c),q(a[u],1)):(a[u]=jo(f),a[u].c(),q(a[u],1),a[u].m(n,null))}for(Oe(),u=o.length;u<a.length;u+=1)i(u);Te()}},i(l){if(!s){for(let c=0;c<o.length;c+=1)q(a[c]);s=!0}},o(l){a=a.filter(Boolean);for(let c=0;c<a.length;c+=1)G(a[c]);s=!1},d(l){l&&z(e),l&&z(r),l&&z(n),Ct(a,l)}}}function Qd(t){let e;return{c(){e=I("td"),P(e,"class","svelte-1t60zd5")},m(r,n){V(r,e,n)},p:B,i:B,o:B,d(r){r&&z(e)}}}function xd(t){let e,r;return e=new Xd({props:{path:`${t[7].name}/${t[10].name}`,source:t[0]}}),{c(){Ee(e.$$.fragment)},m(n,s){ye(e,n,s),r=!0},p(n,s){const o={};s&1&&(o.source=n[0]),e.$set(o)},i(n){r||(q(e.$$.fragment,n),r=!0)},o(n){G(e.$$.fragment,n),r=!1},d(n){be(e,n)}}}function Ro(t){let e,r,n,s;const o=[xd,Qd],a=[];function i(l,c){return l[2].indexOf(`${l[7].name}/${l[10].name}`)>-1?0:1}return e=i(t),r=a[e]=o[e](t),{c(){r.c(),n=Qe()},m(l,c){a[e].m(l,c),V(l,n,c),s=!0},p(l,c){r.p(l,c)},i(l){s||(q(r),s=!0)},o(l){G(r),s=!1},d(l){a[e].d(l),l&&z(n)}}}function jo(t){let e,r,n,s=t[1].columns,o=[];for(let i=0;i<s.length;i+=1)o[i]=Ro(Ao(t,s,i));const a=i=>G(o[i],1,1,()=>{o[i]=null});return{c(){e=I("tr");for(let i=0;i<o.length;i+=1)o[i].c();r=X()},m(i,l){V(i,e,l);for(let c=0;c<o.length;c+=1)o[c].m(e,null);C(e,r),n=!0},p(i,l){if(l&7){s=i[1].columns;let c;for(c=0;c<s.length;c+=1){const u=Ao(i,s,c);o[c]?(o[c].p(u,l),q(o[c],1)):(o[c]=Ro(u),o[c].c(),q(o[c],1),o[c].m(e,r))}for(Oe(),c=s.length;c<o.length;c+=1)a(c);Te()}},i(i){if(!n){for(let l=0;l<s.length;l+=1)q(o[l]);n=!0}},o(i){o=o.filter(Boolean);for(let l=0;l<o.length;l+=1)G(o[l]);n=!1},d(i){i&&z(e),Ct(o,i)}}}function eh(t){let e;return{c(){e=I("div"),e.textContent="loading schemas..."},m(r,n){V(r,e,n)},p:B,i:B,o:B,d(r){r&&z(e)}}}function th(t){let e,r,n={ctx:t,current:null,token:null,hasCatch:!0,pending:eh,then:Zd,catch:Yd,value:6,error:13,blocks:[,,,]};return it(t[3],n),{c(){e=I("article"),n.block.c()},m(s,o){V(s,e,o),n.block.m(e,n.anchor=null),n.mount=()=>e,n.anchor=null,r=!0},p(s,[o]){t=s,bt(n,t,o)},i(s){r||(q(n.block),r=!0)},o(s){for(let o=0;o<3;o+=1){const a=n.blocks[o];G(a)}r=!1},d(s){s&&z(e),n.block.d(),n.token=null,n=null}}}function rh(t,e,r){let{source:n}=e,{rootAttrs:s}=e,o=s.plate,a=o.wells.map(c=>c.path);console.log("wellPaths",a);const i=Vr(s)||tr;let l=Promise.all([fn(i,"well"),fn(i,"image")]);return t.$$set=c=>{"source"in c&&r(0,n=c.source),"rootAttrs"in c&&r(4,s=c.rootAttrs)},[n,o,a,l,s]}class nh extends Ue{constructor(e){super(),Fe(this,e,rh,th,Ve,{source:0,rootAttrs:4})}}function Io(t,e,r){const n=t.slice();return n[7]=e[r],n}function sh(t){let e,r=t[10].message+"",n;return{c(){e=I("p"),n=W(r),Be(e,"color","red")},m(s,o){V(s,e,o),C(e,n)},p:B,i:B,o:B,d(s){s&&z(e)}}}function oh(t){let e,r,n=t[1],s=[];for(let a=0;a<n.length;a+=1)s[a]=Do(Io(t,n,a));const o=a=>G(s[a],1,1,()=>{s[a]=null});return{c(){e=I("ul");for(let a=0;a<s.length;a+=1)s[a].c();P(e,"class","svelte-6aehlv")},m(a,i){V(a,e,i);for(let l=0;l<s.length;l+=1)s[l].m(e,null);r=!0},p(a,i){if(i&3){n=a[1];let l;for(l=0;l<n.length;l+=1){const c=Io(a,n,l);s[l]?(s[l].p(c,i),q(s[l],1)):(s[l]=Do(c),s[l].c(),q(s[l],1),s[l].m(e,null))}for(Oe(),l=n.length;l<s.length;l+=1)o(l);Te()}},i(a){if(!r){for(let i=0;i<n.length;i+=1)q(s[i]);r=!0}},o(a){s=s.filter(Boolean);for(let i=0;i<s.length;i+=1)G(s[i]);r=!1},d(a){a&&z(e),Ct(s,a)}}}function Do(t){let e,r,n;return r=new Da({props:{source:t[0],path:t[7]}}),{c(){e=I("li"),Ee(r.$$.fragment),P(e,"class","svelte-6aehlv")},m(s,o){V(s,e,o),ye(r,e,null),n=!0},p(s,o){const a={};o&1&&(a.source=s[0]),r.$set(a)},i(s){n||(q(r.$$.fragment,s),n=!0)},o(s){G(r.$$.fragment,s),n=!1},d(s){s&&z(e),be(r)}}}function ah(t){let e;return{c(){e=I("div"),e.textContent="loading schema..."},m(r,n){V(r,e,n)},p:B,i:B,o:B,d(r){r&&z(e)}}}function ih(t){let e,r,n,s={ctx:t,current:null,token:null,hasCatch:!0,pending:ah,then:oh,catch:sh,value:6,error:10,blocks:[,,,]};return it(t[2],s),{c(){e=I("article"),r=W(`Images:
  `),s.block.c()},m(o,a){V(o,e,a),C(e,r),s.block.m(e,s.anchor=null),s.mount=()=>e,s.anchor=null,n=!0},p(o,[a]){t=o,bt(s,t,a)},i(o){n||(q(s.block),n=!0)},o(o){for(let a=0;a<3;a+=1){const i=s.blocks[a];G(i)}n=!1},d(o){o&&z(e),s.block.d(),s.token=null,s=null}}}function lh(t,e,r){let{source:n}=e,{rootAttrs:s}=e,a=s.well.images.map(c=>c.path);const i=Vr(s)||tr;let l=fn(i,"image");return t.$$set=c=>{"source"in c&&r(0,n=c.source),"rootAttrs"in c&&r(3,s=c.rootAttrs)},[n,a,l,s]}class ch extends Ue{constructor(e){super(),Fe(this,e,lh,ih,Ve,{source:0,rootAttrs:3})}}function Mo(t,e,r){const n=t.slice();return n[10]=e[r],n}function uh(t){let e,r,n;return{c(){e=W("No version found. Using "),r=W(tr),n=I("br")},m(s,o){V(s,e,o),V(s,r,o),V(s,n,o)},p:B,d(s){s&&z(e),s&&z(r),s&&z(n)}}}function fh(t){let e,r=t[10].message+"",n;return{c(){e=I("p"),n=W(r),Be(e,"color","red")},m(s,o){V(s,e,o),C(e,n)},p:B,d(s){s&&z(e)}}}function dh(t){let e;function r(o,a){return o[9].length>0?mh:hh}let s=r(t)(t);return{c(){s.c(),e=Qe()},m(o,a){s.m(o,a),V(o,e,a)},p(o,a){s.p(o,a)},d(o){s.d(o),o&&z(e)}}}function hh(t){let e;return{c(){e=I("div"),e.textContent="\u2713",P(e,"class","valid svelte-25bwwb")},m(r,n){V(r,e,n)},p:B,d(r){r&&z(e)}}}function mh(t){let e,r,n,s,o=t[9],a=[];for(let i=0;i<o.length;i+=1)a[i]=zo(Mo(t,o,i));return{c(){e=I("div"),e.textContent="\xD7",r=X(),n=I("div"),s=W(`Errors:
        `);for(let i=0;i<a.length;i+=1)a[i].c();P(e,"class","invalid svelte-25bwwb"),P(n,"class","error svelte-25bwwb")},m(i,l){V(i,e,l),V(i,r,l),V(i,n,l),C(n,s);for(let c=0;c<a.length;c+=1)a[c].m(n,null)},p(i,l){if(l&64){o=i[9];let c;for(c=0;c<o.length;c+=1){const u=Mo(i,o,c);a[c]?a[c].p(u,l):(a[c]=zo(u),a[c].c(),a[c].m(n,null))}for(;c<a.length;c+=1)a[c].d(1);a.length=o.length}},d(i){i&&z(e),i&&z(r),i&&z(n),Ct(a,i)}}}function zo(t){let e,r,n=JSON.stringify(t[10],null,2)+"",s;return{c(){e=I("pre"),r=I("code"),s=W(n),P(e,"class","svelte-25bwwb")},m(o,a){V(o,e,a),C(e,r),C(r,s)},p:B,d(o){o&&z(e)}}}function ph(t){let e;return{c(){e=I("div"),e.textContent="loading schema..."},m(r,n){V(r,e,n)},p:B,d(r){r&&z(e)}}}function _h(t){let e,r;return e=new ch({props:{source:t[0],rootAttrs:t[1]}}),{c(){Ee(e.$$.fragment)},m(n,s){ye(e,n,s),r=!0},p(n,s){const o={};s&1&&(o.source=n[0]),s&2&&(o.rootAttrs=n[1]),e.$set(o)},i(n){r||(q(e.$$.fragment,n),r=!0)},o(n){G(e.$$.fragment,n),r=!1},d(n){be(e,n)}}}function gh(t){let e,r;return e=new nh({props:{source:t[0],rootAttrs:t[1]}}),{c(){Ee(e.$$.fragment)},m(n,s){ye(e,n,s),r=!0},p(n,s){const o={};s&1&&(o.source=n[0]),s&2&&(o.rootAttrs=n[1]),e.$set(o)},i(n){r||(q(e.$$.fragment,n),r=!0)},o(n){G(e.$$.fragment,n),r=!1},d(n){be(e,n)}}}function vh(t){let e,r;return e=new Id({props:{source:t[0],rootAttrs:t[1]}}),{c(){Ee(e.$$.fragment)},m(n,s){ye(e,n,s),r=!0},p(n,s){const o={};s&1&&(o.source=n[0]),s&2&&(o.rootAttrs=n[1]),e.$set(o)},i(n){r||(q(e.$$.fragment,n),r=!0)},o(n){G(e.$$.fragment,n),r=!1},d(n){be(e,n)}}}function yh(t){let e,r,n,s,o,a,i,l,c,u,f,m,y,p,g,v,_,b,S,O,A,k,R,U,Z=!t[2]&&uh(),Y={ctx:t,current:null,token:null,hasCatch:!0,pending:ph,then:dh,catch:fh,value:9,error:10};it(t[6],Y),S=new vn({props:{name:"",version:t[2]||tr,contents:t[1],expanded:!0}});const ue=[vh,gh,_h],te=[];function _e(re,me){return re[1].multiscales?0:re[1].plate?1:re[1].well?2:-1}return~(A=_e(t))&&(k=te[A]=ue[A](t)),{c(){e=I("article"),r=I("a"),n=I("img"),a=X(),i=I("p"),l=W("Validating: "),c=I("a"),u=W(t[7]),f=W("/.zattrs"),m=X(),Z&&Z.c(),y=W(`

  Using schema: `),p=I("a"),g=W(t[5]),v=X(),Y.block.c(),_=X(),b=I("div"),Ee(S.$$.fragment),O=X(),k&&k.c(),R=Qe(),Bo(n.src,s=Ma)||P(n,"src",s),P(n,"class","svelte-25bwwb"),P(r,"title","View "+t[3]+" in vizarr"),P(r,"class","vizarr_link svelte-25bwwb"),P(r,"target","_blank"),P(r,"href",o="https://hms-dbmi.github.io/vizarr/?source="+t[0]),P(c,"href",t[0]),P(c,"class","svelte-25bwwb"),P(i,"class","margin_right svelte-25bwwb"),P(p,"href",t[4]),P(p,"target","_blank"),P(p,"class","svelte-25bwwb"),P(b,"class","json svelte-25bwwb")},m(re,me){V(re,e,me),C(e,r),C(r,n),C(e,a),C(e,i),C(i,l),C(i,c),C(c,u),C(c,f),C(e,m),Z&&Z.m(e,null),C(e,y),C(e,p),C(p,g),C(e,v),Y.block.m(e,Y.anchor=null),Y.mount=()=>e,Y.anchor=_,C(e,_),C(e,b),ye(S,b,null),V(re,O,me),~A&&te[A].m(re,me),V(re,R,me),U=!0},p(re,[me]){t=re,(!U||me&1&&o!==(o="https://hms-dbmi.github.io/vizarr/?source="+t[0]))&&P(r,"href",o),(!U||me&1)&&P(c,"href",t[0]),t[2]||Z.p(t,me),bt(Y,t,me);const Le={};me&2&&(Le.contents=t[1]),S.$set(Le);let He=A;A=_e(t),A===He?~A&&te[A].p(t,me):(k&&(Oe(),G(te[He],1,1,()=>{te[He]=null}),Te()),~A?(k=te[A],k?k.p(t,me):(k=te[A]=ue[A](t),k.c()),q(k,1),k.m(R.parentNode,R)):k=null)},i(re){U||(q(S.$$.fragment,re),q(k),U=!0)},o(re){G(S.$$.fragment,re),G(k),U=!1},d(re){re&&z(e),Z&&Z.d(),Y.block.d(),Y.token=null,Y=null,be(S),re&&z(O),~A&&te[A].d(re),re&&z(R)}}}function bh(t,e,r){let{source:n}=e,{rootAttrs:s}=e;const o=Vr(s),a=ja(s),i=Sf(s),l=i.split("main")[1],c=Ir(s),u=n.split("/").filter(Boolean),f=u[u.length-1];return t.$$set=m=>{"source"in m&&r(0,n=m.source),"rootAttrs"in m&&r(1,s=m.rootAttrs)},[n,s,o,a,i,l,c,f]}class $h extends Ue{constructor(e){super(),Fe(this,e,bh,yh,Ve,{source:0,rootAttrs:1})}}function wh(t){let e,r,n,s;return{c(){e=I("h1"),r=W(t[1]),n=W(": "),s=W(t[0]),P(e,"class","svelte-v2a59y")},m(o,a){V(o,e,a),C(e,r),C(e,n),C(e,s)},p(o,[a]){a&1&&We(s,o[0])},i:B,o:B,d(o){o&&z(e)}}}function kh(t,e,r){let{zattrs:n}=e,{source:s}=e;const o=s.split("/").filter(Boolean);let a=o[o.length-1],i=ja(n);return"well"in n&&(a=o[o.length-2]+"/"+o[o.length-1]),t.$$set=l=>{"zattrs"in l&&r(2,n=l.zattrs),"source"in l&&r(3,s=l.source)},[a,i,n,s]}class Eh extends Ue{constructor(e){super(),Fe(this,e,kh,wh,Ve,{zattrs:2,source:3})}}const{window:Sh}=Yo;function Vo(t){let e,r,n,s,o,a,i,l,c,u,f,m,y,p,g,v,_,b=t[1].closeButton&&Fo(t);var S=t[2];function O(A){return{}}return S&&(a=new S(O())),{c(){e=I("div"),r=I("div"),n=I("div"),b&&b.c(),s=X(),o=I("div"),a&&Ee(a.$$.fragment),P(o,"class",i=gt(t[1].classContent)+" svelte-g4wg3a"),P(o,"style",t[9]),Et(o,"content",!t[0]),P(n,"class",l=gt(t[1].classWindow)+" svelte-g4wg3a"),P(n,"role","dialog"),P(n,"aria-modal","true"),P(n,"aria-label",c=t[1].ariaLabelledBy?null:t[1].ariaLabel||null),P(n,"aria-labelledby",u=t[1].ariaLabelledBy||null),P(n,"style",t[8]),Et(n,"window",!t[0]),P(r,"class",m=gt(t[1].classWindowWrap)+" svelte-g4wg3a"),P(r,"style",t[7]),Et(r,"wrap",!t[0]),P(e,"class",y=gt(t[1].classBg)+" svelte-g4wg3a"),P(e,"style",t[6]),Et(e,"bg",!t[0])},m(A,k){V(A,e,k),C(e,r),C(r,n),b&&b.m(n,null),C(n,s),C(n,o),a&&ye(a,o,null),t[49](n),t[50](r),t[51](e),g=!0,v||(_=[at(n,"introstart",function(){ur(t[13])&&t[13].apply(this,arguments)}),at(n,"outrostart",function(){ur(t[14])&&t[14].apply(this,arguments)}),at(n,"introend",function(){ur(t[15])&&t[15].apply(this,arguments)}),at(n,"outroend",function(){ur(t[16])&&t[16].apply(this,arguments)}),at(e,"mousedown",t[20]),at(e,"mouseup",t[21])],v=!0)},p(A,k){if(t=A,t[1].closeButton?b?(b.p(t,k),k[0]&2&&q(b,1)):(b=Fo(t),b.c(),q(b,1),b.m(n,s)):b&&(Oe(),G(b,1,1,()=>{b=null}),Te()),S!==(S=t[2])){if(a){Oe();const R=a;G(R.$$.fragment,1,0,()=>{be(R,1)}),Te()}S?(a=new S(O()),Ee(a.$$.fragment),q(a.$$.fragment,1),ye(a,o,null)):a=null}(!g||k[0]&2&&i!==(i=gt(t[1].classContent)+" svelte-g4wg3a"))&&P(o,"class",i),(!g||k[0]&512)&&P(o,"style",t[9]),k[0]&3&&Et(o,"content",!t[0]),(!g||k[0]&2&&l!==(l=gt(t[1].classWindow)+" svelte-g4wg3a"))&&P(n,"class",l),(!g||k[0]&2&&c!==(c=t[1].ariaLabelledBy?null:t[1].ariaLabel||null))&&P(n,"aria-label",c),(!g||k[0]&2&&u!==(u=t[1].ariaLabelledBy||null))&&P(n,"aria-labelledby",u),(!g||k[0]&256)&&P(n,"style",t[8]),k[0]&3&&Et(n,"window",!t[0]),(!g||k[0]&2&&m!==(m=gt(t[1].classWindowWrap)+" svelte-g4wg3a"))&&P(r,"class",m),(!g||k[0]&128)&&P(r,"style",t[7]),k[0]&3&&Et(r,"wrap",!t[0]),(!g||k[0]&2&&y!==(y=gt(t[1].classBg)+" svelte-g4wg3a"))&&P(e,"class",y),(!g||k[0]&64)&&P(e,"style",t[6]),k[0]&3&&Et(e,"bg",!t[0])},i(A){g||(q(b),a&&q(a.$$.fragment,A),Qt(()=>{f||(f=fr(n,t[12],t[1].transitionWindowProps,!0)),f.run(1)}),Qt(()=>{p||(p=fr(e,t[11],t[1].transitionBgProps,!0)),p.run(1)}),g=!0)},o(A){G(b),a&&G(a.$$.fragment,A),f||(f=fr(n,t[12],t[1].transitionWindowProps,!1)),f.run(0),p||(p=fr(e,t[11],t[1].transitionBgProps,!1)),p.run(0),g=!1},d(A){A&&z(e),b&&b.d(),a&&be(a),t[49](null),A&&f&&f.end(),t[50](null),t[51](null),A&&p&&p.end(),v=!1,rr(_)}}}function Fo(t){let e,r,n,s,o;const a=[Ch,Ph],i=[];function l(c,u){return u[0]&2&&(e=null),e==null&&(e=!!c[17](c[1].closeButton)),e?0:1}return r=l(t,[-1,-1,-1]),n=i[r]=a[r](t),{c(){n.c(),s=Qe()},m(c,u){i[r].m(c,u),V(c,s,u),o=!0},p(c,u){let f=r;r=l(c,u),r===f?i[r].p(c,u):(Oe(),G(i[f],1,1,()=>{i[f]=null}),Te(),n=i[r],n?n.p(c,u):(n=i[r]=a[r](c),n.c()),q(n,1),n.m(s.parentNode,s))},i(c){o||(q(n),o=!0)},o(c){G(n),o=!1},d(c){i[r].d(c),c&&z(s)}}}function Ph(t){let e,r,n,s;return{c(){e=I("button"),P(e,"class",r=gt(t[1].classCloseButton)+" svelte-g4wg3a"),P(e,"aria-label","Close modal"),P(e,"style",t[10]),P(e,"type","button"),Et(e,"close",!t[0])},m(o,a){V(o,e,a),n||(s=at(e,"click",t[18]),n=!0)},p(o,a){a[0]&2&&r!==(r=gt(o[1].classCloseButton)+" svelte-g4wg3a")&&P(e,"class",r),a[0]&1024&&P(e,"style",o[10]),a[0]&3&&Et(e,"close",!o[0])},i:B,o:B,d(o){o&&z(e),n=!1,s()}}}function Ch(t){let e,r,n;var s=t[1].closeButton;function o(a){return{props:{onClose:a[18]}}}return s&&(e=new s(o(t))),{c(){e&&Ee(e.$$.fragment),r=Qe()},m(a,i){e&&ye(e,a,i),V(a,r,i),n=!0},p(a,i){if(s!==(s=a[1].closeButton)){if(e){Oe();const l=e;G(l.$$.fragment,1,0,()=>{be(l,1)}),Te()}s?(e=new s(o(a)),Ee(e.$$.fragment),q(e.$$.fragment,1),ye(e,r.parentNode,r)):e=null}},i(a){n||(e&&q(e.$$.fragment,a),n=!0)},o(a){e&&G(e.$$.fragment,a),n=!1},d(a){a&&z(r),e&&be(e,a)}}}function Nh(t){let e,r,n,s,o=t[2]&&Vo(t);const a=t[48].default,i=Qa(a,t,t[47],null);return{c(){o&&o.c(),e=X(),i&&i.c()},m(l,c){o&&o.m(l,c),V(l,e,c),i&&i.m(l,c),r=!0,n||(s=at(Sh,"keydown",t[19]),n=!0)},p(l,c){l[2]?o?(o.p(l,c),c[0]&4&&q(o,1)):(o=Vo(l),o.c(),q(o,1),o.m(e.parentNode,e)):o&&(Oe(),G(o,1,1,()=>{o=null}),Te()),i&&i.p&&(!r||c[1]&65536)&&ei(i,a,l,l[47],r?xa(a,l[47],c,null):ti(l[47]),null)},i(l){r||(q(o),q(i,l),r=!0)},o(l){G(o),G(i,l),r=!1},d(l){o&&o.d(l),l&&z(e),i&&i.d(l),n=!1,s()}}}function Oh(t,e={}){return function(n){return new t(Rt(Ne({},n),{props:Ne(Ne({},e),n.props)}))}}function Th(t,e,r){let{$$slots:n={},$$scope:s}=e;const o=Xo(),a=pi,i=L=>L.tabIndex>=0&&!L.hidden&&!L.disabled&&L.style.display!=="none"&&L.type!=="hidden"&&Boolean(L.offsetWidth||L.offsetHeight||L.getClientRects().length);let{isTabbable:l=i}=e,{show:c=null}=e,{key:u="simple-modal"}=e,{ariaLabel:f=null}=e,{ariaLabelledBy:m=null}=e,{closeButton:y=!0}=e,{closeOnEsc:p=!0}=e,{closeOnOuterClick:g=!0}=e,{styleBg:v={}}=e,{styleWindowWrap:_={}}=e,{styleWindow:b={}}=e,{styleContent:S={}}=e,{styleCloseButton:O={}}=e,{classBg:A=null}=e,{classWindowWrap:k=null}=e,{classWindow:R=null}=e,{classContent:U=null}=e,{classCloseButton:Z=null}=e,{unstyled:Y=!1}=e,{setContext:ue=a}=e,{transitionBg:te=Rf}=e,{transitionBgProps:_e={duration:250}}=e,{transitionWindow:re=te}=e,{transitionWindowProps:me=_e}=e,{disableFocusTrap:Le=!1}=e;const He={ariaLabel:f,ariaLabelledBy:m,closeButton:y,closeOnEsc:p,closeOnOuterClick:g,styleBg:v,styleWindowWrap:_,styleWindow:b,styleContent:S,styleCloseButton:O,classBg:A,classWindowWrap:k,classWindow:R,classContent:U,classCloseButton:Z,transitionBg:te,transitionBgProps:_e,transitionWindow:re,transitionWindowProps:me,disableFocusTrap:Le,isTabbable:l,unstyled:Y};let ge=Ne({},He),xe=null,K,N,F,T,d,w,M,H,J,ae,oe,he,Ie,st,Ge;const lt=L=>L.replace(/([a-zA-Z])(?=[A-Z])/g,"$1-").toLowerCase(),Ce=L=>L?Object.keys(L).reduce((zt,Me)=>`${zt}; ${lt(Me)}: ${L[Me]}`,""):"",dt=L=>!!(L&&L.constructor&&L.call&&L.apply),ht=()=>{r(6,d=Ce(Object.assign({},{width:window.innerWidth,height:window.innerHeight},ge.styleBg))),r(7,w=Ce(ge.styleWindowWrap)),r(8,M=Ce(ge.styleWindow)),r(9,H=Ce(ge.styleContent)),r(10,J=Ce(ge.styleCloseButton)),r(11,ae=ge.transitionBg),r(12,oe=ge.transitionWindow)},Je=()=>{};let ot=Je,ct=Je,Xe=Je,$e=Je;const pe=(L,zt={},Me={},Ye={})=>{r(2,xe=Oh(L,zt)),r(1,ge=Ne(Ne({},He),Me)),ht(),tt(),r(13,ot=mt=>{Ye.onOpen&&Ye.onOpen(mt),o("open"),o("opening")}),r(14,ct=mt=>{Ye.onClose&&Ye.onClose(mt),o("close"),o("closing")}),r(15,Xe=mt=>{Ye.onOpened&&Ye.onOpened(mt),o("opened")}),r(16,$e=mt=>{Ye.onClosed&&Ye.onClosed(mt),o("closed")})},De=(L={})=>{!xe||(r(14,ct=L.onClose||ct),r(16,$e=L.onClosed||$e),r(2,xe=null),Tt())},Ot=L=>{if(ge.closeOnEsc&&xe&&L.key==="Escape"&&(L.preventDefault(),De()),xe&&L.key==="Tab"&&!ge.disableFocusTrap){const zt=F.querySelectorAll("*"),Me=Array.from(zt).filter(ge.isTabbable).sort((mt,yn)=>mt.tabIndex-yn.tabIndex);let Ye=Me.indexOf(document.activeElement);Ye===-1&&L.shiftKey&&(Ye=0),Ye+=Me.length+(L.shiftKey?-1:1),Ye%=Me.length,Me[Ye].focus(),L.preventDefault()}},Bt=L=>{ge.closeOnOuterClick&&(L.target===K||L.target===N)&&(Ge=L.target)},sr=L=>{ge.closeOnOuterClick&&L.target===Ge&&(L.preventDefault(),De())},tt=()=>{T=window.scrollY,he=document.body.style.position,Ie=document.body.style.overflow,st=document.body.style.width,document.body.style.position="fixed",document.body.style.top=`-${T}px`,document.body.style.overflow="hidden",document.body.style.width="100%"},Tt=()=>{document.body.style.position=he||"",document.body.style.top="",document.body.style.overflow=Ie||"",document.body.style.width=st||"",window.scrollTo(0,T)};ue(u,{open:pe,close:De});let Kt=!1;mi(()=>{Kt&&De()}),hi(()=>{r(46,Kt=!0)});function Fr(L){hr[L?"unshift":"push"](()=>{F=L,r(5,F)})}function Wt(L){hr[L?"unshift":"push"](()=>{N=L,r(4,N)})}function Ur(L){hr[L?"unshift":"push"](()=>{K=L,r(3,K)})}return t.$$set=L=>{"isTabbable"in L&&r(22,l=L.isTabbable),"show"in L&&r(23,c=L.show),"key"in L&&r(24,u=L.key),"ariaLabel"in L&&r(25,f=L.ariaLabel),"ariaLabelledBy"in L&&r(26,m=L.ariaLabelledBy),"closeButton"in L&&r(27,y=L.closeButton),"closeOnEsc"in L&&r(28,p=L.closeOnEsc),"closeOnOuterClick"in L&&r(29,g=L.closeOnOuterClick),"styleBg"in L&&r(30,v=L.styleBg),"styleWindowWrap"in L&&r(31,_=L.styleWindowWrap),"styleWindow"in L&&r(32,b=L.styleWindow),"styleContent"in L&&r(33,S=L.styleContent),"styleCloseButton"in L&&r(34,O=L.styleCloseButton),"classBg"in L&&r(35,A=L.classBg),"classWindowWrap"in L&&r(36,k=L.classWindowWrap),"classWindow"in L&&r(37,R=L.classWindow),"classContent"in L&&r(38,U=L.classContent),"classCloseButton"in L&&r(39,Z=L.classCloseButton),"unstyled"in L&&r(0,Y=L.unstyled),"setContext"in L&&r(40,ue=L.setContext),"transitionBg"in L&&r(41,te=L.transitionBg),"transitionBgProps"in L&&r(42,_e=L.transitionBgProps),"transitionWindow"in L&&r(43,re=L.transitionWindow),"transitionWindowProps"in L&&r(44,me=L.transitionWindowProps),"disableFocusTrap"in L&&r(45,Le=L.disableFocusTrap),"$$scope"in L&&r(47,s=L.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&8388608|t.$$.dirty[1]&32768&&Kt&&(dt(c)?pe(c):De())},[Y,ge,xe,K,N,F,d,w,M,H,J,ae,oe,ot,ct,Xe,$e,dt,De,Ot,Bt,sr,l,c,u,f,m,y,p,g,v,_,b,S,O,A,k,R,U,Z,ue,te,_e,re,me,Le,Kt,s,n,Fr,Wt,Ur]}class Ah extends Ue{constructor(e){super(),Fe(this,e,Th,Nh,Ve,{isTabbable:22,show:23,key:24,ariaLabel:25,ariaLabelledBy:26,closeButton:27,closeOnEsc:28,closeOnOuterClick:29,styleBg:30,styleWindowWrap:31,styleWindow:32,styleContent:33,styleCloseButton:34,classBg:35,classWindowWrap:36,classWindow:37,classContent:38,classCloseButton:39,unstyled:0,setContext:40,transitionBg:41,transitionBgProps:42,transitionWindow:43,transitionWindowProps:44,disableFocusTrap:45},null,[-1,-1,-1])}}function Rh(t){let e,r,n,s;return{c(){e=I("article"),r=W(`To validate an OME-ZARR file, use e.g.
          `),n=I("a"),s=W("?source=https://uk1s3.embassy.ebi.ac.uk/idr/zarr/v0.3/9836842.zarr"),P(n,"href",t[2]+"?source=https://uk1s3.embassy.ebi.ac.uk/idr/zarr/v0.3/9836842.zarr"),P(n,"class","svelte-3yq7nn"),P(e,"class","svelte-3yq7nn")},m(o,a){V(o,e,a),C(e,r),C(e,n),C(n,s)},p:B,i:B,o:B,d(o){o&&z(e)}}}function jh(t){let e,r,n,s={ctx:t,current:null,token:null,hasCatch:!0,pending:Vh,then:Dh,catch:Ih,value:4,error:5,blocks:[,,,]};return it(r=t[1],s),{c(){e=Qe(),s.block.c()},m(o,a){V(o,e,a),s.block.m(o,s.anchor=a),s.mount=()=>e.parentNode,s.anchor=e,n=!0},p(o,a){t=o,s.ctx=t,a&2&&r!==(r=t[1])&&it(r,s)||bt(s,t,a)},i(o){n||(q(s.block),n=!0)},o(o){for(let a=0;a<3;a+=1){const i=s.blocks[a];G(i)}n=!1},d(o){o&&z(e),s.block.d(o),s.token=null,s=null}}}function Ih(t){let e,r=t[5].message+"",n;return{c(){e=I("p"),n=W(r),Be(e,"color","red")},m(s,o){V(s,e,o),C(e,n)},p(s,o){o&2&&r!==(r=s[5].message+"")&&We(n,r)},i:B,o:B,d(s){s&&z(e)}}}function Dh(t){let e,r,n,s,o,a;e=new Eh({props:{source:t[0],zattrs:t[4]}});const i=[zh,Mh],l=[];function c(u,f){return u[4]["bioformats2raw.layout"]===3&&!u[4].plate?0:1}return s=c(t),o=l[s]=i[s](t),{c(){Ee(e.$$.fragment),r=X(),n=I("div"),o.c(),P(n,"class","svelte-3yq7nn")},m(u,f){ye(e,u,f),V(u,r,f),V(u,n,f),l[s].m(n,null),a=!0},p(u,f){const m={};f&1&&(m.source=u[0]),f&2&&(m.zattrs=u[4]),e.$set(m);let y=s;s=c(u),s===y?l[s].p(u,f):(Oe(),G(l[y],1,1,()=>{l[y]=null}),Te(),o=l[s],o?o.p(u,f):(o=l[s]=i[s](u),o.c()),q(o,1),o.m(n,null))},i(u){a||(q(e.$$.fragment,u),q(o),a=!0)},o(u){G(e.$$.fragment,u),G(o),a=!1},d(u){be(e,u),u&&z(r),u&&z(n),l[s].d()}}}function Mh(t){let e,r;return e=new $h({props:{rootAttrs:t[4],source:t[0]}}),{c(){Ee(e.$$.fragment)},m(n,s){ye(e,n,s),r=!0},p(n,s){const o={};s&2&&(o.rootAttrs=n[4]),s&1&&(o.source=n[0]),e.$set(o)},i(n){r||(q(e.$$.fragment,n),r=!0)},o(n){G(e.$$.fragment,n),r=!1},d(n){be(e,n)}}}function zh(t){let e,r;return e=new wd({props:{rootAttrs:t[4],source:t[0]}}),{c(){Ee(e.$$.fragment)},m(n,s){ye(e,n,s),r=!0},p(n,s){const o={};s&2&&(o.rootAttrs=n[4]),s&1&&(o.source=n[0]),e.$set(o)},i(n){r||(q(e.$$.fragment,n),r=!0)},o(n){G(e.$$.fragment,n),r=!1},d(n){be(e,n)}}}function Vh(t){let e;return{c(){e=I("div"),e.textContent="loading...",P(e,"class","svelte-3yq7nn")},m(r,n){V(r,e,n)},p:B,i:B,o:B,d(r){r&&z(e)}}}function Fh(t){let e,r,n,s,o,a,i,l;n=new Oi({});const c=[jh,Rh],u=[];function f(m,y){return m[0]?0:1}return a=f(t),i=u[a]=c[a](t),{c(){e=I("main"),r=I("nav"),Ee(n.$$.fragment),s=X(),o=I("section"),i.c(),P(r,"class","svelte-3yq7nn"),P(o,"class","svelte-3yq7nn"),P(e,"class","svelte-3yq7nn")},m(m,y){V(m,e,y),C(e,r),ye(n,r,null),C(e,s),C(e,o),u[a].m(o,null),l=!0},p(m,y){let p=a;a=f(m),a===p?u[a].p(m,y):(Oe(),G(u[p],1,1,()=>{u[p]=null}),Te(),i=u[a],i?i.p(m,y):(i=u[a]=c[a](m),i.c()),q(i,1),i.m(o,null))},i(m){l||(q(n.$$.fragment,m),q(i),l=!0)},o(m){G(n.$$.fragment,m),G(i),l=!1},d(m){m&&z(e),be(n),u[a].d()}}}function Uh(t){let e,r;return e=new Ah({props:{$$slots:{default:[Fh]},$$scope:{ctx:t}}}),{c(){Ee(e.$$.fragment)},m(n,s){ye(e,n,s),r=!0},p(n,[s]){const o={};s&67&&(o.$$scope={dirty:s,ctx:n}),e.$set(o)},i(n){r||(q(e.$$.fragment,n),r=!0)},o(n){G(e.$$.fragment,n),r=!1},d(n){be(e,n)}}}function Lh(t,e,r){let s=new URLSearchParams(window.location.search).get("source");s&&!s.endsWith("/")&&(s=s+"/");let o=window.location.href,a;return s&&(console.log("Loading JSON... "+s+".zattrs"),a=nr(s+".zattrs")),[s,a,o]}class qh extends Ue{constructor(e){super(),Fe(this,e,Lh,Uh,Ve,{})}}new qh({target:document.getElementById("app")});
