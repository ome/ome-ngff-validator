var yo=Object.defineProperty,go=Object.defineProperties;var $o=Object.getOwnPropertyDescriptors;var bs=Object.getOwnPropertySymbols;var bo=Object.prototype.hasOwnProperty,wo=Object.prototype.propertyIsEnumerable;var ws=(t,e,r)=>e in t?yo(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Ce=(t,e)=>{for(var r in e||(e={}))bo.call(e,r)&&ws(t,r,e[r]);if(bs)for(var r of bs(e))wo.call(e,r)&&ws(t,r,e[r]);return t},St=(t,e)=>go(t,$o(e));const Eo=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerpolicy&&(a.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?a.credentials="include":s.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}};Eo();function J(){}const ko=t=>t;function So(t,e){for(const r in e)t[r]=e[r];return t}function Po(t){return t&&typeof t=="object"&&typeof t.then=="function"}function ga(t){return t()}function Es(){return Object.create(null)}function xt(t){t.forEach(ga)}function $a(t){return typeof t=="function"}function xe(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function No(t){return Object.keys(t).length===0}function Oo(t){return t==null?"":t}const ba=typeof window!="undefined";let Co=ba?()=>window.performance.now():()=>Date.now(),wn=ba?t=>requestAnimationFrame(t):J;const Xt=new Set;function wa(t){Xt.forEach(e=>{e.c(t)||(Xt.delete(e),e.f())}),Xt.size!==0&&wn(wa)}function jo(t){let e;return Xt.size===0&&wn(wa),{promise:new Promise(r=>{Xt.add(e={c:t,f:r})}),abort(){Xt.delete(e)}}}function I(t,e){t.appendChild(e)}function Ea(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function To(t){const e=M("style");return Ro(Ea(t),e),e.sheet}function Ro(t,e){I(t.head||t,e)}function U(t,e,r){t.insertBefore(e,r||null)}function V(t){t.parentNode.removeChild(t)}function Lt(t,e){for(let r=0;r<t.length;r+=1)t[r]&&t[r].d(e)}function M(t){return document.createElement(t)}function Io(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function G(t){return document.createTextNode(t)}function x(){return G(" ")}function et(){return G("")}function Ao(t,e,r,n){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r,n)}function F(t,e,r){r==null?t.removeAttribute(e):t.getAttribute(e)!==r&&t.setAttribute(e,r)}function ks(t,e){for(const r in e)F(t,r,e[r])}function Do(t){return Array.from(t.childNodes)}function Ae(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function Ge(t,e,r,n){r===null?t.style.removeProperty(e):t.style.setProperty(e,r,n?"important":"")}function Mo(t,e,{bubbles:r=!1,cancelable:n=!1}={}){const s=document.createEvent("CustomEvent");return s.initCustomEvent(t,r,n,e),s}const Ur=new Map;let qr=0;function zo(t){let e=5381,r=t.length;for(;r--;)e=(e<<5)-e^t.charCodeAt(r);return e>>>0}function Vo(t,e){const r={stylesheet:To(e),rules:{}};return Ur.set(t,r),r}function Ss(t,e,r,n,s,a,o,i=0){const l=16.666/n;let c=`{
`;for(let y=0;y<=1;y+=l){const m=e+(r-e)*a(y);c+=y*100+`%{${o(m,1-m)}}
`}const u=c+`100% {${o(r,1-r)}}
}`,d=`__svelte_${zo(u)}_${i}`,v=Ea(t),{stylesheet:w,rules:p}=Ur.get(v)||Vo(v,t);p[d]||(p[d]=!0,w.insertRule(`@keyframes ${d} ${u}`,w.cssRules.length));const $=t.style.animation||"";return t.style.animation=`${$?`${$}, `:""}${d} ${n}ms linear ${s}ms 1 both`,qr+=1,d}function Fo(t,e){const r=(t.style.animation||"").split(", "),n=r.filter(e?a=>a.indexOf(e)<0:a=>a.indexOf("__svelte")===-1),s=r.length-n.length;s&&(t.style.animation=n.join(", "),qr-=s,qr||Uo())}function Uo(){wn(()=>{qr||(Ur.forEach(t=>{const{stylesheet:e}=t;let r=e.cssRules.length;for(;r--;)e.deleteRule(r);t.rules={}}),Ur.clear())})}let _r;function yt(t){_r=t}function qo(){if(!_r)throw new Error("Function called outside component initialization");return _r}const cr=[],Ps=[],Ar=[],Ns=[],Lo=Promise.resolve();let dn=!1;function Ko(){dn||(dn=!0,Lo.then(En))}function vr(t){Ar.push(t)}const tn=new Set;let Or=0;function En(){const t=_r;do{for(;Or<cr.length;){const e=cr[Or];Or++,yt(e),Ho(e.$$)}for(yt(null),cr.length=0,Or=0;Ps.length;)Ps.pop()();for(let e=0;e<Ar.length;e+=1){const r=Ar[e];tn.has(r)||(tn.add(r),r())}Ar.length=0}while(cr.length);for(;Ns.length;)Ns.pop()();dn=!1,tn.clear(),yt(t)}function Ho(t){if(t.fragment!==null){t.update(),xt(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(vr)}}let or;function Go(){return or||(or=Promise.resolve(),or.then(()=>{or=null})),or}function rn(t,e,r){t.dispatchEvent(Mo(`${e?"intro":"outro"}${r}`))}const Dr=new Set;let gt;function Ve(){gt={r:0,c:[],p:gt}}function Fe(){gt.r||xt(gt.c),gt=gt.p}function Z(t,e){t&&t.i&&(Dr.delete(t),t.i(e))}function te(t,e,r,n){if(t&&t.o){if(Dr.has(t))return;Dr.add(t),gt.c.push(()=>{Dr.delete(t),n&&(r&&t.d(1),n())}),t.o(e)}}const Jo={duration:0};function Os(t,e,r,n){let s=e(t,r),a=n?0:1,o=null,i=null,l=null;function c(){l&&Fo(t,l)}function u(v,w){const p=v.b-a;return w*=Math.abs(p),{a,b:v.b,d:p,duration:w,start:v.start,end:v.start+w,group:v.group}}function d(v){const{delay:w=0,duration:p=300,easing:$=ko,tick:y=J,css:m}=s||Jo,E={start:Co()+w,b:v};v||(E.group=gt,gt.r+=1),o||i?i=E:(m&&(c(),l=Ss(t,a,v,p,w,$,m)),v&&y(0,1),o=u(E,p),vr(()=>rn(t,v,"start")),jo(k=>{if(i&&k>i.start&&(o=u(i,p),i=null,rn(t,o.b,"start"),m&&(c(),l=Ss(t,a,o.b,o.duration,0,$,s.css))),o){if(k>=o.end)y(a=o.b,1-a),rn(t,o.b,"end"),i||(o.b?c():--o.group.r||xt(o.group.c)),o=null;else if(k>=o.start){const T=k-o.start;a=o.a+o.d*$(T/o.duration),y(a,1-a)}}return!!(o||i)}))}return{run(v){$a(s)?Go().then(()=>{s=s(),d(v)}):d(v)},end(){c(),o=i=null}}}function jt(t,e){const r=e.token={};function n(s,a,o,i){if(e.token!==r)return;e.resolved=i;let l=e.ctx;o!==void 0&&(l=l.slice(),l[o]=i);const c=s&&(e.current=s)(l);let u=!1;e.block&&(e.blocks?e.blocks.forEach((d,v)=>{v!==a&&d&&(Ve(),te(d,1,1,()=>{e.blocks[v]===d&&(e.blocks[v]=null)}),Fe())}):e.block.d(1),c.c(),Z(c,1),c.m(e.mount(),e.anchor),u=!0),e.block=c,e.blocks&&(e.blocks[a]=c),u&&En()}if(Po(t)){const s=qo();if(t.then(a=>{yt(s),n(e.then,1,e.value,a),yt(null)},a=>{if(yt(s),n(e.catch,2,e.error,a),yt(null),!e.hasCatch)throw a}),e.current!==e.pending)return n(e.pending,0),!0}else{if(e.current!==e.then)return n(e.then,1,e.value,t),!0;e.resolved=t}}function Kt(t,e,r){const n=e.slice(),{resolved:s}=t;t.current===t.then&&(n[t.value]=s),t.current===t.catch&&(n[t.error]=s),t.block.p(n,r)}function Bo(t,e){const r={},n={},s={$$scope:1};let a=t.length;for(;a--;){const o=t[a],i=e[a];if(i){for(const l in o)l in i||(n[l]=1);for(const l in i)s[l]||(r[l]=i[l],s[l]=1);t[a]=i}else for(const l in o)s[l]=1}for(const o in n)o in r||(r[o]=void 0);return r}function Je(t){t&&t.c()}function Ue(t,e,r,n){const{fragment:s,on_mount:a,on_destroy:o,after_update:i}=t.$$;s&&s.m(e,r),n||vr(()=>{const l=a.map(ga).filter($a);o?o.push(...l):xt(l),t.$$.on_mount=[]}),i.forEach(vr)}function qe(t,e){const r=t.$$;r.fragment!==null&&(xt(r.on_destroy),r.fragment&&r.fragment.d(e),r.on_destroy=r.fragment=null,r.ctx=[])}function Wo(t,e){t.$$.dirty[0]===-1&&(cr.push(t),Ko(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function tt(t,e,r,n,s,a,o,i=[-1]){const l=_r;yt(t);const c=t.$$={fragment:null,ctx:null,props:a,update:J,not_equal:s,bound:Es(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(l?l.$$.context:[])),callbacks:Es(),dirty:i,skip_bound:!1,root:e.target||l.$$.root};o&&o(c.root);let u=!1;if(c.ctx=r?r(t,e.props||{},(d,v,...w)=>{const p=w.length?w[0]:v;return c.ctx&&s(c.ctx[d],c.ctx[d]=p)&&(!c.skip_bound&&c.bound[d]&&c.bound[d](p),u&&Wo(t,d)),v}):[],c.update(),u=!0,xt(c.before_update),c.fragment=n?n(c.ctx):!1,e.target){if(e.hydrate){const d=Do(e.target);c.fragment&&c.fragment.l(d),d.forEach(V)}else c.fragment&&c.fragment.c();e.intro&&Z(t.$$.fragment),Ue(t,e.target,e.anchor,e.customElement),En()}yt(l)}class rt{$destroy(){qe(this,1),this.$destroy=J}$on(e,r){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(r),()=>{const s=n.indexOf(r);s!==-1&&n.splice(s,1)}}$set(e){this.$$set&&!No(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function Xo(t){let e;return{c(){e=M("h1"),e.textContent="OME-NGFF Validator",F(e,"class","svelte-1tmm5ed")},m(r,n){U(r,e,n)},p:J,i:J,o:J,d(r){r&&V(e)}}}class Yo extends rt{constructor(e){super(),tt(this,e,null,Xo,xe,{})}}var Zo=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function Qo(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var hn={exports:{}},ka={},Qe={},Zt={},$r={},oe={},yr={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.regexpCode=t.getEsmExportName=t.getProperty=t.safeStringify=t.stringify=t.strConcat=t.addCodeArg=t.str=t._=t.nil=t._Code=t.Name=t.IDENTIFIER=t._CodeOrName=void 0;class e{}t._CodeOrName=e,t.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends e{constructor(E){if(super(),!t.IDENTIFIER.test(E))throw new Error("CodeGen: name must be a valid identifier");this.str=E}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}t.Name=r;class n extends e{constructor(E){super(),this._items=typeof E=="string"?[E]:E}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const E=this._items[0];return E===""||E==='""'}get str(){var E;return(E=this._str)!==null&&E!==void 0?E:this._str=this._items.reduce((k,T)=>`${k}${T}`,"")}get names(){var E;return(E=this._names)!==null&&E!==void 0?E:this._names=this._items.reduce((k,T)=>(T instanceof r&&(k[T.str]=(k[T.str]||0)+1),k),{})}}t._Code=n,t.nil=new n("");function s(m,...E){const k=[m[0]];let T=0;for(;T<E.length;)i(k,E[T]),k.push(m[++T]);return new n(k)}t._=s;const a=new n("+");function o(m,...E){const k=[w(m[0])];let T=0;for(;T<E.length;)k.push(a),i(k,E[T]),k.push(a,w(m[++T]));return l(k),new n(k)}t.str=o;function i(m,E){E instanceof n?m.push(...E._items):E instanceof r?m.push(E):m.push(d(E))}t.addCodeArg=i;function l(m){let E=1;for(;E<m.length-1;){if(m[E]===a){const k=c(m[E-1],m[E+1]);if(k!==void 0){m.splice(E-1,3,k);continue}m[E++]="+"}E++}}function c(m,E){if(E==='""')return m;if(m==='""')return E;if(typeof m=="string")return E instanceof r||m[m.length-1]!=='"'?void 0:typeof E!="string"?`${m.slice(0,-1)}${E}"`:E[0]==='"'?m.slice(0,-1)+E.slice(1):void 0;if(typeof E=="string"&&E[0]==='"'&&!(m instanceof r))return`"${m}${E.slice(1)}`}function u(m,E){return E.emptyStr()?m:m.emptyStr()?E:o`${m}${E}`}t.strConcat=u;function d(m){return typeof m=="number"||typeof m=="boolean"||m===null?m:w(Array.isArray(m)?m.join(","):m)}function v(m){return new n(w(m))}t.stringify=v;function w(m){return JSON.stringify(m).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}t.safeStringify=w;function p(m){return typeof m=="string"&&t.IDENTIFIER.test(m)?new n(`.${m}`):s`[${m}]`}t.getProperty=p;function $(m){if(typeof m=="string"&&t.IDENTIFIER.test(m))return new n(`${m}`);throw new Error(`CodeGen: invalid export name: ${m}, use explicit $id name mapping`)}t.getEsmExportName=$;function y(m){return new n(m.toString())}t.regexpCode=y})(yr);var mn={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ValueScope=t.ValueScopeName=t.Scope=t.varKinds=t.UsedValueState=void 0;const e=yr;class r extends Error{constructor(c){super(`CodeGen: "code" for ${c} not defined`),this.value=c.value}}var n;(function(l){l[l.Started=0]="Started",l[l.Completed=1]="Completed"})(n=t.UsedValueState||(t.UsedValueState={})),t.varKinds={const:new e.Name("const"),let:new e.Name("let"),var:new e.Name("var")};class s{constructor({prefixes:c,parent:u}={}){this._names={},this._prefixes=c,this._parent=u}toName(c){return c instanceof e.Name?c:this.name(c)}name(c){return new e.Name(this._newName(c))}_newName(c){const u=this._names[c]||this._nameGroup(c);return`${c}${u.index++}`}_nameGroup(c){var u,d;if(((d=(u=this._parent)===null||u===void 0?void 0:u._prefixes)===null||d===void 0?void 0:d.has(c))||this._prefixes&&!this._prefixes.has(c))throw new Error(`CodeGen: prefix "${c}" is not allowed in this scope`);return this._names[c]={prefix:c,index:0}}}t.Scope=s;class a extends e.Name{constructor(c,u){super(u),this.prefix=c}setValue(c,{property:u,itemIndex:d}){this.value=c,this.scopePath=(0,e._)`.${new e.Name(u)}[${d}]`}}t.ValueScopeName=a;const o=(0,e._)`\n`;class i extends s{constructor(c){super(c),this._values={},this._scope=c.scope,this.opts=St(Ce({},c),{_n:c.lines?o:e.nil})}get(){return this._scope}name(c){return new a(c,this._newName(c))}value(c,u){var d;if(u.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const v=this.toName(c),{prefix:w}=v,p=(d=u.key)!==null&&d!==void 0?d:u.ref;let $=this._values[w];if($){const E=$.get(p);if(E)return E}else $=this._values[w]=new Map;$.set(p,v);const y=this._scope[w]||(this._scope[w]=[]),m=y.length;return y[m]=u.ref,v.setValue(u,{property:w,itemIndex:m}),v}getValue(c,u){const d=this._values[c];if(!!d)return d.get(u)}scopeRefs(c,u=this._values){return this._reduceValues(u,d=>{if(d.scopePath===void 0)throw new Error(`CodeGen: name "${d}" has no value`);return(0,e._)`${c}${d.scopePath}`})}scopeCode(c=this._values,u,d){return this._reduceValues(c,v=>{if(v.value===void 0)throw new Error(`CodeGen: name "${v}" has no value`);return v.value.code},u,d)}_reduceValues(c,u,d={},v){let w=e.nil;for(const p in c){const $=c[p];if(!$)continue;const y=d[p]=d[p]||new Map;$.forEach(m=>{if(y.has(m))return;y.set(m,n.Started);let E=u(m);if(E){const k=this.opts.es5?t.varKinds.var:t.varKinds.const;w=(0,e._)`${w}${k} ${m} = ${E};${this.opts._n}`}else if(E=v==null?void 0:v(m))w=(0,e._)`${w}${E}${this.opts._n}`;else throw new r(m);y.set(m,n.Completed)})}return w}}t.ValueScope=i})(mn);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.or=t.and=t.not=t.CodeGen=t.operators=t.varKinds=t.ValueScopeName=t.ValueScope=t.Scope=t.Name=t.regexpCode=t.stringify=t.getProperty=t.nil=t.strConcat=t.str=t._=void 0;const e=yr,r=mn;var n=yr;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(t,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(t,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(t,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return n.Name}});var s=mn;Object.defineProperty(t,"Scope",{enumerable:!0,get:function(){return s.Scope}}),Object.defineProperty(t,"ValueScope",{enumerable:!0,get:function(){return s.ValueScope}}),Object.defineProperty(t,"ValueScopeName",{enumerable:!0,get:function(){return s.ValueScopeName}}),Object.defineProperty(t,"varKinds",{enumerable:!0,get:function(){return s.varKinds}}),t.operators={GT:new e._Code(">"),GTE:new e._Code(">="),LT:new e._Code("<"),LTE:new e._Code("<="),EQ:new e._Code("==="),NEQ:new e._Code("!=="),NOT:new e._Code("!"),OR:new e._Code("||"),AND:new e._Code("&&"),ADD:new e._Code("+")};class a{optimizeNodes(){return this}optimizeNames(f,g){return this}}class o extends a{constructor(f,g,R){super(),this.varKind=f,this.name=g,this.rhs=R}render({es5:f,_n:g}){const R=f?r.varKinds.var:this.varKind,L=this.rhs===void 0?"":` = ${this.rhs}`;return`${R} ${this.name}${L};`+g}optimizeNames(f,g){if(!!f[this.name.str])return this.rhs&&(this.rhs=ye(this.rhs,f,g)),this}get names(){return this.rhs instanceof e._CodeOrName?this.rhs.names:{}}}class i extends a{constructor(f,g,R){super(),this.lhs=f,this.rhs=g,this.sideEffects=R}render({_n:f}){return`${this.lhs} = ${this.rhs};`+f}optimizeNames(f,g){if(!(this.lhs instanceof e.Name&&!f[this.lhs.str]&&!this.sideEffects))return this.rhs=ye(this.rhs,f,g),this}get names(){const f=this.lhs instanceof e.Name?{}:Ce({},this.lhs.names);return ke(f,this.rhs)}}class l extends i{constructor(f,g,R,L){super(f,R,L),this.op=g}render({_n:f}){return`${this.lhs} ${this.op}= ${this.rhs};`+f}}class c extends a{constructor(f){super(),this.label=f,this.names={}}render({_n:f}){return`${this.label}:`+f}}class u extends a{constructor(f){super(),this.label=f,this.names={}}render({_n:f}){return`break${this.label?` ${this.label}`:""};`+f}}class d extends a{constructor(f){super(),this.error=f}render({_n:f}){return`throw ${this.error};`+f}get names(){return this.error.names}}class v extends a{constructor(f){super(),this.code=f}render({_n:f}){return`${this.code};`+f}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(f,g){return this.code=ye(this.code,f,g),this}get names(){return this.code instanceof e._CodeOrName?this.code.names:{}}}class w extends a{constructor(f=[]){super(),this.nodes=f}render(f){return this.nodes.reduce((g,R)=>g+R.render(f),"")}optimizeNodes(){const{nodes:f}=this;let g=f.length;for(;g--;){const R=f[g].optimizeNodes();Array.isArray(R)?f.splice(g,1,...R):R?f[g]=R:f.splice(g,1)}return f.length>0?this:void 0}optimizeNames(f,g){const{nodes:R}=this;let L=R.length;for(;L--;){const K=R[L];K.optimizeNames(f,g)||(nt(f,K.names),R.splice(L,1))}return R.length>0?this:void 0}get names(){return this.nodes.reduce((f,g)=>re(f,g.names),{})}}class p extends w{render(f){return"{"+f._n+super.render(f)+"}"+f._n}}class $ extends w{}class y extends p{}y.kind="else";class m extends p{constructor(f,g){super(g),this.condition=f}render(f){let g=`if(${this.condition})`+super.render(f);return this.else&&(g+="else "+this.else.render(f)),g}optimizeNodes(){super.optimizeNodes();const f=this.condition;if(f===!0)return this.nodes;let g=this.else;if(g){const R=g.optimizeNodes();g=this.else=Array.isArray(R)?new y(R):R}if(g)return f===!1?g instanceof m?g:g.nodes:this.nodes.length?this:new m(st(f),g instanceof m?[g]:g.nodes);if(!(f===!1||!this.nodes.length))return this}optimizeNames(f,g){var R;if(this.else=(R=this.else)===null||R===void 0?void 0:R.optimizeNames(f,g),!!(super.optimizeNames(f,g)||this.else))return this.condition=ye(this.condition,f,g),this}get names(){const f=super.names;return ke(f,this.condition),this.else&&re(f,this.else.names),f}}m.kind="if";class E extends p{}E.kind="for";class k extends E{constructor(f){super(),this.iteration=f}render(f){return`for(${this.iteration})`+super.render(f)}optimizeNames(f,g){if(!!super.optimizeNames(f,g))return this.iteration=ye(this.iteration,f,g),this}get names(){return re(super.names,this.iteration.names)}}class T extends E{constructor(f,g,R,L){super(),this.varKind=f,this.name=g,this.from=R,this.to=L}render(f){const g=f.es5?r.varKinds.var:this.varKind,{name:R,from:L,to:K}=this;return`for(${g} ${R}=${L}; ${R}<${K}; ${R}++)`+super.render(f)}get names(){const f=ke(super.names,this.from);return ke(f,this.to)}}class A extends E{constructor(f,g,R,L){super(),this.loop=f,this.varKind=g,this.name=R,this.iterable=L}render(f){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(f)}optimizeNames(f,g){if(!!super.optimizeNames(f,g))return this.iterable=ye(this.iterable,f,g),this}get names(){return re(super.names,this.iterable.names)}}class S extends p{constructor(f,g,R){super(),this.name=f,this.args=g,this.async=R}render(f){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(f)}}S.kind="func";class C extends w{render(f){return"return "+super.render(f)}}C.kind="return";class z extends p{render(f){let g="try"+super.render(f);return this.catch&&(g+=this.catch.render(f)),this.finally&&(g+=this.finally.render(f)),g}optimizeNodes(){var f,g;return super.optimizeNodes(),(f=this.catch)===null||f===void 0||f.optimizeNodes(),(g=this.finally)===null||g===void 0||g.optimizeNodes(),this}optimizeNames(f,g){var R,L;return super.optimizeNames(f,g),(R=this.catch)===null||R===void 0||R.optimizeNames(f,g),(L=this.finally)===null||L===void 0||L.optimizeNames(f,g),this}get names(){const f=super.names;return this.catch&&re(f,this.catch.names),this.finally&&re(f,this.finally.names),f}}class H extends p{constructor(f){super(),this.error=f}render(f){return`catch(${this.error})`+super.render(f)}}H.kind="catch";class B extends p{render(f){return"finally"+super.render(f)}}B.kind="finally";class ue{constructor(f,g={}){this._values={},this._blockStarts=[],this._constants={},this.opts=St(Ce({},g),{_n:g.lines?`
`:""}),this._extScope=f,this._scope=new r.Scope({parent:f}),this._nodes=[new $]}toString(){return this._root.render(this.opts)}name(f){return this._scope.name(f)}scopeName(f){return this._extScope.name(f)}scopeValue(f,g){const R=this._extScope.value(f,g);return(this._values[R.prefix]||(this._values[R.prefix]=new Set)).add(R),R}getScopeValue(f,g){return this._extScope.getValue(f,g)}scopeRefs(f){return this._extScope.scopeRefs(f,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(f,g,R,L){const K=this._scope.toName(g);return R!==void 0&&L&&(this._constants[K.str]=R),this._leafNode(new o(f,K,R)),K}const(f,g,R){return this._def(r.varKinds.const,f,g,R)}let(f,g,R){return this._def(r.varKinds.let,f,g,R)}var(f,g,R){return this._def(r.varKinds.var,f,g,R)}assign(f,g,R){return this._leafNode(new i(f,g,R))}add(f,g){return this._leafNode(new l(f,t.operators.ADD,g))}code(f){return typeof f=="function"?f():f!==e.nil&&this._leafNode(new v(f)),this}object(...f){const g=["{"];for(const[R,L]of f)g.length>1&&g.push(","),g.push(R),(R!==L||this.opts.es5)&&(g.push(":"),(0,e.addCodeArg)(g,L));return g.push("}"),new e._Code(g)}if(f,g,R){if(this._blockNode(new m(f)),g&&R)this.code(g).else().code(R).endIf();else if(g)this.code(g).endIf();else if(R)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(f){return this._elseNode(new m(f))}else(){return this._elseNode(new y)}endIf(){return this._endBlockNode(m,y)}_for(f,g){return this._blockNode(f),g&&this.code(g).endFor(),this}for(f,g){return this._for(new k(f),g)}forRange(f,g,R,L,K=this.opts.es5?r.varKinds.var:r.varKinds.let){const se=this._scope.toName(f);return this._for(new T(K,se,g,R),()=>L(se))}forOf(f,g,R,L=r.varKinds.const){const K=this._scope.toName(f);if(this.opts.es5){const se=g instanceof e.Name?g:this.var("_arr",g);return this.forRange("_i",0,(0,e._)`${se}.length`,ne=>{this.var(K,(0,e._)`${se}[${ne}]`),R(K)})}return this._for(new A("of",L,K,g),()=>R(K))}forIn(f,g,R,L=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(f,(0,e._)`Object.keys(${g})`,R);const K=this._scope.toName(f);return this._for(new A("in",L,K,g),()=>R(K))}endFor(){return this._endBlockNode(E)}label(f){return this._leafNode(new c(f))}break(f){return this._leafNode(new u(f))}return(f){const g=new C;if(this._blockNode(g),this.code(f),g.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(C)}try(f,g,R){if(!g&&!R)throw new Error('CodeGen: "try" without "catch" and "finally"');const L=new z;if(this._blockNode(L),this.code(f),g){const K=this.name("e");this._currNode=L.catch=new H(K),g(K)}return R&&(this._currNode=L.finally=new B,this.code(R)),this._endBlockNode(H,B)}throw(f){return this._leafNode(new d(f))}block(f,g){return this._blockStarts.push(this._nodes.length),f&&this.code(f).endBlock(g),this}endBlock(f){const g=this._blockStarts.pop();if(g===void 0)throw new Error("CodeGen: not in self-balancing block");const R=this._nodes.length-g;if(R<0||f!==void 0&&R!==f)throw new Error(`CodeGen: wrong number of nodes: ${R} vs ${f} expected`);return this._nodes.length=g,this}func(f,g=e.nil,R,L){return this._blockNode(new S(f,g,R)),L&&this.code(L).endFunc(),this}endFunc(){return this._endBlockNode(S)}optimize(f=1){for(;f-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(f){return this._currNode.nodes.push(f),this}_blockNode(f){this._currNode.nodes.push(f),this._nodes.push(f)}_endBlockNode(f,g){const R=this._currNode;if(R instanceof f||g&&R instanceof g)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${g?`${f.kind}/${g.kind}`:f.kind}"`)}_elseNode(f){const g=this._currNode;if(!(g instanceof m))throw new Error('CodeGen: "else" without "if"');return this._currNode=g.else=f,this}get _root(){return this._nodes[0]}get _currNode(){const f=this._nodes;return f[f.length-1]}set _currNode(f){const g=this._nodes;g[g.length-1]=f}}t.CodeGen=ue;function re(N,f){for(const g in f)N[g]=(N[g]||0)+(f[g]||0);return N}function ke(N,f){return f instanceof e._CodeOrName?re(N,f.names):N}function ye(N,f,g){if(N instanceof e.Name)return R(N);if(!L(N))return N;return new e._Code(N._items.reduce((K,se)=>(se instanceof e.Name&&(se=R(se)),se instanceof e._Code?K.push(...se._items):K.push(se),K),[]));function R(K){const se=g[K.str];return se===void 0||f[K.str]!==1?K:(delete f[K.str],se)}function L(K){return K instanceof e._Code&&K._items.some(se=>se instanceof e.Name&&f[se.str]===1&&g[se.str]!==void 0)}}function nt(N,f){for(const g in f)N[g]=(N[g]||0)-(f[g]||0)}function st(N){return typeof N=="boolean"||typeof N=="number"||N===null?!N:(0,e._)`!${D(N)}`}t.not=st;const pt=P(t.operators.AND);function Be(...N){return N.reduce(pt)}t.and=Be;const wt=P(t.operators.OR);function q(...N){return N.reduce(wt)}t.or=q;function P(N){return(f,g)=>f===e.nil?g:g===e.nil?f:(0,e._)`${D(f)} ${N} ${D(g)}`}function D(N){return N instanceof e.Name?N:(0,e._)`(${N})`}})(oe);var ce={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.checkStrictMode=t.getErrorPath=t.Type=t.useFunc=t.setEvaluated=t.evaluatedPropsToName=t.mergeEvaluated=t.eachItem=t.unescapeJsonPointer=t.escapeJsonPointer=t.escapeFragment=t.unescapeFragment=t.schemaRefOrVal=t.schemaHasRulesButRef=t.schemaHasRules=t.checkUnknownRules=t.alwaysValidSchema=t.toHash=void 0;const e=oe,r=yr;function n(S){const C={};for(const z of S)C[z]=!0;return C}t.toHash=n;function s(S,C){return typeof C=="boolean"?C:Object.keys(C).length===0?!0:(a(S,C),!o(C,S.self.RULES.all))}t.alwaysValidSchema=s;function a(S,C=S.schema){const{opts:z,self:H}=S;if(!z.strictSchema||typeof C=="boolean")return;const B=H.RULES.keywords;for(const ue in C)B[ue]||A(S,`unknown keyword: "${ue}"`)}t.checkUnknownRules=a;function o(S,C){if(typeof S=="boolean")return!S;for(const z in S)if(C[z])return!0;return!1}t.schemaHasRules=o;function i(S,C){if(typeof S=="boolean")return!S;for(const z in S)if(z!=="$ref"&&C.all[z])return!0;return!1}t.schemaHasRulesButRef=i;function l({topSchemaRef:S,schemaPath:C},z,H,B){if(!B){if(typeof z=="number"||typeof z=="boolean")return z;if(typeof z=="string")return(0,e._)`${z}`}return(0,e._)`${S}${C}${(0,e.getProperty)(H)}`}t.schemaRefOrVal=l;function c(S){return v(decodeURIComponent(S))}t.unescapeFragment=c;function u(S){return encodeURIComponent(d(S))}t.escapeFragment=u;function d(S){return typeof S=="number"?`${S}`:S.replace(/~/g,"~0").replace(/\//g,"~1")}t.escapeJsonPointer=d;function v(S){return S.replace(/~1/g,"/").replace(/~0/g,"~")}t.unescapeJsonPointer=v;function w(S,C){if(Array.isArray(S))for(const z of S)C(z);else C(S)}t.eachItem=w;function p({mergeNames:S,mergeToName:C,mergeValues:z,resultToName:H}){return(B,ue,re,ke)=>{const ye=re===void 0?ue:re instanceof e.Name?(ue instanceof e.Name?S(B,ue,re):C(B,ue,re),re):ue instanceof e.Name?(C(B,re,ue),ue):z(ue,re);return ke===e.Name&&!(ye instanceof e.Name)?H(B,ye):ye}}t.mergeEvaluated={props:p({mergeNames:(S,C,z)=>S.if((0,e._)`${z} !== true && ${C} !== undefined`,()=>{S.if((0,e._)`${C} === true`,()=>S.assign(z,!0),()=>S.assign(z,(0,e._)`${z} || {}`).code((0,e._)`Object.assign(${z}, ${C})`))}),mergeToName:(S,C,z)=>S.if((0,e._)`${z} !== true`,()=>{C===!0?S.assign(z,!0):(S.assign(z,(0,e._)`${z} || {}`),y(S,z,C))}),mergeValues:(S,C)=>S===!0?!0:Ce(Ce({},S),C),resultToName:$}),items:p({mergeNames:(S,C,z)=>S.if((0,e._)`${z} !== true && ${C} !== undefined`,()=>S.assign(z,(0,e._)`${C} === true ? true : ${z} > ${C} ? ${z} : ${C}`)),mergeToName:(S,C,z)=>S.if((0,e._)`${z} !== true`,()=>S.assign(z,C===!0?!0:(0,e._)`${z} > ${C} ? ${z} : ${C}`)),mergeValues:(S,C)=>S===!0?!0:Math.max(S,C),resultToName:(S,C)=>S.var("items",C)})};function $(S,C){if(C===!0)return S.var("props",!0);const z=S.var("props",(0,e._)`{}`);return C!==void 0&&y(S,z,C),z}t.evaluatedPropsToName=$;function y(S,C,z){Object.keys(z).forEach(H=>S.assign((0,e._)`${C}${(0,e.getProperty)(H)}`,!0))}t.setEvaluated=y;const m={};function E(S,C){return S.scopeValue("func",{ref:C,code:m[C.code]||(m[C.code]=new r._Code(C.code))})}t.useFunc=E;var k;(function(S){S[S.Num=0]="Num",S[S.Str=1]="Str"})(k=t.Type||(t.Type={}));function T(S,C,z){if(S instanceof e.Name){const H=C===k.Num;return z?H?(0,e._)`"[" + ${S} + "]"`:(0,e._)`"['" + ${S} + "']"`:H?(0,e._)`"/" + ${S}`:(0,e._)`"/" + ${S}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return z?(0,e.getProperty)(S).toString():"/"+d(S)}t.getErrorPath=T;function A(S,C,z=S.opts.strictSchema){if(!!z){if(C=`strict mode: ${C}`,z===!0)throw new Error(C);S.self.logger.warn(C)}}t.checkStrictMode=A})(ce);var mt={};Object.defineProperty(mt,"__esModule",{value:!0});const je=oe,xo={data:new je.Name("data"),valCxt:new je.Name("valCxt"),instancePath:new je.Name("instancePath"),parentData:new je.Name("parentData"),parentDataProperty:new je.Name("parentDataProperty"),rootData:new je.Name("rootData"),dynamicAnchors:new je.Name("dynamicAnchors"),vErrors:new je.Name("vErrors"),errors:new je.Name("errors"),this:new je.Name("this"),self:new je.Name("self"),scope:new je.Name("scope"),json:new je.Name("json"),jsonPos:new je.Name("jsonPos"),jsonLen:new je.Name("jsonLen"),jsonPart:new je.Name("jsonPart")};mt.default=xo;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.extendErrors=t.resetErrorsCount=t.reportExtraError=t.reportError=t.keyword$DataError=t.keywordError=void 0;const e=oe,r=ce,n=mt;t.keywordError={message:({keyword:y})=>(0,e.str)`must pass "${y}" keyword validation`},t.keyword$DataError={message:({keyword:y,schemaType:m})=>m?(0,e.str)`"${y}" keyword must be ${m} ($data)`:(0,e.str)`"${y}" keyword is invalid ($data)`};function s(y,m=t.keywordError,E,k){const{it:T}=y,{gen:A,compositeRule:S,allErrors:C}=T,z=d(y,m,E);(k!=null?k:S||C)?l(A,z):c(T,(0,e._)`[${z}]`)}t.reportError=s;function a(y,m=t.keywordError,E){const{it:k}=y,{gen:T,compositeRule:A,allErrors:S}=k,C=d(y,m,E);l(T,C),A||S||c(k,n.default.vErrors)}t.reportExtraError=a;function o(y,m){y.assign(n.default.errors,m),y.if((0,e._)`${n.default.vErrors} !== null`,()=>y.if(m,()=>y.assign((0,e._)`${n.default.vErrors}.length`,m),()=>y.assign(n.default.vErrors,null)))}t.resetErrorsCount=o;function i({gen:y,keyword:m,schemaValue:E,data:k,errsCount:T,it:A}){if(T===void 0)throw new Error("ajv implementation error");const S=y.name("err");y.forRange("i",T,n.default.errors,C=>{y.const(S,(0,e._)`${n.default.vErrors}[${C}]`),y.if((0,e._)`${S}.instancePath === undefined`,()=>y.assign((0,e._)`${S}.instancePath`,(0,e.strConcat)(n.default.instancePath,A.errorPath))),y.assign((0,e._)`${S}.schemaPath`,(0,e.str)`${A.errSchemaPath}/${m}`),A.opts.verbose&&(y.assign((0,e._)`${S}.schema`,E),y.assign((0,e._)`${S}.data`,k))})}t.extendErrors=i;function l(y,m){const E=y.const("err",m);y.if((0,e._)`${n.default.vErrors} === null`,()=>y.assign(n.default.vErrors,(0,e._)`[${E}]`),(0,e._)`${n.default.vErrors}.push(${E})`),y.code((0,e._)`${n.default.errors}++`)}function c(y,m){const{gen:E,validateName:k,schemaEnv:T}=y;T.$async?E.throw((0,e._)`new ${y.ValidationError}(${m})`):(E.assign((0,e._)`${k}.errors`,m),E.return(!1))}const u={keyword:new e.Name("keyword"),schemaPath:new e.Name("schemaPath"),params:new e.Name("params"),propertyName:new e.Name("propertyName"),message:new e.Name("message"),schema:new e.Name("schema"),parentSchema:new e.Name("parentSchema")};function d(y,m,E){const{createErrors:k}=y.it;return k===!1?(0,e._)`{}`:v(y,m,E)}function v(y,m,E={}){const{gen:k,it:T}=y,A=[w(T,E),p(y,E)];return $(y,m,A),k.object(...A)}function w({errorPath:y},{instancePath:m}){const E=m?(0,e.str)`${y}${(0,r.getErrorPath)(m,r.Type.Str)}`:y;return[n.default.instancePath,(0,e.strConcat)(n.default.instancePath,E)]}function p({keyword:y,it:{errSchemaPath:m}},{schemaPath:E,parentSchema:k}){let T=k?m:(0,e.str)`${m}/${y}`;return E&&(T=(0,e.str)`${T}${(0,r.getErrorPath)(E,r.Type.Str)}`),[u.schemaPath,T]}function $(y,{params:m,message:E},k){const{keyword:T,data:A,schemaValue:S,it:C}=y,{opts:z,propertyName:H,topSchemaRef:B,schemaPath:ue}=C;k.push([u.keyword,T],[u.params,typeof m=="function"?m(y):m||(0,e._)`{}`]),z.messages&&k.push([u.message,typeof E=="function"?E(y):E]),z.verbose&&k.push([u.schema,S],[u.parentSchema,(0,e._)`${B}${ue}`],[n.default.data,A]),H&&k.push([u.propertyName,H])}})($r);Object.defineProperty(Zt,"__esModule",{value:!0});Zt.boolOrEmptySchema=Zt.topBoolOrEmptySchema=void 0;const ei=$r,ti=oe,ri=mt,ni={message:"boolean schema is false"};function si(t){const{gen:e,schema:r,validateName:n}=t;r===!1?Sa(t,!1):typeof r=="object"&&r.$async===!0?e.return(ri.default.data):(e.assign((0,ti._)`${n}.errors`,null),e.return(!0))}Zt.topBoolOrEmptySchema=si;function ai(t,e){const{gen:r,schema:n}=t;n===!1?(r.var(e,!1),Sa(t)):r.var(e,!0)}Zt.boolOrEmptySchema=ai;function Sa(t,e){const{gen:r,data:n}=t,s={gen:r,keyword:"false schema",data:n,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:t};(0,ei.reportError)(s,ni,void 0,e)}var br={},Ut={};Object.defineProperty(Ut,"__esModule",{value:!0});Ut.getRules=Ut.isJSONType=void 0;const oi=["string","number","integer","boolean","null","object","array"],ii=new Set(oi);function li(t){return typeof t=="string"&&ii.has(t)}Ut.isJSONType=li;function ci(){const t={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:St(Ce({},t),{integer:!0,boolean:!0,null:!0}),rules:[{rules:[]},t.number,t.string,t.array,t.object],post:{rules:[]},all:{},keywords:{}}}Ut.getRules=ci;var $t={};Object.defineProperty($t,"__esModule",{value:!0});$t.shouldUseRule=$t.shouldUseGroup=$t.schemaHasRulesForType=void 0;function ui({schema:t,self:e},r){const n=e.RULES.types[r];return n&&n!==!0&&Pa(t,n)}$t.schemaHasRulesForType=ui;function Pa(t,e){return e.rules.some(r=>Na(t,r))}$t.shouldUseGroup=Pa;function Na(t,e){var r;return t[e.keyword]!==void 0||((r=e.definition.implements)===null||r===void 0?void 0:r.some(n=>t[n]!==void 0))}$t.shouldUseRule=Na;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.reportTypeError=t.checkDataTypes=t.checkDataType=t.coerceAndCheckDataType=t.getJSONTypes=t.getSchemaTypes=t.DataType=void 0;const e=Ut,r=$t,n=$r,s=oe,a=ce;var o;(function(k){k[k.Correct=0]="Correct",k[k.Wrong=1]="Wrong"})(o=t.DataType||(t.DataType={}));function i(k){const T=l(k.type);if(T.includes("null")){if(k.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!T.length&&k.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');k.nullable===!0&&T.push("null")}return T}t.getSchemaTypes=i;function l(k){const T=Array.isArray(k)?k:k?[k]:[];if(T.every(e.isJSONType))return T;throw new Error("type must be JSONType or JSONType[]: "+T.join(","))}t.getJSONTypes=l;function c(k,T){const{gen:A,data:S,opts:C}=k,z=d(T,C.coerceTypes),H=T.length>0&&!(z.length===0&&T.length===1&&(0,r.schemaHasRulesForType)(k,T[0]));if(H){const B=$(T,S,C.strictNumbers,o.Wrong);A.if(B,()=>{z.length?v(k,T,z):m(k)})}return H}t.coerceAndCheckDataType=c;const u=new Set(["string","number","integer","boolean","null"]);function d(k,T){return T?k.filter(A=>u.has(A)||T==="array"&&A==="array"):[]}function v(k,T,A){const{gen:S,data:C,opts:z}=k,H=S.let("dataType",(0,s._)`typeof ${C}`),B=S.let("coerced",(0,s._)`undefined`);z.coerceTypes==="array"&&S.if((0,s._)`${H} == 'object' && Array.isArray(${C}) && ${C}.length == 1`,()=>S.assign(C,(0,s._)`${C}[0]`).assign(H,(0,s._)`typeof ${C}`).if($(T,C,z.strictNumbers),()=>S.assign(B,C))),S.if((0,s._)`${B} !== undefined`);for(const re of A)(u.has(re)||re==="array"&&z.coerceTypes==="array")&&ue(re);S.else(),m(k),S.endIf(),S.if((0,s._)`${B} !== undefined`,()=>{S.assign(C,B),w(k,B)});function ue(re){switch(re){case"string":S.elseIf((0,s._)`${H} == "number" || ${H} == "boolean"`).assign(B,(0,s._)`"" + ${C}`).elseIf((0,s._)`${C} === null`).assign(B,(0,s._)`""`);return;case"number":S.elseIf((0,s._)`${H} == "boolean" || ${C} === null
              || (${H} == "string" && ${C} && ${C} == +${C})`).assign(B,(0,s._)`+${C}`);return;case"integer":S.elseIf((0,s._)`${H} === "boolean" || ${C} === null
              || (${H} === "string" && ${C} && ${C} == +${C} && !(${C} % 1))`).assign(B,(0,s._)`+${C}`);return;case"boolean":S.elseIf((0,s._)`${C} === "false" || ${C} === 0 || ${C} === null`).assign(B,!1).elseIf((0,s._)`${C} === "true" || ${C} === 1`).assign(B,!0);return;case"null":S.elseIf((0,s._)`${C} === "" || ${C} === 0 || ${C} === false`),S.assign(B,null);return;case"array":S.elseIf((0,s._)`${H} === "string" || ${H} === "number"
              || ${H} === "boolean" || ${C} === null`).assign(B,(0,s._)`[${C}]`)}}}function w({gen:k,parentData:T,parentDataProperty:A},S){k.if((0,s._)`${T} !== undefined`,()=>k.assign((0,s._)`${T}[${A}]`,S))}function p(k,T,A,S=o.Correct){const C=S===o.Correct?s.operators.EQ:s.operators.NEQ;let z;switch(k){case"null":return(0,s._)`${T} ${C} null`;case"array":z=(0,s._)`Array.isArray(${T})`;break;case"object":z=(0,s._)`${T} && typeof ${T} == "object" && !Array.isArray(${T})`;break;case"integer":z=H((0,s._)`!(${T} % 1) && !isNaN(${T})`);break;case"number":z=H();break;default:return(0,s._)`typeof ${T} ${C} ${k}`}return S===o.Correct?z:(0,s.not)(z);function H(B=s.nil){return(0,s.and)((0,s._)`typeof ${T} == "number"`,B,A?(0,s._)`isFinite(${T})`:s.nil)}}t.checkDataType=p;function $(k,T,A,S){if(k.length===1)return p(k[0],T,A,S);let C;const z=(0,a.toHash)(k);if(z.array&&z.object){const H=(0,s._)`typeof ${T} != "object"`;C=z.null?H:(0,s._)`!${T} || ${H}`,delete z.null,delete z.array,delete z.object}else C=s.nil;z.number&&delete z.integer;for(const H in z)C=(0,s.and)(C,p(H,T,A,S));return C}t.checkDataTypes=$;const y={message:({schema:k})=>`must be ${k}`,params:({schema:k,schemaValue:T})=>typeof k=="string"?(0,s._)`{type: ${k}}`:(0,s._)`{type: ${T}}`};function m(k){const T=E(k);(0,n.reportError)(T,y)}t.reportTypeError=m;function E(k){const{gen:T,data:A,schema:S}=k,C=(0,a.schemaRefOrVal)(k,S,"type");return{gen:T,keyword:"type",data:A,schema:S.type,schemaCode:C,schemaValue:C,parentSchema:S,params:{},it:k}}})(br);var Br={};Object.defineProperty(Br,"__esModule",{value:!0});Br.assignDefaults=void 0;const Jt=oe,fi=ce;function di(t,e){const{properties:r,items:n}=t.schema;if(e==="object"&&r)for(const s in r)Cs(t,s,r[s].default);else e==="array"&&Array.isArray(n)&&n.forEach((s,a)=>Cs(t,a,s.default))}Br.assignDefaults=di;function Cs(t,e,r){const{gen:n,compositeRule:s,data:a,opts:o}=t;if(r===void 0)return;const i=(0,Jt._)`${a}${(0,Jt.getProperty)(e)}`;if(s){(0,fi.checkStrictMode)(t,`default is ignored for: ${i}`);return}let l=(0,Jt._)`${i} === undefined`;o.useDefaults==="empty"&&(l=(0,Jt._)`${l} || ${i} === null || ${i} === ""`),n.if(l,(0,Jt._)`${i} = ${(0,Jt.stringify)(r)}`)}var ht={},ae={};Object.defineProperty(ae,"__esModule",{value:!0});ae.validateUnion=ae.validateArray=ae.usePattern=ae.callValidateCode=ae.schemaProperties=ae.allSchemaProperties=ae.noPropertyInData=ae.propertyInData=ae.isOwnProperty=ae.hasPropFunc=ae.reportMissingProp=ae.checkMissingProp=ae.checkReportMissingProp=void 0;const me=oe,kn=ce,Pt=mt,hi=ce;function mi(t,e){const{gen:r,data:n,it:s}=t;r.if(Pn(r,n,e,s.opts.ownProperties),()=>{t.setParams({missingProperty:(0,me._)`${e}`},!0),t.error()})}ae.checkReportMissingProp=mi;function pi({gen:t,data:e,it:{opts:r}},n,s){return(0,me.or)(...n.map(a=>(0,me.and)(Pn(t,e,a,r.ownProperties),(0,me._)`${s} = ${a}`)))}ae.checkMissingProp=pi;function _i(t,e){t.setParams({missingProperty:e},!0),t.error()}ae.reportMissingProp=_i;function Oa(t){return t.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,me._)`Object.prototype.hasOwnProperty`})}ae.hasPropFunc=Oa;function Sn(t,e,r){return(0,me._)`${Oa(t)}.call(${e}, ${r})`}ae.isOwnProperty=Sn;function vi(t,e,r,n){const s=(0,me._)`${e}${(0,me.getProperty)(r)} !== undefined`;return n?(0,me._)`${s} && ${Sn(t,e,r)}`:s}ae.propertyInData=vi;function Pn(t,e,r,n){const s=(0,me._)`${e}${(0,me.getProperty)(r)} === undefined`;return n?(0,me.or)(s,(0,me.not)(Sn(t,e,r))):s}ae.noPropertyInData=Pn;function Ca(t){return t?Object.keys(t).filter(e=>e!=="__proto__"):[]}ae.allSchemaProperties=Ca;function yi(t,e){return Ca(e).filter(r=>!(0,kn.alwaysValidSchema)(t,e[r]))}ae.schemaProperties=yi;function gi({schemaCode:t,data:e,it:{gen:r,topSchemaRef:n,schemaPath:s,errorPath:a},it:o},i,l,c){const u=c?(0,me._)`${t}, ${e}, ${n}${s}`:e,d=[[Pt.default.instancePath,(0,me.strConcat)(Pt.default.instancePath,a)],[Pt.default.parentData,o.parentData],[Pt.default.parentDataProperty,o.parentDataProperty],[Pt.default.rootData,Pt.default.rootData]];o.opts.dynamicRef&&d.push([Pt.default.dynamicAnchors,Pt.default.dynamicAnchors]);const v=(0,me._)`${u}, ${r.object(...d)}`;return l!==me.nil?(0,me._)`${i}.call(${l}, ${v})`:(0,me._)`${i}(${v})`}ae.callValidateCode=gi;const $i=(0,me._)`new RegExp`;function bi({gen:t,it:{opts:e}},r){const n=e.unicodeRegExp?"u":"",{regExp:s}=e.code,a=s(r,n);return t.scopeValue("pattern",{key:a.toString(),ref:a,code:(0,me._)`${s.code==="new RegExp"?$i:(0,hi.useFunc)(t,s)}(${r}, ${n})`})}ae.usePattern=bi;function wi(t){const{gen:e,data:r,keyword:n,it:s}=t,a=e.name("valid");if(s.allErrors){const i=e.let("valid",!0);return o(()=>e.assign(i,!1)),i}return e.var(a,!0),o(()=>e.break()),a;function o(i){const l=e.const("len",(0,me._)`${r}.length`);e.forRange("i",0,l,c=>{t.subschema({keyword:n,dataProp:c,dataPropType:kn.Type.Num},a),e.if((0,me.not)(a),i)})}}ae.validateArray=wi;function Ei(t){const{gen:e,schema:r,keyword:n,it:s}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(l=>(0,kn.alwaysValidSchema)(s,l))&&!s.opts.unevaluated)return;const o=e.let("valid",!1),i=e.name("_valid");e.block(()=>r.forEach((l,c)=>{const u=t.subschema({keyword:n,schemaProp:c,compositeRule:!0},i);e.assign(o,(0,me._)`${o} || ${i}`),t.mergeValidEvaluated(u,i)||e.if((0,me.not)(o))})),t.result(o,()=>t.reset(),()=>t.error(!0))}ae.validateUnion=Ei;Object.defineProperty(ht,"__esModule",{value:!0});ht.validateKeywordUsage=ht.validSchemaType=ht.funcKeywordCode=ht.macroKeywordCode=void 0;const Te=oe,zt=mt,ki=ae,Si=$r;function Pi(t,e){const{gen:r,keyword:n,schema:s,parentSchema:a,it:o}=t,i=e.macro.call(o.self,s,a,o),l=ja(r,n,i);o.opts.validateSchema!==!1&&o.self.validateSchema(i,!0);const c=r.name("valid");t.subschema({schema:i,schemaPath:Te.nil,errSchemaPath:`${o.errSchemaPath}/${n}`,topSchemaRef:l,compositeRule:!0},c),t.pass(c,()=>t.error(!0))}ht.macroKeywordCode=Pi;function Ni(t,e){var r;const{gen:n,keyword:s,schema:a,parentSchema:o,$data:i,it:l}=t;Ci(l,e);const c=!i&&e.compile?e.compile.call(l.self,a,o,l):e.validate,u=ja(n,s,c),d=n.let("valid");t.block$data(d,v),t.ok((r=e.valid)!==null&&r!==void 0?r:d);function v(){if(e.errors===!1)$(),e.modifying&&js(t),y(()=>t.error());else{const m=e.async?w():p();e.modifying&&js(t),y(()=>Oi(t,m))}}function w(){const m=n.let("ruleErrs",null);return n.try(()=>$((0,Te._)`await `),E=>n.assign(d,!1).if((0,Te._)`${E} instanceof ${l.ValidationError}`,()=>n.assign(m,(0,Te._)`${E}.errors`),()=>n.throw(E))),m}function p(){const m=(0,Te._)`${u}.errors`;return n.assign(m,null),$(Te.nil),m}function $(m=e.async?(0,Te._)`await `:Te.nil){const E=l.opts.passContext?zt.default.this:zt.default.self,k=!("compile"in e&&!i||e.schema===!1);n.assign(d,(0,Te._)`${m}${(0,ki.callValidateCode)(t,u,E,k)}`,e.modifying)}function y(m){var E;n.if((0,Te.not)((E=e.valid)!==null&&E!==void 0?E:d),m)}}ht.funcKeywordCode=Ni;function js(t){const{gen:e,data:r,it:n}=t;e.if(n.parentData,()=>e.assign(r,(0,Te._)`${n.parentData}[${n.parentDataProperty}]`))}function Oi(t,e){const{gen:r}=t;r.if((0,Te._)`Array.isArray(${e})`,()=>{r.assign(zt.default.vErrors,(0,Te._)`${zt.default.vErrors} === null ? ${e} : ${zt.default.vErrors}.concat(${e})`).assign(zt.default.errors,(0,Te._)`${zt.default.vErrors}.length`),(0,Si.extendErrors)(t)},()=>t.error())}function Ci({schemaEnv:t},e){if(e.async&&!t.$async)throw new Error("async keyword in sync schema")}function ja(t,e,r){if(r===void 0)throw new Error(`keyword "${e}" failed to compile`);return t.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,Te.stringify)(r)})}function ji(t,e,r=!1){return!e.length||e.some(n=>n==="array"?Array.isArray(t):n==="object"?t&&typeof t=="object"&&!Array.isArray(t):typeof t==n||r&&typeof t=="undefined")}ht.validSchemaType=ji;function Ti({schema:t,opts:e,self:r,errSchemaPath:n},s,a){if(Array.isArray(s.keyword)?!s.keyword.includes(a):s.keyword!==a)throw new Error("ajv implementation error");const o=s.dependencies;if(o!=null&&o.some(i=>!Object.prototype.hasOwnProperty.call(t,i)))throw new Error(`parent schema must have dependencies of ${a}: ${o.join(",")}`);if(s.validateSchema&&!s.validateSchema(t[a])){const l=`keyword "${a}" value is invalid at path "${n}": `+r.errorsText(s.validateSchema.errors);if(e.validateSchema==="log")r.logger.error(l);else throw new Error(l)}}ht.validateKeywordUsage=Ti;var Ct={};Object.defineProperty(Ct,"__esModule",{value:!0});Ct.extendSubschemaMode=Ct.extendSubschemaData=Ct.getSubschema=void 0;const dt=oe,Ta=ce;function Ri(t,{keyword:e,schemaProp:r,schema:n,schemaPath:s,errSchemaPath:a,topSchemaRef:o}){if(e!==void 0&&n!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(e!==void 0){const i=t.schema[e];return r===void 0?{schema:i,schemaPath:(0,dt._)`${t.schemaPath}${(0,dt.getProperty)(e)}`,errSchemaPath:`${t.errSchemaPath}/${e}`}:{schema:i[r],schemaPath:(0,dt._)`${t.schemaPath}${(0,dt.getProperty)(e)}${(0,dt.getProperty)(r)}`,errSchemaPath:`${t.errSchemaPath}/${e}/${(0,Ta.escapeFragment)(r)}`}}if(n!==void 0){if(s===void 0||a===void 0||o===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:n,schemaPath:s,topSchemaRef:o,errSchemaPath:a}}throw new Error('either "keyword" or "schema" must be passed')}Ct.getSubschema=Ri;function Ii(t,e,{dataProp:r,dataPropType:n,data:s,dataTypes:a,propertyName:o}){if(s!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:i}=e;if(r!==void 0){const{errorPath:c,dataPathArr:u,opts:d}=e,v=i.let("data",(0,dt._)`${e.data}${(0,dt.getProperty)(r)}`,!0);l(v),t.errorPath=(0,dt.str)`${c}${(0,Ta.getErrorPath)(r,n,d.jsPropertySyntax)}`,t.parentDataProperty=(0,dt._)`${r}`,t.dataPathArr=[...u,t.parentDataProperty]}if(s!==void 0){const c=s instanceof dt.Name?s:i.let("data",s,!0);l(c),o!==void 0&&(t.propertyName=o)}a&&(t.dataTypes=a);function l(c){t.data=c,t.dataLevel=e.dataLevel+1,t.dataTypes=[],e.definedProperties=new Set,t.parentData=e.data,t.dataNames=[...e.dataNames,c]}}Ct.extendSubschemaData=Ii;function Ai(t,{jtdDiscriminator:e,jtdMetadata:r,compositeRule:n,createErrors:s,allErrors:a}){n!==void 0&&(t.compositeRule=n),s!==void 0&&(t.createErrors=s),a!==void 0&&(t.allErrors=a),t.jtdDiscriminator=e,t.jtdMetadata=r}Ct.extendSubschemaMode=Ai;var Oe={},Ra=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var n,s,a;if(Array.isArray(e)){if(n=e.length,n!=r.length)return!1;for(s=n;s--!==0;)if(!t(e[s],r[s]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(a=Object.keys(e),n=a.length,n!==Object.keys(r).length)return!1;for(s=n;s--!==0;)if(!Object.prototype.hasOwnProperty.call(r,a[s]))return!1;for(s=n;s--!==0;){var o=a[s];if(!t(e[o],r[o]))return!1}return!0}return e!==e&&r!==r},Ia={exports:{}},Ot=Ia.exports=function(t,e,r){typeof e=="function"&&(r=e,e={}),r=e.cb||r;var n=typeof r=="function"?r:r.pre||function(){},s=r.post||function(){};Mr(e,n,s,t,"",t)};Ot.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};Ot.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};Ot.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};Ot.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function Mr(t,e,r,n,s,a,o,i,l,c){if(n&&typeof n=="object"&&!Array.isArray(n)){e(n,s,a,o,i,l,c);for(var u in n){var d=n[u];if(Array.isArray(d)){if(u in Ot.arrayKeywords)for(var v=0;v<d.length;v++)Mr(t,e,r,d[v],s+"/"+u+"/"+v,a,s,u,n,v)}else if(u in Ot.propsKeywords){if(d&&typeof d=="object")for(var w in d)Mr(t,e,r,d[w],s+"/"+u+"/"+Di(w),a,s,u,n,w)}else(u in Ot.keywords||t.allKeys&&!(u in Ot.skipKeywords))&&Mr(t,e,r,d,s+"/"+u,a,s,u,n)}r(n,s,a,o,i,l,c)}}function Di(t){return t.replace(/~/g,"~0").replace(/\//g,"~1")}Object.defineProperty(Oe,"__esModule",{value:!0});Oe.getSchemaRefs=Oe.resolveUrl=Oe.normalizeId=Oe._getFullPath=Oe.getFullPath=Oe.inlineRef=void 0;const Mi=ce,zi=Ra,Vi=Ia.exports,Fi=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function Ui(t,e=!0){return typeof t=="boolean"?!0:e===!0?!pn(t):e?Aa(t)<=e:!1}Oe.inlineRef=Ui;const qi=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function pn(t){for(const e in t){if(qi.has(e))return!0;const r=t[e];if(Array.isArray(r)&&r.some(pn)||typeof r=="object"&&pn(r))return!0}return!1}function Aa(t){let e=0;for(const r in t){if(r==="$ref")return 1/0;if(e++,!Fi.has(r)&&(typeof t[r]=="object"&&(0,Mi.eachItem)(t[r],n=>e+=Aa(n)),e===1/0))return 1/0}return e}function Da(t,e="",r){r!==!1&&(e=Yt(e));const n=t.parse(e);return Ma(t,n)}Oe.getFullPath=Da;function Ma(t,e){return t.serialize(e).split("#")[0]+"#"}Oe._getFullPath=Ma;const Li=/#\/?$/;function Yt(t){return t?t.replace(Li,""):""}Oe.normalizeId=Yt;function Ki(t,e,r){return r=Yt(r),t.resolve(e,r)}Oe.resolveUrl=Ki;const Hi=/^[a-z_][-a-z0-9._]*$/i;function Gi(t,e){if(typeof t=="boolean")return{};const{schemaId:r,uriResolver:n}=this.opts,s=Yt(t[r]||e),a={"":s},o=Da(n,s,!1),i={},l=new Set;return Vi(t,{allKeys:!0},(d,v,w,p)=>{if(p===void 0)return;const $=o+v;let y=a[p];typeof d[r]=="string"&&(y=m.call(this,d[r])),E.call(this,d.$anchor),E.call(this,d.$dynamicAnchor),a[v]=y;function m(k){const T=this.opts.uriResolver.resolve;if(k=Yt(y?T(y,k):k),l.has(k))throw u(k);l.add(k);let A=this.refs[k];return typeof A=="string"&&(A=this.refs[A]),typeof A=="object"?c(d,A.schema,k):k!==Yt($)&&(k[0]==="#"?(c(d,i[k],k),i[k]=d):this.refs[k]=$),k}function E(k){if(typeof k=="string"){if(!Hi.test(k))throw new Error(`invalid anchor "${k}"`);m.call(this,`#${k}`)}}}),i;function c(d,v,w){if(v!==void 0&&!zi(d,v))throw u(w)}function u(d){return new Error(`reference "${d}" resolves to more than one schema`)}}Oe.getSchemaRefs=Gi;Object.defineProperty(Qe,"__esModule",{value:!0});Qe.getData=Qe.KeywordCxt=Qe.validateFunctionCode=void 0;const za=Zt,Ts=br,Nn=$t,Lr=br,Ji=Br,fr=ht,nn=Ct,W=oe,Q=mt,Bi=Oe,bt=ce,ir=$r;function Wi(t){if(Ua(t)&&(qa(t),Fa(t))){Zi(t);return}Va(t,()=>(0,za.topBoolOrEmptySchema)(t))}Qe.validateFunctionCode=Wi;function Va({gen:t,validateName:e,schema:r,schemaEnv:n,opts:s},a){s.code.es5?t.func(e,(0,W._)`${Q.default.data}, ${Q.default.valCxt}`,n.$async,()=>{t.code((0,W._)`"use strict"; ${Rs(r,s)}`),Yi(t,s),t.code(a)}):t.func(e,(0,W._)`${Q.default.data}, ${Xi(s)}`,n.$async,()=>t.code(Rs(r,s)).code(a))}function Xi(t){return(0,W._)`{${Q.default.instancePath}="", ${Q.default.parentData}, ${Q.default.parentDataProperty}, ${Q.default.rootData}=${Q.default.data}${t.dynamicRef?(0,W._)`, ${Q.default.dynamicAnchors}={}`:W.nil}}={}`}function Yi(t,e){t.if(Q.default.valCxt,()=>{t.var(Q.default.instancePath,(0,W._)`${Q.default.valCxt}.${Q.default.instancePath}`),t.var(Q.default.parentData,(0,W._)`${Q.default.valCxt}.${Q.default.parentData}`),t.var(Q.default.parentDataProperty,(0,W._)`${Q.default.valCxt}.${Q.default.parentDataProperty}`),t.var(Q.default.rootData,(0,W._)`${Q.default.valCxt}.${Q.default.rootData}`),e.dynamicRef&&t.var(Q.default.dynamicAnchors,(0,W._)`${Q.default.valCxt}.${Q.default.dynamicAnchors}`)},()=>{t.var(Q.default.instancePath,(0,W._)`""`),t.var(Q.default.parentData,(0,W._)`undefined`),t.var(Q.default.parentDataProperty,(0,W._)`undefined`),t.var(Q.default.rootData,Q.default.data),e.dynamicRef&&t.var(Q.default.dynamicAnchors,(0,W._)`{}`)})}function Zi(t){const{schema:e,opts:r,gen:n}=t;Va(t,()=>{r.$comment&&e.$comment&&Ka(t),rl(t),n.let(Q.default.vErrors,null),n.let(Q.default.errors,0),r.unevaluated&&Qi(t),La(t),al(t)})}function Qi(t){const{gen:e,validateName:r}=t;t.evaluated=e.const("evaluated",(0,W._)`${r}.evaluated`),e.if((0,W._)`${t.evaluated}.dynamicProps`,()=>e.assign((0,W._)`${t.evaluated}.props`,(0,W._)`undefined`)),e.if((0,W._)`${t.evaluated}.dynamicItems`,()=>e.assign((0,W._)`${t.evaluated}.items`,(0,W._)`undefined`))}function Rs(t,e){const r=typeof t=="object"&&t[e.schemaId];return r&&(e.code.source||e.code.process)?(0,W._)`/*# sourceURL=${r} */`:W.nil}function xi(t,e){if(Ua(t)&&(qa(t),Fa(t))){el(t,e);return}(0,za.boolOrEmptySchema)(t,e)}function Fa({schema:t,self:e}){if(typeof t=="boolean")return!t;for(const r in t)if(e.RULES.all[r])return!0;return!1}function Ua(t){return typeof t.schema!="boolean"}function el(t,e){const{schema:r,gen:n,opts:s}=t;s.$comment&&r.$comment&&Ka(t),nl(t),sl(t);const a=n.const("_errs",Q.default.errors);La(t,a),n.var(e,(0,W._)`${a} === ${Q.default.errors}`)}function qa(t){(0,bt.checkUnknownRules)(t),tl(t)}function La(t,e){if(t.opts.jtd)return Is(t,[],!1,e);const r=(0,Ts.getSchemaTypes)(t.schema),n=(0,Ts.coerceAndCheckDataType)(t,r);Is(t,r,!n,e)}function tl(t){const{schema:e,errSchemaPath:r,opts:n,self:s}=t;e.$ref&&n.ignoreKeywordsWithRef&&(0,bt.schemaHasRulesButRef)(e,s.RULES)&&s.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function rl(t){const{schema:e,opts:r}=t;e.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,bt.checkStrictMode)(t,"default is ignored in the schema root")}function nl(t){const e=t.schema[t.opts.schemaId];e&&(t.baseId=(0,Bi.resolveUrl)(t.opts.uriResolver,t.baseId,e))}function sl(t){if(t.schema.$async&&!t.schemaEnv.$async)throw new Error("async schema in sync schema")}function Ka({gen:t,schemaEnv:e,schema:r,errSchemaPath:n,opts:s}){const a=r.$comment;if(s.$comment===!0)t.code((0,W._)`${Q.default.self}.logger.log(${a})`);else if(typeof s.$comment=="function"){const o=(0,W.str)`${n}/$comment`,i=t.scopeValue("root",{ref:e.root});t.code((0,W._)`${Q.default.self}.opts.$comment(${a}, ${o}, ${i}.schema)`)}}function al(t){const{gen:e,schemaEnv:r,validateName:n,ValidationError:s,opts:a}=t;r.$async?e.if((0,W._)`${Q.default.errors} === 0`,()=>e.return(Q.default.data),()=>e.throw((0,W._)`new ${s}(${Q.default.vErrors})`)):(e.assign((0,W._)`${n}.errors`,Q.default.vErrors),a.unevaluated&&ol(t),e.return((0,W._)`${Q.default.errors} === 0`))}function ol({gen:t,evaluated:e,props:r,items:n}){r instanceof W.Name&&t.assign((0,W._)`${e}.props`,r),n instanceof W.Name&&t.assign((0,W._)`${e}.items`,n)}function Is(t,e,r,n){const{gen:s,schema:a,data:o,allErrors:i,opts:l,self:c}=t,{RULES:u}=c;if(a.$ref&&(l.ignoreKeywordsWithRef||!(0,bt.schemaHasRulesButRef)(a,u))){s.block(()=>Ga(t,"$ref",u.all.$ref.definition));return}l.jtd||il(t,e),s.block(()=>{for(const v of u.rules)d(v);d(u.post)});function d(v){!(0,Nn.shouldUseGroup)(a,v)||(v.type?(s.if((0,Lr.checkDataType)(v.type,o,l.strictNumbers)),As(t,v),e.length===1&&e[0]===v.type&&r&&(s.else(),(0,Lr.reportTypeError)(t)),s.endIf()):As(t,v),i||s.if((0,W._)`${Q.default.errors} === ${n||0}`))}}function As(t,e){const{gen:r,schema:n,opts:{useDefaults:s}}=t;s&&(0,Ji.assignDefaults)(t,e.type),r.block(()=>{for(const a of e.rules)(0,Nn.shouldUseRule)(n,a)&&Ga(t,a.keyword,a.definition,e.type)})}function il(t,e){t.schemaEnv.meta||!t.opts.strictTypes||(ll(t,e),t.opts.allowUnionTypes||cl(t,e),ul(t,t.dataTypes))}function ll(t,e){if(!!e.length){if(!t.dataTypes.length){t.dataTypes=e;return}e.forEach(r=>{Ds(t.dataTypes,r)||On(t,`type "${r}" not allowed by context "${t.dataTypes.join(",")}"`)}),t.dataTypes=t.dataTypes.filter(r=>Ds(e,r))}}function cl(t,e){e.length>1&&!(e.length===2&&e.includes("null"))&&On(t,"use allowUnionTypes to allow union type keyword")}function ul(t,e){const r=t.self.RULES.all;for(const n in r){const s=r[n];if(typeof s=="object"&&(0,Nn.shouldUseRule)(t.schema,s)){const{type:a}=s.definition;a.length&&!a.some(o=>fl(e,o))&&On(t,`missing type "${a.join(",")}" for keyword "${n}"`)}}}function fl(t,e){return t.includes(e)||e==="number"&&t.includes("integer")}function Ds(t,e){return t.includes(e)||e==="integer"&&t.includes("number")}function On(t,e){e+=` at "${t.schemaEnv.baseId+t.errSchemaPath}" (strictTypes)`,(0,bt.checkStrictMode)(t,e,t.opts.strictTypes)}class Ha{constructor(e,r,n){if((0,fr.validateKeywordUsage)(e,r,n),this.gen=e.gen,this.allErrors=e.allErrors,this.keyword=n,this.data=e.data,this.schema=e.schema[n],this.$data=r.$data&&e.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,bt.schemaRefOrVal)(e,this.schema,n,this.$data),this.schemaType=r.schemaType,this.parentSchema=e.schema,this.params={},this.it=e,this.def=r,this.$data)this.schemaCode=e.gen.const("vSchema",Ja(this.$data,e));else if(this.schemaCode=this.schemaValue,!(0,fr.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=e.gen.const("_errs",Q.default.errors))}result(e,r,n){this.failResult((0,W.not)(e),r,n)}failResult(e,r,n){this.gen.if(e),n?n():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(e,r){this.failResult((0,W.not)(e),void 0,r)}fail(e){if(e===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(e),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(e){if(!this.$data)return this.fail(e);const{schemaCode:r}=this;this.fail((0,W._)`${r} !== undefined && (${(0,W.or)(this.invalid$data(),e)})`)}error(e,r,n){if(r){this.setParams(r),this._error(e,n),this.setParams({});return}this._error(e,n)}_error(e,r){(e?ir.reportExtraError:ir.reportError)(this,this.def.error,r)}$dataError(){(0,ir.reportError)(this,this.def.$dataError||ir.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,ir.resetErrorsCount)(this.gen,this.errsCount)}ok(e){this.allErrors||this.gen.if(e)}setParams(e,r){r?Object.assign(this.params,e):this.params=e}block$data(e,r,n=W.nil){this.gen.block(()=>{this.check$data(e,n),r()})}check$data(e=W.nil,r=W.nil){if(!this.$data)return;const{gen:n,schemaCode:s,schemaType:a,def:o}=this;n.if((0,W.or)((0,W._)`${s} === undefined`,r)),e!==W.nil&&n.assign(e,!0),(a.length||o.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),e!==W.nil&&n.assign(e,!1)),n.else()}invalid$data(){const{gen:e,schemaCode:r,schemaType:n,def:s,it:a}=this;return(0,W.or)(o(),i());function o(){if(n.length){if(!(r instanceof W.Name))throw new Error("ajv implementation error");const l=Array.isArray(n)?n:[n];return(0,W._)`${(0,Lr.checkDataTypes)(l,r,a.opts.strictNumbers,Lr.DataType.Wrong)}`}return W.nil}function i(){if(s.validateSchema){const l=e.scopeValue("validate$data",{ref:s.validateSchema});return(0,W._)`!${l}(${r})`}return W.nil}}subschema(e,r){const n=(0,nn.getSubschema)(this.it,e);(0,nn.extendSubschemaData)(n,this.it,e),(0,nn.extendSubschemaMode)(n,e);const s=St(Ce(Ce({},this.it),n),{items:void 0,props:void 0});return xi(s,r),s}mergeEvaluated(e,r){const{it:n,gen:s}=this;!n.opts.unevaluated||(n.props!==!0&&e.props!==void 0&&(n.props=bt.mergeEvaluated.props(s,e.props,n.props,r)),n.items!==!0&&e.items!==void 0&&(n.items=bt.mergeEvaluated.items(s,e.items,n.items,r)))}mergeValidEvaluated(e,r){const{it:n,gen:s}=this;if(n.opts.unevaluated&&(n.props!==!0||n.items!==!0))return s.if(r,()=>this.mergeEvaluated(e,W.Name)),!0}}Qe.KeywordCxt=Ha;function Ga(t,e,r,n){const s=new Ha(t,r,e);"code"in r?r.code(s,n):s.$data&&r.validate?(0,fr.funcKeywordCode)(s,r):"macro"in r?(0,fr.macroKeywordCode)(s,r):(r.compile||r.validate)&&(0,fr.funcKeywordCode)(s,r)}const dl=/^\/(?:[^~]|~0|~1)*$/,hl=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Ja(t,{dataLevel:e,dataNames:r,dataPathArr:n}){let s,a;if(t==="")return Q.default.rootData;if(t[0]==="/"){if(!dl.test(t))throw new Error(`Invalid JSON-pointer: ${t}`);s=t,a=Q.default.rootData}else{const c=hl.exec(t);if(!c)throw new Error(`Invalid JSON-pointer: ${t}`);const u=+c[1];if(s=c[2],s==="#"){if(u>=e)throw new Error(l("property/index",u));return n[e-u]}if(u>e)throw new Error(l("data",u));if(a=r[e-u],!s)return a}let o=a;const i=s.split("/");for(const c of i)c&&(a=(0,W._)`${a}${(0,W.getProperty)((0,bt.unescapeJsonPointer)(c))}`,o=(0,W._)`${o} && ${a}`);return o;function l(c,u){return`Cannot access ${c} ${u} levels up, current level is ${e}`}}Qe.getData=Ja;var Wr={};Object.defineProperty(Wr,"__esModule",{value:!0});class ml extends Error{constructor(e){super("validation failed"),this.errors=e,this.ajv=this.validation=!0}}Wr.default=ml;var Xr={};Object.defineProperty(Xr,"__esModule",{value:!0});const sn=Oe;class pl extends Error{constructor(e,r,n,s){super(s||`can't resolve reference ${n} from id ${r}`),this.missingRef=(0,sn.resolveUrl)(e,r,n),this.missingSchema=(0,sn.normalizeId)((0,sn.getFullPath)(e,this.missingRef))}}Xr.default=pl;var Ie={};Object.defineProperty(Ie,"__esModule",{value:!0});Ie.resolveSchema=Ie.getCompilingSchema=Ie.resolveRef=Ie.compileSchema=Ie.SchemaEnv=void 0;const Xe=oe,_l=Wr,Mt=mt,Ze=Oe,Ms=ce,vl=Qe;class Yr{constructor(e){var r;this.refs={},this.dynamicAnchors={};let n;typeof e.schema=="object"&&(n=e.schema),this.schema=e.schema,this.schemaId=e.schemaId,this.root=e.root||this,this.baseId=(r=e.baseId)!==null&&r!==void 0?r:(0,Ze.normalizeId)(n==null?void 0:n[e.schemaId||"$id"]),this.schemaPath=e.schemaPath,this.localRefs=e.localRefs,this.meta=e.meta,this.$async=n==null?void 0:n.$async,this.refs={}}}Ie.SchemaEnv=Yr;function Cn(t){const e=Ba.call(this,t);if(e)return e;const r=(0,Ze.getFullPath)(this.opts.uriResolver,t.root.baseId),{es5:n,lines:s}=this.opts.code,{ownProperties:a}=this.opts,o=new Xe.CodeGen(this.scope,{es5:n,lines:s,ownProperties:a});let i;t.$async&&(i=o.scopeValue("Error",{ref:_l.default,code:(0,Xe._)`require("ajv/dist/runtime/validation_error").default`}));const l=o.scopeName("validate");t.validateName=l;const c={gen:o,allErrors:this.opts.allErrors,data:Mt.default.data,parentData:Mt.default.parentData,parentDataProperty:Mt.default.parentDataProperty,dataNames:[Mt.default.data],dataPathArr:[Xe.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:o.scopeValue("schema",this.opts.code.source===!0?{ref:t.schema,code:(0,Xe.stringify)(t.schema)}:{ref:t.schema}),validateName:l,ValidationError:i,schema:t.schema,schemaEnv:t,rootId:r,baseId:t.baseId||r,schemaPath:Xe.nil,errSchemaPath:t.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,Xe._)`""`,opts:this.opts,self:this};let u;try{this._compilations.add(t),(0,vl.validateFunctionCode)(c),o.optimize(this.opts.code.optimize);const d=o.toString();u=`${o.scopeRefs(Mt.default.scope)}return ${d}`,this.opts.code.process&&(u=this.opts.code.process(u,t));const w=new Function(`${Mt.default.self}`,`${Mt.default.scope}`,u)(this,this.scope.get());if(this.scope.value(l,{ref:w}),w.errors=null,w.schema=t.schema,w.schemaEnv=t,t.$async&&(w.$async=!0),this.opts.code.source===!0&&(w.source={validateName:l,validateCode:d,scopeValues:o._values}),this.opts.unevaluated){const{props:p,items:$}=c;w.evaluated={props:p instanceof Xe.Name?void 0:p,items:$ instanceof Xe.Name?void 0:$,dynamicProps:p instanceof Xe.Name,dynamicItems:$ instanceof Xe.Name},w.source&&(w.source.evaluated=(0,Xe.stringify)(w.evaluated))}return t.validate=w,t}catch(d){throw delete t.validate,delete t.validateName,u&&this.logger.error("Error compiling schema, function code:",u),d}finally{this._compilations.delete(t)}}Ie.compileSchema=Cn;function yl(t,e,r){var n;r=(0,Ze.resolveUrl)(this.opts.uriResolver,e,r);const s=t.refs[r];if(s)return s;let a=bl.call(this,t,r);if(a===void 0){const o=(n=t.localRefs)===null||n===void 0?void 0:n[r],{schemaId:i}=this.opts;o&&(a=new Yr({schema:o,schemaId:i,root:t,baseId:e}))}if(a!==void 0)return t.refs[r]=gl.call(this,a)}Ie.resolveRef=yl;function gl(t){return(0,Ze.inlineRef)(t.schema,this.opts.inlineRefs)?t.schema:t.validate?t:Cn.call(this,t)}function Ba(t){for(const e of this._compilations)if($l(e,t))return e}Ie.getCompilingSchema=Ba;function $l(t,e){return t.schema===e.schema&&t.root===e.root&&t.baseId===e.baseId}function bl(t,e){let r;for(;typeof(r=this.refs[e])=="string";)e=r;return r||this.schemas[e]||Zr.call(this,t,e)}function Zr(t,e){const r=this.opts.uriResolver.parse(e),n=(0,Ze._getFullPath)(this.opts.uriResolver,r);let s=(0,Ze.getFullPath)(this.opts.uriResolver,t.baseId,void 0);if(Object.keys(t.schema).length>0&&n===s)return an.call(this,r,t);const a=(0,Ze.normalizeId)(n),o=this.refs[a]||this.schemas[a];if(typeof o=="string"){const i=Zr.call(this,t,o);return typeof(i==null?void 0:i.schema)!="object"?void 0:an.call(this,r,i)}if(typeof(o==null?void 0:o.schema)=="object"){if(o.validate||Cn.call(this,o),a===(0,Ze.normalizeId)(e)){const{schema:i}=o,{schemaId:l}=this.opts,c=i[l];return c&&(s=(0,Ze.resolveUrl)(this.opts.uriResolver,s,c)),new Yr({schema:i,schemaId:l,root:t,baseId:s})}return an.call(this,r,o)}}Ie.resolveSchema=Zr;const wl=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function an(t,{baseId:e,schema:r,root:n}){var s;if(((s=t.fragment)===null||s===void 0?void 0:s[0])!=="/")return;for(const i of t.fragment.slice(1).split("/")){if(typeof r=="boolean")return;const l=r[(0,Ms.unescapeFragment)(i)];if(l===void 0)return;r=l;const c=typeof r=="object"&&r[this.opts.schemaId];!wl.has(i)&&c&&(e=(0,Ze.resolveUrl)(this.opts.uriResolver,e,c))}let a;if(typeof r!="boolean"&&r.$ref&&!(0,Ms.schemaHasRulesButRef)(r,this.RULES)){const i=(0,Ze.resolveUrl)(this.opts.uriResolver,e,r.$ref);a=Zr.call(this,n,i)}const{schemaId:o}=this.opts;if(a=a||new Yr({schema:r,schemaId:o,root:n,baseId:e}),a.schema!==a.root.schema)return a}const El="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",kl="Meta-schema for $data reference (JSON AnySchema extension proposal)",Sl="object",Pl=["$data"],Nl={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},Ol=!1;var Cl={$id:El,description:kl,type:Sl,required:Pl,properties:Nl,additionalProperties:Ol},jn={},_n={exports:{}};/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */(function(t,e){(function(r,n){n(e)})(Zo,function(r){function n(){for(var _=arguments.length,h=Array(_),b=0;b<_;b++)h[b]=arguments[b];if(h.length>1){h[0]=h[0].slice(0,-1);for(var j=h.length-1,O=1;O<j;++O)h[O]=h[O].slice(1,-1);return h[j]=h[j].slice(1),h.join("")}else return h[0]}function s(_){return"(?:"+_+")"}function a(_){return _===void 0?"undefined":_===null?"null":Object.prototype.toString.call(_).split(" ").pop().split("]").shift().toLowerCase()}function o(_){return _.toUpperCase()}function i(_){return _!=null?_ instanceof Array?_:typeof _.length!="number"||_.split||_.setInterval||_.call?[_]:Array.prototype.slice.call(_):[]}function l(_,h){var b=_;if(h)for(var j in h)b[j]=h[j];return b}function c(_){var h="[A-Za-z]",b="[0-9]",j=n(b,"[A-Fa-f]"),O=s(s("%[EFef]"+j+"%"+j+j+"%"+j+j)+"|"+s("%[89A-Fa-f]"+j+"%"+j+j)+"|"+s("%"+j+j)),X="[\\:\\/\\?\\#\\[\\]\\@]",Y="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",le=n(X,Y),he=_?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",ge=_?"[\\uE000-\\uF8FF]":"[]",ie=n(h,b,"[\\-\\.\\_\\~]",he);s(h+n(h,b,"[\\+\\-\\.]")+"*"),s(s(O+"|"+n(ie,Y,"[\\:]"))+"*");var de=s(s("25[0-5]")+"|"+s("2[0-4]"+b)+"|"+s("1"+b+b)+"|"+s("0?[1-9]"+b)+"|0?0?"+b),$e=s(de+"\\."+de+"\\."+de+"\\."+de),ee=s(j+"{1,4}"),_e=s(s(ee+"\\:"+ee)+"|"+$e),Ee=s(s(ee+"\\:")+"{6}"+_e),ve=s("\\:\\:"+s(ee+"\\:")+"{5}"+_e),kt=s(s(ee)+"?\\:\\:"+s(ee+"\\:")+"{4}"+_e),ct=s(s(s(ee+"\\:")+"{0,1}"+ee)+"?\\:\\:"+s(ee+"\\:")+"{3}"+_e),ut=s(s(s(ee+"\\:")+"{0,2}"+ee)+"?\\:\\:"+s(ee+"\\:")+"{2}"+_e),Gt=s(s(s(ee+"\\:")+"{0,3}"+ee)+"?\\:\\:"+ee+"\\:"+_e),At=s(s(s(ee+"\\:")+"{0,4}"+ee)+"?\\:\\:"+_e),Ke=s(s(s(ee+"\\:")+"{0,5}"+ee)+"?\\:\\:"+ee),ft=s(s(s(ee+"\\:")+"{0,6}"+ee)+"?\\:\\:"),Dt=s([Ee,ve,kt,ct,ut,Gt,At,Ke,ft].join("|")),vt=s(s(ie+"|"+O)+"+");s("[vV]"+j+"+\\."+n(ie,Y,"[\\:]")+"+"),s(s(O+"|"+n(ie,Y))+"*");var sr=s(O+"|"+n(ie,Y,"[\\:\\@]"));return s(s(O+"|"+n(ie,Y,"[\\@]"))+"+"),s(s(sr+"|"+n("[\\/\\?]",ge))+"*"),{NOT_SCHEME:new RegExp(n("[^]",h,b,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(n("[^\\%\\:]",ie,Y),"g"),NOT_HOST:new RegExp(n("[^\\%\\[\\]\\:]",ie,Y),"g"),NOT_PATH:new RegExp(n("[^\\%\\/\\:\\@]",ie,Y),"g"),NOT_PATH_NOSCHEME:new RegExp(n("[^\\%\\/\\@]",ie,Y),"g"),NOT_QUERY:new RegExp(n("[^\\%]",ie,Y,"[\\:\\@\\/\\?]",ge),"g"),NOT_FRAGMENT:new RegExp(n("[^\\%]",ie,Y,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(n("[^]",ie,Y),"g"),UNRESERVED:new RegExp(ie,"g"),OTHER_CHARS:new RegExp(n("[^\\%]",ie,le),"g"),PCT_ENCODED:new RegExp(O,"g"),IPV4ADDRESS:new RegExp("^("+$e+")$"),IPV6ADDRESS:new RegExp("^\\[?("+Dt+")"+s(s("\\%25|\\%(?!"+j+"{2})")+"("+vt+")")+"?\\]?$")}}var u=c(!1),d=c(!0),v=function(){function _(h,b){var j=[],O=!0,X=!1,Y=void 0;try{for(var le=h[Symbol.iterator](),he;!(O=(he=le.next()).done)&&(j.push(he.value),!(b&&j.length===b));O=!0);}catch(ge){X=!0,Y=ge}finally{try{!O&&le.return&&le.return()}finally{if(X)throw Y}}return j}return function(h,b){if(Array.isArray(h))return h;if(Symbol.iterator in Object(h))return _(h,b);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),w=function(_){if(Array.isArray(_)){for(var h=0,b=Array(_.length);h<_.length;h++)b[h]=_[h];return b}else return Array.from(_)},p=2147483647,$=36,y=1,m=26,E=38,k=700,T=72,A=128,S="-",C=/^xn--/,z=/[^\0-\x7E]/,H=/[\x2E\u3002\uFF0E\uFF61]/g,B={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},ue=$-y,re=Math.floor,ke=String.fromCharCode;function ye(_){throw new RangeError(B[_])}function nt(_,h){for(var b=[],j=_.length;j--;)b[j]=h(_[j]);return b}function st(_,h){var b=_.split("@"),j="";b.length>1&&(j=b[0]+"@",_=b[1]),_=_.replace(H,".");var O=_.split("."),X=nt(O,h).join(".");return j+X}function pt(_){for(var h=[],b=0,j=_.length;b<j;){var O=_.charCodeAt(b++);if(O>=55296&&O<=56319&&b<j){var X=_.charCodeAt(b++);(X&64512)==56320?h.push(((O&1023)<<10)+(X&1023)+65536):(h.push(O),b--)}else h.push(O)}return h}var Be=function(h){return String.fromCodePoint.apply(String,w(h))},wt=function(h){return h-48<10?h-22:h-65<26?h-65:h-97<26?h-97:$},q=function(h,b){return h+22+75*(h<26)-((b!=0)<<5)},P=function(h,b,j){var O=0;for(h=j?re(h/k):h>>1,h+=re(h/b);h>ue*m>>1;O+=$)h=re(h/ue);return re(O+(ue+1)*h/(h+E))},D=function(h){var b=[],j=h.length,O=0,X=A,Y=T,le=h.lastIndexOf(S);le<0&&(le=0);for(var he=0;he<le;++he)h.charCodeAt(he)>=128&&ye("not-basic"),b.push(h.charCodeAt(he));for(var ge=le>0?le+1:0;ge<j;){for(var ie=O,de=1,$e=$;;$e+=$){ge>=j&&ye("invalid-input");var ee=wt(h.charCodeAt(ge++));(ee>=$||ee>re((p-O)/de))&&ye("overflow"),O+=ee*de;var _e=$e<=Y?y:$e>=Y+m?m:$e-Y;if(ee<_e)break;var Ee=$-_e;de>re(p/Ee)&&ye("overflow"),de*=Ee}var ve=b.length+1;Y=P(O-ie,ve,ie==0),re(O/ve)>p-X&&ye("overflow"),X+=re(O/ve),O%=ve,b.splice(O++,0,X)}return String.fromCodePoint.apply(String,b)},N=function(h){var b=[];h=pt(h);var j=h.length,O=A,X=0,Y=T,le=!0,he=!1,ge=void 0;try{for(var ie=h[Symbol.iterator](),de;!(le=(de=ie.next()).done);le=!0){var $e=de.value;$e<128&&b.push(ke($e))}}catch(ar){he=!0,ge=ar}finally{try{!le&&ie.return&&ie.return()}finally{if(he)throw ge}}var ee=b.length,_e=ee;for(ee&&b.push(S);_e<j;){var Ee=p,ve=!0,kt=!1,ct=void 0;try{for(var ut=h[Symbol.iterator](),Gt;!(ve=(Gt=ut.next()).done);ve=!0){var At=Gt.value;At>=O&&At<Ee&&(Ee=At)}}catch(ar){kt=!0,ct=ar}finally{try{!ve&&ut.return&&ut.return()}finally{if(kt)throw ct}}var Ke=_e+1;Ee-O>re((p-X)/Ke)&&ye("overflow"),X+=(Ee-O)*Ke,O=Ee;var ft=!0,Dt=!1,vt=void 0;try{for(var sr=h[Symbol.iterator](),vs;!(ft=(vs=sr.next()).done);ft=!0){var ys=vs.value;if(ys<O&&++X>p&&ye("overflow"),ys==O){for(var Sr=X,Pr=$;;Pr+=$){var Nr=Pr<=Y?y:Pr>=Y+m?m:Pr-Y;if(Sr<Nr)break;var gs=Sr-Nr,$s=$-Nr;b.push(ke(q(Nr+gs%$s,0))),Sr=re(gs/$s)}b.push(ke(q(Sr,0))),Y=P(X,Ke,_e==ee),X=0,++_e}}}catch(ar){Dt=!0,vt=ar}finally{try{!ft&&sr.return&&sr.return()}finally{if(Dt)throw vt}}++X,++O}return b.join("")},f=function(h){return st(h,function(b){return C.test(b)?D(b.slice(4).toLowerCase()):b})},g=function(h){return st(h,function(b){return z.test(b)?"xn--"+N(b):b})},R={version:"2.1.0",ucs2:{decode:pt,encode:Be},decode:D,encode:N,toASCII:g,toUnicode:f},L={};function K(_){var h=_.charCodeAt(0),b=void 0;return h<16?b="%0"+h.toString(16).toUpperCase():h<128?b="%"+h.toString(16).toUpperCase():h<2048?b="%"+(h>>6|192).toString(16).toUpperCase()+"%"+(h&63|128).toString(16).toUpperCase():b="%"+(h>>12|224).toString(16).toUpperCase()+"%"+(h>>6&63|128).toString(16).toUpperCase()+"%"+(h&63|128).toString(16).toUpperCase(),b}function se(_){for(var h="",b=0,j=_.length;b<j;){var O=parseInt(_.substr(b+1,2),16);if(O<128)h+=String.fromCharCode(O),b+=3;else if(O>=194&&O<224){if(j-b>=6){var X=parseInt(_.substr(b+4,2),16);h+=String.fromCharCode((O&31)<<6|X&63)}else h+=_.substr(b,6);b+=6}else if(O>=224){if(j-b>=9){var Y=parseInt(_.substr(b+4,2),16),le=parseInt(_.substr(b+7,2),16);h+=String.fromCharCode((O&15)<<12|(Y&63)<<6|le&63)}else h+=_.substr(b,9);b+=9}else h+=_.substr(b,3),b+=3}return h}function ne(_,h){function b(j){var O=se(j);return O.match(h.UNRESERVED)?O:j}return _.scheme&&(_.scheme=String(_.scheme).replace(h.PCT_ENCODED,b).toLowerCase().replace(h.NOT_SCHEME,"")),_.userinfo!==void 0&&(_.userinfo=String(_.userinfo).replace(h.PCT_ENCODED,b).replace(h.NOT_USERINFO,K).replace(h.PCT_ENCODED,o)),_.host!==void 0&&(_.host=String(_.host).replace(h.PCT_ENCODED,b).toLowerCase().replace(h.NOT_HOST,K).replace(h.PCT_ENCODED,o)),_.path!==void 0&&(_.path=String(_.path).replace(h.PCT_ENCODED,b).replace(_.scheme?h.NOT_PATH:h.NOT_PATH_NOSCHEME,K).replace(h.PCT_ENCODED,o)),_.query!==void 0&&(_.query=String(_.query).replace(h.PCT_ENCODED,b).replace(h.NOT_QUERY,K).replace(h.PCT_ENCODED,o)),_.fragment!==void 0&&(_.fragment=String(_.fragment).replace(h.PCT_ENCODED,b).replace(h.NOT_FRAGMENT,K).replace(h.PCT_ENCODED,o)),_}function fe(_){return _.replace(/^0*(.*)/,"$1")||"0"}function Se(_,h){var b=_.match(h.IPV4ADDRESS)||[],j=v(b,2),O=j[1];return O?O.split(".").map(fe).join("."):_}function at(_,h){var b=_.match(h.IPV6ADDRESS)||[],j=v(b,3),O=j[1],X=j[2];if(O){for(var Y=O.toLowerCase().split("::").reverse(),le=v(Y,2),he=le[0],ge=le[1],ie=ge?ge.split(":").map(fe):[],de=he.split(":").map(fe),$e=h.IPV4ADDRESS.test(de[de.length-1]),ee=$e?7:8,_e=de.length-ee,Ee=Array(ee),ve=0;ve<ee;++ve)Ee[ve]=ie[ve]||de[_e+ve]||"";$e&&(Ee[ee-1]=Se(Ee[ee-1],h));var kt=Ee.reduce(function(Ke,ft,Dt){if(!ft||ft==="0"){var vt=Ke[Ke.length-1];vt&&vt.index+vt.length===Dt?vt.length++:Ke.push({index:Dt,length:1})}return Ke},[]),ct=kt.sort(function(Ke,ft){return ft.length-Ke.length})[0],ut=void 0;if(ct&&ct.length>1){var Gt=Ee.slice(0,ct.index),At=Ee.slice(ct.index+ct.length);ut=Gt.join(":")+"::"+At.join(":")}else ut=Ee.join(":");return X&&(ut+="%"+X),ut}else return _}var De=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,ot="".match(/(){0}/)[1]===void 0;function Pe(_){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},b={},j=h.iri!==!1?d:u;h.reference==="suffix"&&(_=(h.scheme?h.scheme+":":"")+"//"+_);var O=_.match(De);if(O){ot?(b.scheme=O[1],b.userinfo=O[3],b.host=O[4],b.port=parseInt(O[5],10),b.path=O[6]||"",b.query=O[7],b.fragment=O[8],isNaN(b.port)&&(b.port=O[5])):(b.scheme=O[1]||void 0,b.userinfo=_.indexOf("@")!==-1?O[3]:void 0,b.host=_.indexOf("//")!==-1?O[4]:void 0,b.port=parseInt(O[5],10),b.path=O[6]||"",b.query=_.indexOf("?")!==-1?O[7]:void 0,b.fragment=_.indexOf("#")!==-1?O[8]:void 0,isNaN(b.port)&&(b.port=_.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?O[4]:void 0)),b.host&&(b.host=at(Se(b.host,j),j)),b.scheme===void 0&&b.userinfo===void 0&&b.host===void 0&&b.port===void 0&&!b.path&&b.query===void 0?b.reference="same-document":b.scheme===void 0?b.reference="relative":b.fragment===void 0?b.reference="absolute":b.reference="uri",h.reference&&h.reference!=="suffix"&&h.reference!==b.reference&&(b.error=b.error||"URI is not a "+h.reference+" reference.");var X=L[(h.scheme||b.scheme||"").toLowerCase()];if(!h.unicodeSupport&&(!X||!X.unicodeSupport)){if(b.host&&(h.domainHost||X&&X.domainHost))try{b.host=R.toASCII(b.host.replace(j.PCT_ENCODED,se).toLowerCase())}catch(Y){b.error=b.error||"Host's domain name can not be converted to ASCII via punycode: "+Y}ne(b,u)}else ne(b,j);X&&X.parse&&X.parse(b,h)}else b.error=b.error||"URI can not be parsed.";return b}function Et(_,h){var b=h.iri!==!1?d:u,j=[];return _.userinfo!==void 0&&(j.push(_.userinfo),j.push("@")),_.host!==void 0&&j.push(at(Se(String(_.host),b),b).replace(b.IPV6ADDRESS,function(O,X,Y){return"["+X+(Y?"%25"+Y:"")+"]"})),(typeof _.port=="number"||typeof _.port=="string")&&(j.push(":"),j.push(String(_.port))),j.length?j.join(""):void 0}var _t=/^\.\.?\//,We=/^\/\.(\/|$)/,it=/^\/\.\.(\/|$)/,Tt=/^\/?(?:.|\n)*?(?=\/|$)/;function Me(_){for(var h=[];_.length;)if(_.match(_t))_=_.replace(_t,"");else if(_.match(We))_=_.replace(We,"/");else if(_.match(it))_=_.replace(it,"/"),h.pop();else if(_==="."||_==="..")_="";else{var b=_.match(Tt);if(b){var j=b[0];_=_.slice(j.length),h.push(j)}else throw new Error("Unexpected dot segment condition")}return h.join("")}function we(_){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},b=h.iri?d:u,j=[],O=L[(h.scheme||_.scheme||"").toLowerCase()];if(O&&O.serialize&&O.serialize(_,h),_.host&&!b.IPV6ADDRESS.test(_.host)){if(h.domainHost||O&&O.domainHost)try{_.host=h.iri?R.toUnicode(_.host):R.toASCII(_.host.replace(b.PCT_ENCODED,se).toLowerCase())}catch(le){_.error=_.error||"Host's domain name can not be converted to "+(h.iri?"Unicode":"ASCII")+" via punycode: "+le}}ne(_,b),h.reference!=="suffix"&&_.scheme&&(j.push(_.scheme),j.push(":"));var X=Et(_,h);if(X!==void 0&&(h.reference!=="suffix"&&j.push("//"),j.push(X),_.path&&_.path.charAt(0)!=="/"&&j.push("/")),_.path!==void 0){var Y=_.path;!h.absolutePath&&(!O||!O.absolutePath)&&(Y=Me(Y)),X===void 0&&(Y=Y.replace(/^\/\//,"/%2F")),j.push(Y)}return _.query!==void 0&&(j.push("?"),j.push(_.query)),_.fragment!==void 0&&(j.push("#"),j.push(_.fragment)),j.join("")}function pe(_,h){var b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},j=arguments[3],O={};return j||(_=Pe(we(_,b),b),h=Pe(we(h,b),b)),b=b||{},!b.tolerant&&h.scheme?(O.scheme=h.scheme,O.userinfo=h.userinfo,O.host=h.host,O.port=h.port,O.path=Me(h.path||""),O.query=h.query):(h.userinfo!==void 0||h.host!==void 0||h.port!==void 0?(O.userinfo=h.userinfo,O.host=h.host,O.port=h.port,O.path=Me(h.path||""),O.query=h.query):(h.path?(h.path.charAt(0)==="/"?O.path=Me(h.path):((_.userinfo!==void 0||_.host!==void 0||_.port!==void 0)&&!_.path?O.path="/"+h.path:_.path?O.path=_.path.slice(0,_.path.lastIndexOf("/")+1)+h.path:O.path=h.path,O.path=Me(O.path)),O.query=h.query):(O.path=_.path,h.query!==void 0?O.query=h.query:O.query=_.query),O.userinfo=_.userinfo,O.host=_.host,O.port=_.port),O.scheme=_.scheme),O.fragment=h.fragment,O}function ze(_,h,b){var j=l({scheme:"null"},b);return we(pe(Pe(_,j),Pe(h,j),j,!0),j)}function Rt(_,h){return typeof _=="string"?_=we(Pe(_,h),h):a(_)==="object"&&(_=Pe(we(_,h),h)),_}function rr(_,h,b){return typeof _=="string"?_=we(Pe(_,b),b):a(_)==="object"&&(_=we(_,b)),typeof h=="string"?h=we(Pe(h,b),b):a(h)==="object"&&(h=we(h,b)),_===h}function kr(_,h){return _&&_.toString().replace(!h||!h.iri?u.ESCAPE:d.ESCAPE,K)}function Le(_,h){return _&&_.toString().replace(!h||!h.iri?u.PCT_ENCODED:d.PCT_ENCODED,se)}var It={scheme:"http",domainHost:!0,parse:function(h,b){return h.host||(h.error=h.error||"HTTP URIs must have a host."),h},serialize:function(h,b){var j=String(h.scheme).toLowerCase()==="https";return(h.port===(j?443:80)||h.port==="")&&(h.port=void 0),h.path||(h.path="/"),h}},cs={scheme:"https",domainHost:It.domainHost,parse:It.parse,serialize:It.serialize};function us(_){return typeof _.secure=="boolean"?_.secure:String(_.scheme).toLowerCase()==="wss"}var nr={scheme:"ws",domainHost:!0,parse:function(h,b){var j=h;return j.secure=us(j),j.resourceName=(j.path||"/")+(j.query?"?"+j.query:""),j.path=void 0,j.query=void 0,j},serialize:function(h,b){if((h.port===(us(h)?443:80)||h.port==="")&&(h.port=void 0),typeof h.secure=="boolean"&&(h.scheme=h.secure?"wss":"ws",h.secure=void 0),h.resourceName){var j=h.resourceName.split("?"),O=v(j,2),X=O[0],Y=O[1];h.path=X&&X!=="/"?X:void 0,h.query=Y,h.resourceName=void 0}return h.fragment=void 0,h}},fs={scheme:"wss",domainHost:nr.domainHost,parse:nr.parse,serialize:nr.serialize},oo={},ds="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",lt="[0-9A-Fa-f]",io=s(s("%[EFef]"+lt+"%"+lt+lt+"%"+lt+lt)+"|"+s("%[89A-Fa-f]"+lt+"%"+lt+lt)+"|"+s("%"+lt+lt)),lo="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",co="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",uo=n(co,'[\\"\\\\]'),fo="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",ho=new RegExp(ds,"g"),Ht=new RegExp(io,"g"),mo=new RegExp(n("[^]",lo,"[\\.]",'[\\"]',uo),"g"),hs=new RegExp(n("[^]",ds,fo),"g"),po=hs;function en(_){var h=se(_);return h.match(ho)?h:_}var ms={scheme:"mailto",parse:function(h,b){var j=h,O=j.to=j.path?j.path.split(","):[];if(j.path=void 0,j.query){for(var X=!1,Y={},le=j.query.split("&"),he=0,ge=le.length;he<ge;++he){var ie=le[he].split("=");switch(ie[0]){case"to":for(var de=ie[1].split(","),$e=0,ee=de.length;$e<ee;++$e)O.push(de[$e]);break;case"subject":j.subject=Le(ie[1],b);break;case"body":j.body=Le(ie[1],b);break;default:X=!0,Y[Le(ie[0],b)]=Le(ie[1],b);break}}X&&(j.headers=Y)}j.query=void 0;for(var _e=0,Ee=O.length;_e<Ee;++_e){var ve=O[_e].split("@");if(ve[0]=Le(ve[0]),b.unicodeSupport)ve[1]=Le(ve[1],b).toLowerCase();else try{ve[1]=R.toASCII(Le(ve[1],b).toLowerCase())}catch(kt){j.error=j.error||"Email address's domain name can not be converted to ASCII via punycode: "+kt}O[_e]=ve.join("@")}return j},serialize:function(h,b){var j=h,O=i(h.to);if(O){for(var X=0,Y=O.length;X<Y;++X){var le=String(O[X]),he=le.lastIndexOf("@"),ge=le.slice(0,he).replace(Ht,en).replace(Ht,o).replace(mo,K),ie=le.slice(he+1);try{ie=b.iri?R.toUnicode(ie):R.toASCII(Le(ie,b).toLowerCase())}catch(_e){j.error=j.error||"Email address's domain name can not be converted to "+(b.iri?"Unicode":"ASCII")+" via punycode: "+_e}O[X]=ge+"@"+ie}j.path=O.join(",")}var de=h.headers=h.headers||{};h.subject&&(de.subject=h.subject),h.body&&(de.body=h.body);var $e=[];for(var ee in de)de[ee]!==oo[ee]&&$e.push(ee.replace(Ht,en).replace(Ht,o).replace(hs,K)+"="+de[ee].replace(Ht,en).replace(Ht,o).replace(po,K));return $e.length&&(j.query=$e.join("&")),j}},_o=/^([^\:]+)\:(.*)/,ps={scheme:"urn",parse:function(h,b){var j=h.path&&h.path.match(_o),O=h;if(j){var X=b.scheme||O.scheme||"urn",Y=j[1].toLowerCase(),le=j[2],he=X+":"+(b.nid||Y),ge=L[he];O.nid=Y,O.nss=le,O.path=void 0,ge&&(O=ge.parse(O,b))}else O.error=O.error||"URN can not be parsed.";return O},serialize:function(h,b){var j=b.scheme||h.scheme||"urn",O=h.nid,X=j+":"+(b.nid||O),Y=L[X];Y&&(h=Y.serialize(h,b));var le=h,he=h.nss;return le.path=(O||b.nid)+":"+he,le}},vo=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,_s={scheme:"urn:uuid",parse:function(h,b){var j=h;return j.uuid=j.nss,j.nss=void 0,!b.tolerant&&(!j.uuid||!j.uuid.match(vo))&&(j.error=j.error||"UUID is not valid."),j},serialize:function(h,b){var j=h;return j.nss=(h.uuid||"").toLowerCase(),j}};L[It.scheme]=It,L[cs.scheme]=cs,L[nr.scheme]=nr,L[fs.scheme]=fs,L[ms.scheme]=ms,L[ps.scheme]=ps,L[_s.scheme]=_s,r.SCHEMES=L,r.pctEncChar=K,r.pctDecChars=se,r.parse=Pe,r.removeDotSegments=Me,r.serialize=we,r.resolveComponents=pe,r.resolve=ze,r.normalize=Rt,r.equal=rr,r.escapeComponent=kr,r.unescapeComponent=Le,Object.defineProperty(r,"__esModule",{value:!0})})})(_n,_n.exports);Object.defineProperty(jn,"__esModule",{value:!0});const Wa=_n.exports;Wa.code='require("ajv/dist/runtime/uri").default';jn.default=Wa;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;var e=Qe;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return e.KeywordCxt}});var r=oe;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const n=Wr,s=Xr,a=Ut,o=Ie,i=oe,l=Oe,c=br,u=ce,d=Cl,v=jn,w=(q,P)=>new RegExp(q,P);w.code="new RegExp";const p=["removeAdditional","useDefaults","coerceTypes"],$=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),y={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},m={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},E=200;function k(q){var P,D,N,f,g,R,L,K,se,ne,fe,Se,at,De,ot,Pe,Et,_t,We,it,Tt,Me,we,pe,ze;const Rt=q.strict,rr=(P=q.code)===null||P===void 0?void 0:P.optimize,kr=rr===!0||rr===void 0?1:rr||0,Le=(N=(D=q.code)===null||D===void 0?void 0:D.regExp)!==null&&N!==void 0?N:w,It=(f=q.uriResolver)!==null&&f!==void 0?f:v.default;return{strictSchema:(R=(g=q.strictSchema)!==null&&g!==void 0?g:Rt)!==null&&R!==void 0?R:!0,strictNumbers:(K=(L=q.strictNumbers)!==null&&L!==void 0?L:Rt)!==null&&K!==void 0?K:!0,strictTypes:(ne=(se=q.strictTypes)!==null&&se!==void 0?se:Rt)!==null&&ne!==void 0?ne:"log",strictTuples:(Se=(fe=q.strictTuples)!==null&&fe!==void 0?fe:Rt)!==null&&Se!==void 0?Se:"log",strictRequired:(De=(at=q.strictRequired)!==null&&at!==void 0?at:Rt)!==null&&De!==void 0?De:!1,code:q.code?St(Ce({},q.code),{optimize:kr,regExp:Le}):{optimize:kr,regExp:Le},loopRequired:(ot=q.loopRequired)!==null&&ot!==void 0?ot:E,loopEnum:(Pe=q.loopEnum)!==null&&Pe!==void 0?Pe:E,meta:(Et=q.meta)!==null&&Et!==void 0?Et:!0,messages:(_t=q.messages)!==null&&_t!==void 0?_t:!0,inlineRefs:(We=q.inlineRefs)!==null&&We!==void 0?We:!0,schemaId:(it=q.schemaId)!==null&&it!==void 0?it:"$id",addUsedSchema:(Tt=q.addUsedSchema)!==null&&Tt!==void 0?Tt:!0,validateSchema:(Me=q.validateSchema)!==null&&Me!==void 0?Me:!0,validateFormats:(we=q.validateFormats)!==null&&we!==void 0?we:!0,unicodeRegExp:(pe=q.unicodeRegExp)!==null&&pe!==void 0?pe:!0,int32range:(ze=q.int32range)!==null&&ze!==void 0?ze:!0,uriResolver:It}}class T{constructor(P={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,P=this.opts=Ce(Ce({},P),k(P));const{es5:D,lines:N}=this.opts.code;this.scope=new i.ValueScope({scope:{},prefixes:$,es5:D,lines:N}),this.logger=re(P.logger);const f=P.validateFormats;P.validateFormats=!1,this.RULES=(0,a.getRules)(),A.call(this,y,P,"NOT SUPPORTED"),A.call(this,m,P,"DEPRECATED","warn"),this._metaOpts=B.call(this),P.formats&&z.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),P.keywords&&H.call(this,P.keywords),typeof P.meta=="object"&&this.addMetaSchema(P.meta),C.call(this),P.validateFormats=f}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:P,meta:D,schemaId:N}=this.opts;let f=d;N==="id"&&(f=Ce({},d),f.id=f.$id,delete f.$id),D&&P&&this.addMetaSchema(f,f[N],!1)}defaultMeta(){const{meta:P,schemaId:D}=this.opts;return this.opts.defaultMeta=typeof P=="object"?P[D]||P:void 0}validate(P,D){let N;if(typeof P=="string"){if(N=this.getSchema(P),!N)throw new Error(`no schema with key or ref "${P}"`)}else N=this.compile(P);const f=N(D);return"$async"in N||(this.errors=N.errors),f}compile(P,D){const N=this._addSchema(P,D);return N.validate||this._compileSchemaEnv(N)}compileAsync(P,D){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:N}=this.opts;return f.call(this,P,D);async function f(ne,fe){await g.call(this,ne.$schema);const Se=this._addSchema(ne,fe);return Se.validate||R.call(this,Se)}async function g(ne){ne&&!this.getSchema(ne)&&await f.call(this,{$ref:ne},!0)}async function R(ne){try{return this._compileSchemaEnv(ne)}catch(fe){if(!(fe instanceof s.default))throw fe;return L.call(this,fe),await K.call(this,fe.missingSchema),R.call(this,ne)}}function L({missingSchema:ne,missingRef:fe}){if(this.refs[ne])throw new Error(`AnySchema ${ne} is loaded but ${fe} cannot be resolved`)}async function K(ne){const fe=await se.call(this,ne);this.refs[ne]||await g.call(this,fe.$schema),this.refs[ne]||this.addSchema(fe,ne,D)}async function se(ne){const fe=this._loading[ne];if(fe)return fe;try{return await(this._loading[ne]=N(ne))}finally{delete this._loading[ne]}}}addSchema(P,D,N,f=this.opts.validateSchema){if(Array.isArray(P)){for(const R of P)this.addSchema(R,void 0,N,f);return this}let g;if(typeof P=="object"){const{schemaId:R}=this.opts;if(g=P[R],g!==void 0&&typeof g!="string")throw new Error(`schema ${R} must be string`)}return D=(0,l.normalizeId)(D||g),this._checkUnique(D),this.schemas[D]=this._addSchema(P,N,D,f,!0),this}addMetaSchema(P,D,N=this.opts.validateSchema){return this.addSchema(P,D,!0,N),this}validateSchema(P,D){if(typeof P=="boolean")return!0;let N;if(N=P.$schema,N!==void 0&&typeof N!="string")throw new Error("$schema must be a string");if(N=N||this.opts.defaultMeta||this.defaultMeta(),!N)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const f=this.validate(N,P);if(!f&&D){const g="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(g);else throw new Error(g)}return f}getSchema(P){let D;for(;typeof(D=S.call(this,P))=="string";)P=D;if(D===void 0){const{schemaId:N}=this.opts,f=new o.SchemaEnv({schema:{},schemaId:N});if(D=o.resolveSchema.call(this,f,P),!D)return;this.refs[P]=D}return D.validate||this._compileSchemaEnv(D)}removeSchema(P){if(P instanceof RegExp)return this._removeAllSchemas(this.schemas,P),this._removeAllSchemas(this.refs,P),this;switch(typeof P){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const D=S.call(this,P);return typeof D=="object"&&this._cache.delete(D.schema),delete this.schemas[P],delete this.refs[P],this}case"object":{const D=P;this._cache.delete(D);let N=P[this.opts.schemaId];return N&&(N=(0,l.normalizeId)(N),delete this.schemas[N],delete this.refs[N]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(P){for(const D of P)this.addKeyword(D);return this}addKeyword(P,D){let N;if(typeof P=="string")N=P,typeof D=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),D.keyword=N);else if(typeof P=="object"&&D===void 0){if(D=P,N=D.keyword,Array.isArray(N)&&!N.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(ye.call(this,N,D),!D)return(0,u.eachItem)(N,g=>nt.call(this,g)),this;pt.call(this,D);const f=St(Ce({},D),{type:(0,c.getJSONTypes)(D.type),schemaType:(0,c.getJSONTypes)(D.schemaType)});return(0,u.eachItem)(N,f.type.length===0?g=>nt.call(this,g,f):g=>f.type.forEach(R=>nt.call(this,g,f,R))),this}getKeyword(P){const D=this.RULES.all[P];return typeof D=="object"?D.definition:!!D}removeKeyword(P){const{RULES:D}=this;delete D.keywords[P],delete D.all[P];for(const N of D.rules){const f=N.rules.findIndex(g=>g.keyword===P);f>=0&&N.rules.splice(f,1)}return this}addFormat(P,D){return typeof D=="string"&&(D=new RegExp(D)),this.formats[P]=D,this}errorsText(P=this.errors,{separator:D=", ",dataVar:N="data"}={}){return!P||P.length===0?"No errors":P.map(f=>`${N}${f.instancePath} ${f.message}`).reduce((f,g)=>f+D+g)}$dataMetaSchema(P,D){const N=this.RULES.all;P=JSON.parse(JSON.stringify(P));for(const f of D){const g=f.split("/").slice(1);let R=P;for(const L of g)R=R[L];for(const L in N){const K=N[L];if(typeof K!="object")continue;const{$data:se}=K.definition,ne=R[L];se&&ne&&(R[L]=wt(ne))}}return P}_removeAllSchemas(P,D){for(const N in P){const f=P[N];(!D||D.test(N))&&(typeof f=="string"?delete P[N]:f&&!f.meta&&(this._cache.delete(f.schema),delete P[N]))}}_addSchema(P,D,N,f=this.opts.validateSchema,g=this.opts.addUsedSchema){let R;const{schemaId:L}=this.opts;if(typeof P=="object")R=P[L];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof P!="boolean")throw new Error("schema must be object or boolean")}let K=this._cache.get(P);if(K!==void 0)return K;N=(0,l.normalizeId)(R||N);const se=l.getSchemaRefs.call(this,P,N);return K=new o.SchemaEnv({schema:P,schemaId:L,meta:D,baseId:N,localRefs:se}),this._cache.set(K.schema,K),g&&!N.startsWith("#")&&(N&&this._checkUnique(N),this.refs[N]=K),f&&this.validateSchema(P,!0),K}_checkUnique(P){if(this.schemas[P]||this.refs[P])throw new Error(`schema with key or id "${P}" already exists`)}_compileSchemaEnv(P){if(P.meta?this._compileMetaSchema(P):o.compileSchema.call(this,P),!P.validate)throw new Error("ajv implementation error");return P.validate}_compileMetaSchema(P){const D=this.opts;this.opts=this._metaOpts;try{o.compileSchema.call(this,P)}finally{this.opts=D}}}t.default=T,T.ValidationError=n.default,T.MissingRefError=s.default;function A(q,P,D,N="error"){for(const f in q){const g=f;g in P&&this.logger[N](`${D}: option ${f}. ${q[g]}`)}}function S(q){return q=(0,l.normalizeId)(q),this.schemas[q]||this.refs[q]}function C(){const q=this.opts.schemas;if(!!q)if(Array.isArray(q))this.addSchema(q);else for(const P in q)this.addSchema(q[P],P)}function z(){for(const q in this.opts.formats){const P=this.opts.formats[q];P&&this.addFormat(q,P)}}function H(q){if(Array.isArray(q)){this.addVocabulary(q);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const P in q){const D=q[P];D.keyword||(D.keyword=P),this.addKeyword(D)}}function B(){const q=Ce({},this.opts);for(const P of p)delete q[P];return q}const ue={log(){},warn(){},error(){}};function re(q){if(q===!1)return ue;if(q===void 0)return console;if(q.log&&q.warn&&q.error)return q;throw new Error("logger must implement log, warn and error methods")}const ke=/^[a-z_$][a-z0-9_$:-]*$/i;function ye(q,P){const{RULES:D}=this;if((0,u.eachItem)(q,N=>{if(D.keywords[N])throw new Error(`Keyword ${N} is already defined`);if(!ke.test(N))throw new Error(`Keyword ${N} has invalid name`)}),!!P&&P.$data&&!("code"in P||"validate"in P))throw new Error('$data keyword must have "code" or "validate" function')}function nt(q,P,D){var N;const f=P==null?void 0:P.post;if(D&&f)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:g}=this;let R=f?g.post:g.rules.find(({type:K})=>K===D);if(R||(R={type:D,rules:[]},g.rules.push(R)),g.keywords[q]=!0,!P)return;const L={keyword:q,definition:St(Ce({},P),{type:(0,c.getJSONTypes)(P.type),schemaType:(0,c.getJSONTypes)(P.schemaType)})};P.before?st.call(this,R,L,P.before):R.rules.push(L),g.all[q]=L,(N=P.implements)===null||N===void 0||N.forEach(K=>this.addKeyword(K))}function st(q,P,D){const N=q.rules.findIndex(f=>f.keyword===D);N>=0?q.rules.splice(N,0,P):(q.rules.push(P),this.logger.warn(`rule ${D} is not defined`))}function pt(q){let{metaSchema:P}=q;P!==void 0&&(q.$data&&this.opts.$data&&(P=wt(P)),q.validateSchema=this.compile(P,!0))}const Be={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function wt(q){return{anyOf:[q,Be]}}})(ka);var Tn={},Rn={},In={};Object.defineProperty(In,"__esModule",{value:!0});const jl={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};In.default=jl;var qt={};Object.defineProperty(qt,"__esModule",{value:!0});qt.callRef=qt.getValidate=void 0;const Tl=Xr,zs=ae,Re=oe,Bt=mt,Vs=Ie,Cr=ce,Rl={keyword:"$ref",schemaType:"string",code(t){const{gen:e,schema:r,it:n}=t,{baseId:s,schemaEnv:a,validateName:o,opts:i,self:l}=n,{root:c}=a;if((r==="#"||r==="#/")&&s===c.baseId)return d();const u=Vs.resolveRef.call(l,c,s,r);if(u===void 0)throw new Tl.default(n.opts.uriResolver,s,r);if(u instanceof Vs.SchemaEnv)return v(u);return w(u);function d(){if(a===c)return zr(t,o,a,a.$async);const p=e.scopeValue("root",{ref:c});return zr(t,(0,Re._)`${p}.validate`,c,c.$async)}function v(p){const $=Xa(t,p);zr(t,$,p,p.$async)}function w(p){const $=e.scopeValue("schema",i.code.source===!0?{ref:p,code:(0,Re.stringify)(p)}:{ref:p}),y=e.name("valid"),m=t.subschema({schema:p,dataTypes:[],schemaPath:Re.nil,topSchemaRef:$,errSchemaPath:r},y);t.mergeEvaluated(m),t.ok(y)}}};function Xa(t,e){const{gen:r}=t;return e.validate?r.scopeValue("validate",{ref:e.validate}):(0,Re._)`${r.scopeValue("wrapper",{ref:e})}.validate`}qt.getValidate=Xa;function zr(t,e,r,n){const{gen:s,it:a}=t,{allErrors:o,schemaEnv:i,opts:l}=a,c=l.passContext?Bt.default.this:Re.nil;n?u():d();function u(){if(!i.$async)throw new Error("async schema referenced by sync schema");const p=s.let("valid");s.try(()=>{s.code((0,Re._)`await ${(0,zs.callValidateCode)(t,e,c)}`),w(e),o||s.assign(p,!0)},$=>{s.if((0,Re._)`!(${$} instanceof ${a.ValidationError})`,()=>s.throw($)),v($),o||s.assign(p,!1)}),t.ok(p)}function d(){t.result((0,zs.callValidateCode)(t,e,c),()=>w(e),()=>v(e))}function v(p){const $=(0,Re._)`${p}.errors`;s.assign(Bt.default.vErrors,(0,Re._)`${Bt.default.vErrors} === null ? ${$} : ${Bt.default.vErrors}.concat(${$})`),s.assign(Bt.default.errors,(0,Re._)`${Bt.default.vErrors}.length`)}function w(p){var $;if(!a.opts.unevaluated)return;const y=($=r==null?void 0:r.validate)===null||$===void 0?void 0:$.evaluated;if(a.props!==!0)if(y&&!y.dynamicProps)y.props!==void 0&&(a.props=Cr.mergeEvaluated.props(s,y.props,a.props));else{const m=s.var("props",(0,Re._)`${p}.evaluated.props`);a.props=Cr.mergeEvaluated.props(s,m,a.props,Re.Name)}if(a.items!==!0)if(y&&!y.dynamicItems)y.items!==void 0&&(a.items=Cr.mergeEvaluated.items(s,y.items,a.items));else{const m=s.var("items",(0,Re._)`${p}.evaluated.items`);a.items=Cr.mergeEvaluated.items(s,m,a.items,Re.Name)}}}qt.callRef=zr;qt.default=Rl;Object.defineProperty(Rn,"__esModule",{value:!0});const Il=In,Al=qt,Dl=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",Il.default,Al.default];Rn.default=Dl;var An={},Dn={};Object.defineProperty(Dn,"__esModule",{value:!0});const Kr=oe,Nt=Kr.operators,Hr={maximum:{okStr:"<=",ok:Nt.LTE,fail:Nt.GT},minimum:{okStr:">=",ok:Nt.GTE,fail:Nt.LT},exclusiveMaximum:{okStr:"<",ok:Nt.LT,fail:Nt.GTE},exclusiveMinimum:{okStr:">",ok:Nt.GT,fail:Nt.LTE}},Ml={message:({keyword:t,schemaCode:e})=>(0,Kr.str)`must be ${Hr[t].okStr} ${e}`,params:({keyword:t,schemaCode:e})=>(0,Kr._)`{comparison: ${Hr[t].okStr}, limit: ${e}}`},zl={keyword:Object.keys(Hr),type:"number",schemaType:"number",$data:!0,error:Ml,code(t){const{keyword:e,data:r,schemaCode:n}=t;t.fail$data((0,Kr._)`${r} ${Hr[e].fail} ${n} || isNaN(${r})`)}};Dn.default=zl;var Mn={};Object.defineProperty(Mn,"__esModule",{value:!0});const dr=oe,Vl={message:({schemaCode:t})=>(0,dr.str)`must be multiple of ${t}`,params:({schemaCode:t})=>(0,dr._)`{multipleOf: ${t}}`},Fl={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:Vl,code(t){const{gen:e,data:r,schemaCode:n,it:s}=t,a=s.opts.multipleOfPrecision,o=e.let("res"),i=a?(0,dr._)`Math.abs(Math.round(${o}) - ${o}) > 1e-${a}`:(0,dr._)`${o} !== parseInt(${o})`;t.fail$data((0,dr._)`(${n} === 0 || (${o} = ${r}/${n}, ${i}))`)}};Mn.default=Fl;var zn={},Vn={};Object.defineProperty(Vn,"__esModule",{value:!0});function Ya(t){const e=t.length;let r=0,n=0,s;for(;n<e;)r++,s=t.charCodeAt(n++),s>=55296&&s<=56319&&n<e&&(s=t.charCodeAt(n),(s&64512)===56320&&n++);return r}Vn.default=Ya;Ya.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty(zn,"__esModule",{value:!0});const Vt=oe,Ul=ce,ql=Vn,Ll={message({keyword:t,schemaCode:e}){const r=t==="maxLength"?"more":"fewer";return(0,Vt.str)`must NOT have ${r} than ${e} characters`},params:({schemaCode:t})=>(0,Vt._)`{limit: ${t}}`},Kl={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:Ll,code(t){const{keyword:e,data:r,schemaCode:n,it:s}=t,a=e==="maxLength"?Vt.operators.GT:Vt.operators.LT,o=s.opts.unicode===!1?(0,Vt._)`${r}.length`:(0,Vt._)`${(0,Ul.useFunc)(t.gen,ql.default)}(${r})`;t.fail$data((0,Vt._)`${o} ${a} ${n}`)}};zn.default=Kl;var Fn={};Object.defineProperty(Fn,"__esModule",{value:!0});const Hl=ae,Gr=oe,Gl={message:({schemaCode:t})=>(0,Gr.str)`must match pattern "${t}"`,params:({schemaCode:t})=>(0,Gr._)`{pattern: ${t}}`},Jl={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:Gl,code(t){const{data:e,$data:r,schema:n,schemaCode:s,it:a}=t,o=a.opts.unicodeRegExp?"u":"",i=r?(0,Gr._)`(new RegExp(${s}, ${o}))`:(0,Hl.usePattern)(t,n);t.fail$data((0,Gr._)`!${i}.test(${e})`)}};Fn.default=Jl;var Un={};Object.defineProperty(Un,"__esModule",{value:!0});const hr=oe,Bl={message({keyword:t,schemaCode:e}){const r=t==="maxProperties"?"more":"fewer";return(0,hr.str)`must NOT have ${r} than ${e} properties`},params:({schemaCode:t})=>(0,hr._)`{limit: ${t}}`},Wl={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:Bl,code(t){const{keyword:e,data:r,schemaCode:n}=t,s=e==="maxProperties"?hr.operators.GT:hr.operators.LT;t.fail$data((0,hr._)`Object.keys(${r}).length ${s} ${n}`)}};Un.default=Wl;var qn={};Object.defineProperty(qn,"__esModule",{value:!0});const lr=ae,mr=oe,Xl=ce,Yl={message:({params:{missingProperty:t}})=>(0,mr.str)`must have required property '${t}'`,params:({params:{missingProperty:t}})=>(0,mr._)`{missingProperty: ${t}}`},Zl={keyword:"required",type:"object",schemaType:"array",$data:!0,error:Yl,code(t){const{gen:e,schema:r,schemaCode:n,data:s,$data:a,it:o}=t,{opts:i}=o;if(!a&&r.length===0)return;const l=r.length>=i.loopRequired;if(o.allErrors?c():u(),i.strictRequired){const w=t.parentSchema.properties,{definedProperties:p}=t.it;for(const $ of r)if((w==null?void 0:w[$])===void 0&&!p.has($)){const y=o.schemaEnv.baseId+o.errSchemaPath,m=`required property "${$}" is not defined at "${y}" (strictRequired)`;(0,Xl.checkStrictMode)(o,m,o.opts.strictRequired)}}function c(){if(l||a)t.block$data(mr.nil,d);else for(const w of r)(0,lr.checkReportMissingProp)(t,w)}function u(){const w=e.let("missing");if(l||a){const p=e.let("valid",!0);t.block$data(p,()=>v(w,p)),t.ok(p)}else e.if((0,lr.checkMissingProp)(t,r,w)),(0,lr.reportMissingProp)(t,w),e.else()}function d(){e.forOf("prop",n,w=>{t.setParams({missingProperty:w}),e.if((0,lr.noPropertyInData)(e,s,w,i.ownProperties),()=>t.error())})}function v(w,p){t.setParams({missingProperty:w}),e.forOf(w,n,()=>{e.assign(p,(0,lr.propertyInData)(e,s,w,i.ownProperties)),e.if((0,mr.not)(p),()=>{t.error(),e.break()})},mr.nil)}}};qn.default=Zl;var Ln={};Object.defineProperty(Ln,"__esModule",{value:!0});const pr=oe,Ql={message({keyword:t,schemaCode:e}){const r=t==="maxItems"?"more":"fewer";return(0,pr.str)`must NOT have ${r} than ${e} items`},params:({schemaCode:t})=>(0,pr._)`{limit: ${t}}`},xl={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:Ql,code(t){const{keyword:e,data:r,schemaCode:n}=t,s=e==="maxItems"?pr.operators.GT:pr.operators.LT;t.fail$data((0,pr._)`${r}.length ${s} ${n}`)}};Ln.default=xl;var Kn={},wr={};Object.defineProperty(wr,"__esModule",{value:!0});const Za=Ra;Za.code='require("ajv/dist/runtime/equal").default';wr.default=Za;Object.defineProperty(Kn,"__esModule",{value:!0});const on=br,Ne=oe,ec=ce,tc=wr,rc={message:({params:{i:t,j:e}})=>(0,Ne.str)`must NOT have duplicate items (items ## ${e} and ${t} are identical)`,params:({params:{i:t,j:e}})=>(0,Ne._)`{i: ${t}, j: ${e}}`},nc={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:rc,code(t){const{gen:e,data:r,$data:n,schema:s,parentSchema:a,schemaCode:o,it:i}=t;if(!n&&!s)return;const l=e.let("valid"),c=a.items?(0,on.getSchemaTypes)(a.items):[];t.block$data(l,u,(0,Ne._)`${o} === false`),t.ok(l);function u(){const p=e.let("i",(0,Ne._)`${r}.length`),$=e.let("j");t.setParams({i:p,j:$}),e.assign(l,!0),e.if((0,Ne._)`${p} > 1`,()=>(d()?v:w)(p,$))}function d(){return c.length>0&&!c.some(p=>p==="object"||p==="array")}function v(p,$){const y=e.name("item"),m=(0,on.checkDataTypes)(c,y,i.opts.strictNumbers,on.DataType.Wrong),E=e.const("indices",(0,Ne._)`{}`);e.for((0,Ne._)`;${p}--;`,()=>{e.let(y,(0,Ne._)`${r}[${p}]`),e.if(m,(0,Ne._)`continue`),c.length>1&&e.if((0,Ne._)`typeof ${y} == "string"`,(0,Ne._)`${y} += "_"`),e.if((0,Ne._)`typeof ${E}[${y}] == "number"`,()=>{e.assign($,(0,Ne._)`${E}[${y}]`),t.error(),e.assign(l,!1).break()}).code((0,Ne._)`${E}[${y}] = ${p}`)})}function w(p,$){const y=(0,ec.useFunc)(e,tc.default),m=e.name("outer");e.label(m).for((0,Ne._)`;${p}--;`,()=>e.for((0,Ne._)`${$} = ${p}; ${$}--;`,()=>e.if((0,Ne._)`${y}(${r}[${p}], ${r}[${$}])`,()=>{t.error(),e.assign(l,!1).break(m)})))}}};Kn.default=nc;var Hn={};Object.defineProperty(Hn,"__esModule",{value:!0});const vn=oe,sc=ce,ac=wr,oc={message:"must be equal to constant",params:({schemaCode:t})=>(0,vn._)`{allowedValue: ${t}}`},ic={keyword:"const",$data:!0,error:oc,code(t){const{gen:e,data:r,$data:n,schemaCode:s,schema:a}=t;n||a&&typeof a=="object"?t.fail$data((0,vn._)`!${(0,sc.useFunc)(e,ac.default)}(${r}, ${s})`):t.fail((0,vn._)`${a} !== ${r}`)}};Hn.default=ic;var Gn={};Object.defineProperty(Gn,"__esModule",{value:!0});const ur=oe,lc=ce,cc=wr,uc={message:"must be equal to one of the allowed values",params:({schemaCode:t})=>(0,ur._)`{allowedValues: ${t}}`},fc={keyword:"enum",schemaType:"array",$data:!0,error:uc,code(t){const{gen:e,data:r,$data:n,schema:s,schemaCode:a,it:o}=t;if(!n&&s.length===0)throw new Error("enum must have non-empty array");const i=s.length>=o.opts.loopEnum;let l;const c=()=>l!=null?l:l=(0,lc.useFunc)(e,cc.default);let u;if(i||n)u=e.let("valid"),t.block$data(u,d);else{if(!Array.isArray(s))throw new Error("ajv implementation error");const w=e.const("vSchema",a);u=(0,ur.or)(...s.map((p,$)=>v(w,$)))}t.pass(u);function d(){e.assign(u,!1),e.forOf("v",a,w=>e.if((0,ur._)`${c()}(${r}, ${w})`,()=>e.assign(u,!0).break()))}function v(w,p){const $=s[p];return typeof $=="object"&&$!==null?(0,ur._)`${c()}(${r}, ${w}[${p}])`:(0,ur._)`${r} === ${$}`}}};Gn.default=fc;Object.defineProperty(An,"__esModule",{value:!0});const dc=Dn,hc=Mn,mc=zn,pc=Fn,_c=Un,vc=qn,yc=Ln,gc=Kn,$c=Hn,bc=Gn,wc=[dc.default,hc.default,mc.default,pc.default,_c.default,vc.default,yc.default,gc.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},$c.default,bc.default];An.default=wc;var Jn={},er={};Object.defineProperty(er,"__esModule",{value:!0});er.validateAdditionalItems=void 0;const Ft=oe,yn=ce,Ec={message:({params:{len:t}})=>(0,Ft.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,Ft._)`{limit: ${t}}`},kc={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:Ec,code(t){const{parentSchema:e,it:r}=t,{items:n}=e;if(!Array.isArray(n)){(0,yn.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}Qa(t,n)}};function Qa(t,e){const{gen:r,schema:n,data:s,keyword:a,it:o}=t;o.items=!0;const i=r.const("len",(0,Ft._)`${s}.length`);if(n===!1)t.setParams({len:e.length}),t.pass((0,Ft._)`${i} <= ${e.length}`);else if(typeof n=="object"&&!(0,yn.alwaysValidSchema)(o,n)){const c=r.var("valid",(0,Ft._)`${i} <= ${e.length}`);r.if((0,Ft.not)(c),()=>l(c)),t.ok(c)}function l(c){r.forRange("i",e.length,i,u=>{t.subschema({keyword:a,dataProp:u,dataPropType:yn.Type.Num},c),o.allErrors||r.if((0,Ft.not)(c),()=>r.break())})}}er.validateAdditionalItems=Qa;er.default=kc;var Bn={},tr={};Object.defineProperty(tr,"__esModule",{value:!0});tr.validateTuple=void 0;const Fs=oe,Vr=ce,Sc=ae,Pc={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(t){const{schema:e,it:r}=t;if(Array.isArray(e))return xa(t,"additionalItems",e);r.items=!0,!(0,Vr.alwaysValidSchema)(r,e)&&t.ok((0,Sc.validateArray)(t))}};function xa(t,e,r=t.schema){const{gen:n,parentSchema:s,data:a,keyword:o,it:i}=t;u(s),i.opts.unevaluated&&r.length&&i.items!==!0&&(i.items=Vr.mergeEvaluated.items(n,r.length,i.items));const l=n.name("valid"),c=n.const("len",(0,Fs._)`${a}.length`);r.forEach((d,v)=>{(0,Vr.alwaysValidSchema)(i,d)||(n.if((0,Fs._)`${c} > ${v}`,()=>t.subschema({keyword:o,schemaProp:v,dataProp:v},l)),t.ok(l))});function u(d){const{opts:v,errSchemaPath:w}=i,p=r.length,$=p===d.minItems&&(p===d.maxItems||d[e]===!1);if(v.strictTuples&&!$){const y=`"${o}" is ${p}-tuple, but minItems or maxItems/${e} are not specified or different at path "${w}"`;(0,Vr.checkStrictMode)(i,y,v.strictTuples)}}}tr.validateTuple=xa;tr.default=Pc;Object.defineProperty(Bn,"__esModule",{value:!0});const Nc=tr,Oc={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:t=>(0,Nc.validateTuple)(t,"items")};Bn.default=Oc;var Wn={};Object.defineProperty(Wn,"__esModule",{value:!0});const Us=oe,Cc=ce,jc=ae,Tc=er,Rc={message:({params:{len:t}})=>(0,Us.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,Us._)`{limit: ${t}}`},Ic={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:Rc,code(t){const{schema:e,parentSchema:r,it:n}=t,{prefixItems:s}=r;n.items=!0,!(0,Cc.alwaysValidSchema)(n,e)&&(s?(0,Tc.validateAdditionalItems)(t,s):t.ok((0,jc.validateArray)(t)))}};Wn.default=Ic;var Xn={};Object.defineProperty(Xn,"__esModule",{value:!0});const He=oe,jr=ce,Ac={message:({params:{min:t,max:e}})=>e===void 0?(0,He.str)`must contain at least ${t} valid item(s)`:(0,He.str)`must contain at least ${t} and no more than ${e} valid item(s)`,params:({params:{min:t,max:e}})=>e===void 0?(0,He._)`{minContains: ${t}}`:(0,He._)`{minContains: ${t}, maxContains: ${e}}`},Dc={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:Ac,code(t){const{gen:e,schema:r,parentSchema:n,data:s,it:a}=t;let o,i;const{minContains:l,maxContains:c}=n;a.opts.next?(o=l===void 0?1:l,i=c):o=1;const u=e.const("len",(0,He._)`${s}.length`);if(t.setParams({min:o,max:i}),i===void 0&&o===0){(0,jr.checkStrictMode)(a,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(i!==void 0&&o>i){(0,jr.checkStrictMode)(a,'"minContains" > "maxContains" is always invalid'),t.fail();return}if((0,jr.alwaysValidSchema)(a,r)){let $=(0,He._)`${u} >= ${o}`;i!==void 0&&($=(0,He._)`${$} && ${u} <= ${i}`),t.pass($);return}a.items=!0;const d=e.name("valid");i===void 0&&o===1?w(d,()=>e.if(d,()=>e.break())):o===0?(e.let(d,!0),i!==void 0&&e.if((0,He._)`${s}.length > 0`,v)):(e.let(d,!1),v()),t.result(d,()=>t.reset());function v(){const $=e.name("_valid"),y=e.let("count",0);w($,()=>e.if($,()=>p(y)))}function w($,y){e.forRange("i",0,u,m=>{t.subschema({keyword:"contains",dataProp:m,dataPropType:jr.Type.Num,compositeRule:!0},$),y()})}function p($){e.code((0,He._)`${$}++`),i===void 0?e.if((0,He._)`${$} >= ${o}`,()=>e.assign(d,!0).break()):(e.if((0,He._)`${$} > ${i}`,()=>e.assign(d,!1).break()),o===1?e.assign(d,!0):e.if((0,He._)`${$} >= ${o}`,()=>e.assign(d,!0)))}}};Xn.default=Dc;var eo={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.validateSchemaDeps=t.validatePropertyDeps=t.error=void 0;const e=oe,r=ce,n=ae;t.error={message:({params:{property:l,depsCount:c,deps:u}})=>{const d=c===1?"property":"properties";return(0,e.str)`must have ${d} ${u} when property ${l} is present`},params:({params:{property:l,depsCount:c,deps:u,missingProperty:d}})=>(0,e._)`{property: ${l},
    missingProperty: ${d},
    depsCount: ${c},
    deps: ${u}}`};const s={keyword:"dependencies",type:"object",schemaType:"object",error:t.error,code(l){const[c,u]=a(l);o(l,c),i(l,u)}};function a({schema:l}){const c={},u={};for(const d in l){if(d==="__proto__")continue;const v=Array.isArray(l[d])?c:u;v[d]=l[d]}return[c,u]}function o(l,c=l.schema){const{gen:u,data:d,it:v}=l;if(Object.keys(c).length===0)return;const w=u.let("missing");for(const p in c){const $=c[p];if($.length===0)continue;const y=(0,n.propertyInData)(u,d,p,v.opts.ownProperties);l.setParams({property:p,depsCount:$.length,deps:$.join(", ")}),v.allErrors?u.if(y,()=>{for(const m of $)(0,n.checkReportMissingProp)(l,m)}):(u.if((0,e._)`${y} && (${(0,n.checkMissingProp)(l,$,w)})`),(0,n.reportMissingProp)(l,w),u.else())}}t.validatePropertyDeps=o;function i(l,c=l.schema){const{gen:u,data:d,keyword:v,it:w}=l,p=u.name("valid");for(const $ in c)(0,r.alwaysValidSchema)(w,c[$])||(u.if((0,n.propertyInData)(u,d,$,w.opts.ownProperties),()=>{const y=l.subschema({keyword:v,schemaProp:$},p);l.mergeValidEvaluated(y,p)},()=>u.var(p,!0)),l.ok(p))}t.validateSchemaDeps=i,t.default=s})(eo);var Yn={};Object.defineProperty(Yn,"__esModule",{value:!0});const to=oe,Mc=ce,zc={message:"property name must be valid",params:({params:t})=>(0,to._)`{propertyName: ${t.propertyName}}`},Vc={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:zc,code(t){const{gen:e,schema:r,data:n,it:s}=t;if((0,Mc.alwaysValidSchema)(s,r))return;const a=e.name("valid");e.forIn("key",n,o=>{t.setParams({propertyName:o}),t.subschema({keyword:"propertyNames",data:o,dataTypes:["string"],propertyName:o,compositeRule:!0},a),e.if((0,to.not)(a),()=>{t.error(!0),s.allErrors||e.break()})}),t.ok(a)}};Yn.default=Vc;var Qr={};Object.defineProperty(Qr,"__esModule",{value:!0});const Tr=ae,Ye=oe,Fc=mt,Rr=ce,Uc={message:"must NOT have additional properties",params:({params:t})=>(0,Ye._)`{additionalProperty: ${t.additionalProperty}}`},qc={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:Uc,code(t){const{gen:e,schema:r,parentSchema:n,data:s,errsCount:a,it:o}=t;if(!a)throw new Error("ajv implementation error");const{allErrors:i,opts:l}=o;if(o.props=!0,l.removeAdditional!=="all"&&(0,Rr.alwaysValidSchema)(o,r))return;const c=(0,Tr.allSchemaProperties)(n.properties),u=(0,Tr.allSchemaProperties)(n.patternProperties);d(),t.ok((0,Ye._)`${a} === ${Fc.default.errors}`);function d(){e.forIn("key",s,y=>{!c.length&&!u.length?p(y):e.if(v(y),()=>p(y))})}function v(y){let m;if(c.length>8){const E=(0,Rr.schemaRefOrVal)(o,n.properties,"properties");m=(0,Tr.isOwnProperty)(e,E,y)}else c.length?m=(0,Ye.or)(...c.map(E=>(0,Ye._)`${y} === ${E}`)):m=Ye.nil;return u.length&&(m=(0,Ye.or)(m,...u.map(E=>(0,Ye._)`${(0,Tr.usePattern)(t,E)}.test(${y})`))),(0,Ye.not)(m)}function w(y){e.code((0,Ye._)`delete ${s}[${y}]`)}function p(y){if(l.removeAdditional==="all"||l.removeAdditional&&r===!1){w(y);return}if(r===!1){t.setParams({additionalProperty:y}),t.error(),i||e.break();return}if(typeof r=="object"&&!(0,Rr.alwaysValidSchema)(o,r)){const m=e.name("valid");l.removeAdditional==="failing"?($(y,m,!1),e.if((0,Ye.not)(m),()=>{t.reset(),w(y)})):($(y,m),i||e.if((0,Ye.not)(m),()=>e.break()))}}function $(y,m,E){const k={keyword:"additionalProperties",dataProp:y,dataPropType:Rr.Type.Str};E===!1&&Object.assign(k,{compositeRule:!0,createErrors:!1,allErrors:!1}),t.subschema(k,m)}}};Qr.default=qc;var Zn={};Object.defineProperty(Zn,"__esModule",{value:!0});const Lc=Qe,qs=ae,ln=ce,Ls=Qr,Kc={keyword:"properties",type:"object",schemaType:"object",code(t){const{gen:e,schema:r,parentSchema:n,data:s,it:a}=t;a.opts.removeAdditional==="all"&&n.additionalProperties===void 0&&Ls.default.code(new Lc.KeywordCxt(a,Ls.default,"additionalProperties"));const o=(0,qs.allSchemaProperties)(r);for(const d of o)a.definedProperties.add(d);a.opts.unevaluated&&o.length&&a.props!==!0&&(a.props=ln.mergeEvaluated.props(e,(0,ln.toHash)(o),a.props));const i=o.filter(d=>!(0,ln.alwaysValidSchema)(a,r[d]));if(i.length===0)return;const l=e.name("valid");for(const d of i)c(d)?u(d):(e.if((0,qs.propertyInData)(e,s,d,a.opts.ownProperties)),u(d),a.allErrors||e.else().var(l,!0),e.endIf()),t.it.definedProperties.add(d),t.ok(l);function c(d){return a.opts.useDefaults&&!a.compositeRule&&r[d].default!==void 0}function u(d){t.subschema({keyword:"properties",schemaProp:d,dataProp:d},l)}}};Zn.default=Kc;var Qn={};Object.defineProperty(Qn,"__esModule",{value:!0});const Ks=ae,Ir=oe,Hs=ce,Gs=ce,Hc={keyword:"patternProperties",type:"object",schemaType:"object",code(t){const{gen:e,schema:r,data:n,parentSchema:s,it:a}=t,{opts:o}=a,i=(0,Ks.allSchemaProperties)(r),l=i.filter($=>(0,Hs.alwaysValidSchema)(a,r[$]));if(i.length===0||l.length===i.length&&(!a.opts.unevaluated||a.props===!0))return;const c=o.strictSchema&&!o.allowMatchingProperties&&s.properties,u=e.name("valid");a.props!==!0&&!(a.props instanceof Ir.Name)&&(a.props=(0,Gs.evaluatedPropsToName)(e,a.props));const{props:d}=a;v();function v(){for(const $ of i)c&&w($),a.allErrors?p($):(e.var(u,!0),p($),e.if(u))}function w($){for(const y in c)new RegExp($).test(y)&&(0,Hs.checkStrictMode)(a,`property ${y} matches pattern ${$} (use allowMatchingProperties)`)}function p($){e.forIn("key",n,y=>{e.if((0,Ir._)`${(0,Ks.usePattern)(t,$)}.test(${y})`,()=>{const m=l.includes($);m||t.subschema({keyword:"patternProperties",schemaProp:$,dataProp:y,dataPropType:Gs.Type.Str},u),a.opts.unevaluated&&d!==!0?e.assign((0,Ir._)`${d}[${y}]`,!0):!m&&!a.allErrors&&e.if((0,Ir.not)(u),()=>e.break())})})}}};Qn.default=Hc;var xn={};Object.defineProperty(xn,"__esModule",{value:!0});const Gc=ce,Jc={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(t){const{gen:e,schema:r,it:n}=t;if((0,Gc.alwaysValidSchema)(n,r)){t.fail();return}const s=e.name("valid");t.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},s),t.failResult(s,()=>t.reset(),()=>t.error())},error:{message:"must NOT be valid"}};xn.default=Jc;var es={};Object.defineProperty(es,"__esModule",{value:!0});const Bc=ae,Wc={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:Bc.validateUnion,error:{message:"must match a schema in anyOf"}};es.default=Wc;var ts={};Object.defineProperty(ts,"__esModule",{value:!0});const Fr=oe,Xc=ce,Yc={message:"must match exactly one schema in oneOf",params:({params:t})=>(0,Fr._)`{passingSchemas: ${t.passing}}`},Zc={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:Yc,code(t){const{gen:e,schema:r,parentSchema:n,it:s}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");if(s.opts.discriminator&&n.discriminator)return;const a=r,o=e.let("valid",!1),i=e.let("passing",null),l=e.name("_valid");t.setParams({passing:i}),e.block(c),t.result(o,()=>t.reset(),()=>t.error(!0));function c(){a.forEach((u,d)=>{let v;(0,Xc.alwaysValidSchema)(s,u)?e.var(l,!0):v=t.subschema({keyword:"oneOf",schemaProp:d,compositeRule:!0},l),d>0&&e.if((0,Fr._)`${l} && ${o}`).assign(o,!1).assign(i,(0,Fr._)`[${i}, ${d}]`).else(),e.if(l,()=>{e.assign(o,!0),e.assign(i,d),v&&t.mergeEvaluated(v,Fr.Name)})})}}};ts.default=Zc;var rs={};Object.defineProperty(rs,"__esModule",{value:!0});const Qc=ce,xc={keyword:"allOf",schemaType:"array",code(t){const{gen:e,schema:r,it:n}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");const s=e.name("valid");r.forEach((a,o)=>{if((0,Qc.alwaysValidSchema)(n,a))return;const i=t.subschema({keyword:"allOf",schemaProp:o},s);t.ok(s),t.mergeEvaluated(i)})}};rs.default=xc;var ns={};Object.defineProperty(ns,"__esModule",{value:!0});const Jr=oe,ro=ce,eu={message:({params:t})=>(0,Jr.str)`must match "${t.ifClause}" schema`,params:({params:t})=>(0,Jr._)`{failingKeyword: ${t.ifClause}}`},tu={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:eu,code(t){const{gen:e,parentSchema:r,it:n}=t;r.then===void 0&&r.else===void 0&&(0,ro.checkStrictMode)(n,'"if" without "then" and "else" is ignored');const s=Js(n,"then"),a=Js(n,"else");if(!s&&!a)return;const o=e.let("valid",!0),i=e.name("_valid");if(l(),t.reset(),s&&a){const u=e.let("ifClause");t.setParams({ifClause:u}),e.if(i,c("then",u),c("else",u))}else s?e.if(i,c("then")):e.if((0,Jr.not)(i),c("else"));t.pass(o,()=>t.error(!0));function l(){const u=t.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},i);t.mergeEvaluated(u)}function c(u,d){return()=>{const v=t.subschema({keyword:u},i);e.assign(o,i),t.mergeValidEvaluated(v,o),d?e.assign(d,(0,Jr._)`${u}`):t.setParams({ifClause:u})}}}};function Js(t,e){const r=t.schema[e];return r!==void 0&&!(0,ro.alwaysValidSchema)(t,r)}ns.default=tu;var ss={};Object.defineProperty(ss,"__esModule",{value:!0});const ru=ce,nu={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:t,parentSchema:e,it:r}){e.if===void 0&&(0,ru.checkStrictMode)(r,`"${t}" without "if" is ignored`)}};ss.default=nu;Object.defineProperty(Jn,"__esModule",{value:!0});const su=er,au=Bn,ou=tr,iu=Wn,lu=Xn,cu=eo,uu=Yn,fu=Qr,du=Zn,hu=Qn,mu=xn,pu=es,_u=ts,vu=rs,yu=ns,gu=ss;function $u(t=!1){const e=[mu.default,pu.default,_u.default,vu.default,yu.default,gu.default,uu.default,fu.default,cu.default,du.default,hu.default];return t?e.push(au.default,iu.default):e.push(su.default,ou.default),e.push(lu.default),e}Jn.default=$u;var as={},os={};Object.defineProperty(os,"__esModule",{value:!0});const be=oe,bu={message:({schemaCode:t})=>(0,be.str)`must match format "${t}"`,params:({schemaCode:t})=>(0,be._)`{format: ${t}}`},wu={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:bu,code(t,e){const{gen:r,data:n,$data:s,schema:a,schemaCode:o,it:i}=t,{opts:l,errSchemaPath:c,schemaEnv:u,self:d}=i;if(!l.validateFormats)return;s?v():w();function v(){const p=r.scopeValue("formats",{ref:d.formats,code:l.code.formats}),$=r.const("fDef",(0,be._)`${p}[${o}]`),y=r.let("fType"),m=r.let("format");r.if((0,be._)`typeof ${$} == "object" && !(${$} instanceof RegExp)`,()=>r.assign(y,(0,be._)`${$}.type || "string"`).assign(m,(0,be._)`${$}.validate`),()=>r.assign(y,(0,be._)`"string"`).assign(m,$)),t.fail$data((0,be.or)(E(),k()));function E(){return l.strictSchema===!1?be.nil:(0,be._)`${o} && !${m}`}function k(){const T=u.$async?(0,be._)`(${$}.async ? await ${m}(${n}) : ${m}(${n}))`:(0,be._)`${m}(${n})`,A=(0,be._)`(typeof ${m} == "function" ? ${T} : ${m}.test(${n}))`;return(0,be._)`${m} && ${m} !== true && ${y} === ${e} && !${A}`}}function w(){const p=d.formats[a];if(!p){E();return}if(p===!0)return;const[$,y,m]=k(p);$===e&&t.pass(T());function E(){if(l.strictSchema===!1){d.logger.warn(A());return}throw new Error(A());function A(){return`unknown format "${a}" ignored in schema at path "${c}"`}}function k(A){const S=A instanceof RegExp?(0,be.regexpCode)(A):l.code.formats?(0,be._)`${l.code.formats}${(0,be.getProperty)(a)}`:void 0,C=r.scopeValue("formats",{key:a,ref:A,code:S});return typeof A=="object"&&!(A instanceof RegExp)?[A.type||"string",A.validate,(0,be._)`${C}.validate`]:["string",A,C]}function T(){if(typeof p=="object"&&!(p instanceof RegExp)&&p.async){if(!u.$async)throw new Error("async format in sync schema");return(0,be._)`await ${m}(${n})`}return typeof y=="function"?(0,be._)`${m}(${n})`:(0,be._)`${m}.test(${n})`}}}};os.default=wu;Object.defineProperty(as,"__esModule",{value:!0});const Eu=os,ku=[Eu.default];as.default=ku;var Qt={};Object.defineProperty(Qt,"__esModule",{value:!0});Qt.contentVocabulary=Qt.metadataVocabulary=void 0;Qt.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];Qt.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(Tn,"__esModule",{value:!0});const Su=Rn,Pu=An,Nu=Jn,Ou=as,Bs=Qt,Cu=[Su.default,Pu.default,(0,Nu.default)(),Ou.default,Bs.metadataVocabulary,Bs.contentVocabulary];Tn.default=Cu;var is={},no={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DiscrError=void 0,function(e){e.Tag="tag",e.Mapping="mapping"}(t.DiscrError||(t.DiscrError={}))})(no);Object.defineProperty(is,"__esModule",{value:!0});const Wt=oe,gn=no,Ws=Ie,ju=ce,Tu={message:({params:{discrError:t,tagName:e}})=>t===gn.DiscrError.Tag?`tag "${e}" must be string`:`value of tag "${e}" must be in oneOf`,params:({params:{discrError:t,tag:e,tagName:r}})=>(0,Wt._)`{error: ${t}, tag: ${r}, tagValue: ${e}}`},Ru={keyword:"discriminator",type:"object",schemaType:"object",error:Tu,code(t){const{gen:e,data:r,schema:n,parentSchema:s,it:a}=t,{oneOf:o}=s;if(!a.opts.discriminator)throw new Error("discriminator: requires discriminator option");const i=n.propertyName;if(typeof i!="string")throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!o)throw new Error("discriminator: requires oneOf keyword");const l=e.let("valid",!1),c=e.const("tag",(0,Wt._)`${r}${(0,Wt.getProperty)(i)}`);e.if((0,Wt._)`typeof ${c} == "string"`,()=>u(),()=>t.error(!1,{discrError:gn.DiscrError.Tag,tag:c,tagName:i})),t.ok(l);function u(){const w=v();e.if(!1);for(const p in w)e.elseIf((0,Wt._)`${c} === ${p}`),e.assign(l,d(w[p]));e.else(),t.error(!1,{discrError:gn.DiscrError.Mapping,tag:c,tagName:i}),e.endIf()}function d(w){const p=e.name("valid"),$=t.subschema({keyword:"oneOf",schemaProp:w},p);return t.mergeEvaluated($,Wt.Name),p}function v(){var w;const p={},$=m(s);let y=!0;for(let T=0;T<o.length;T++){let A=o[T];(A==null?void 0:A.$ref)&&!(0,ju.schemaHasRulesButRef)(A,a.self.RULES)&&(A=Ws.resolveRef.call(a.self,a.schemaEnv.root,a.baseId,A==null?void 0:A.$ref),A instanceof Ws.SchemaEnv&&(A=A.schema));const S=(w=A==null?void 0:A.properties)===null||w===void 0?void 0:w[i];if(typeof S!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${i}"`);y=y&&($||m(A)),E(S,T)}if(!y)throw new Error(`discriminator: "${i}" must be required`);return p;function m({required:T}){return Array.isArray(T)&&T.includes(i)}function E(T,A){if(T.const)k(T.const,A);else if(T.enum)for(const S of T.enum)k(S,A);else throw new Error(`discriminator: "properties/${i}" must have "const" or "enum"`)}function k(T,A){if(typeof T!="string"||T in p)throw new Error(`discriminator: "${i}" values must be unique strings`);p[T]=A}}}};is.default=Ru;const Iu="http://json-schema.org/draft-07/schema#",Au="http://json-schema.org/draft-07/schema#",Du="Core schema meta-schema",Mu={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},zu=["object","boolean"],Vu={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}};var Fu={$schema:Iu,$id:Au,title:Du,definitions:Mu,type:zu,properties:Vu,default:!0};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;const r=ka,n=Tn,s=is,a=Fu,o=["/properties"],i="http://json-schema.org/draft-07/schema";class l extends r.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(v=>this.addVocabulary(v)),this.opts.discriminator&&this.addKeyword(s.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const v=this.opts.$data?this.$dataMetaSchema(a,o):a;this.addMetaSchema(v,i,!1),this.refs["http://json-schema.org/schema"]=i}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(i)?i:void 0)}}t.exports=e=l,Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var c=Qe;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return c.KeywordCxt}});var u=oe;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return u._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return u.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return u.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return u.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return u.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return u.CodeGen}})})(hn,hn.exports);var Uu=Qo(hn.exports);const gr="0.4",qu=new Uu({strict:!1});function so(t,e){return`https://raw.githubusercontent.com/ome/ngff/main/${e}/schemas/${t}.schema`}async function Er(t){return fetch(t).then(e=>e.json())}let cn={};async function $n(t,e="image"){let r=e+t;if(!cn[r]){const n=so(e,t);console.log("Loading schema... "+n);const s=await Er(n);delete s.$schema,cn[r]=s}return cn[r]}function xr(t){return t.multiscales?t.multiscales[0].version:t.plate?t.plate.version:t.well?t.well.version:void 0}function ao(t){return t.multiscales?"image":t.plate?"plate":t.well?"well":void 0}function Lu(t){const r=xr(t)||gr,n=ao(t);return so(n,r)}function Ku(t,e){const r=qu.compile(t),n=r(e);let s=[];return n||(s=r.errors,console.log(s)),s}async function bn(t){const e=ao(t);if(!e)return["Unrecognised JSON data"];let r=xr(t);r||(console.log("No version found, using: "+gr),r=gr);let n=await $n(r,e);return Ku(n,t)}function Hu(t){var e=["Bytes","KB","MB","GB","TB"];if(t==0)return"0 Byte";var r=Math.floor(Math.log(t)/Math.log(1e3));return(t/Math.pow(1e3,r)).toFixed(2)+" "+e[r]}function Gu(t){let e,r,n,s,a,o,i,l,c,u,d,v,w,p,$,y,m;return{c(){e=M("div"),r=M("div"),n=M("div"),s=M("div"),s.textContent=`${t[0]}`,a=x(),o=M("div"),o.textContent=`${t[1]}`,i=x(),l=M("div"),c=x(),u=M("div"),d=x(),v=M("div"),w=M("div"),w.textContent=`${t[2]}`,p=x(),$=M("div"),y=x(),m=M("div"),F(s,"class","sizeX svelte-b614sw"),F(o,"class","sizeY svelte-b614sw"),F(n,"class","face front svelte-b614sw"),F(l,"class","face back svelte-b614sw"),F(u,"class","face right svelte-b614sw"),F(w,"class","sizeX svelte-b614sw"),F(v,"class","face left svelte-b614sw"),F($,"class","face top svelte-b614sw"),F(m,"class","face bottom svelte-b614sw"),F(r,"class","cube svelte-b614sw"),F(e,"class","container svelte-b614sw"),Ge(e,"--size-x",t[3]+"px"),Ge(e,"--size-y",t[4]+"px"),Ge(e,"--size-z",t[5]+"px"),Ge(e,"--chunkX",t[6]+"px"),Ge(e,"--chunkY",t[7]+"px"),Ge(e,"--chunkZ",t[8]+"px")},m(E,k){U(E,e,k),I(e,r),I(r,n),I(n,s),I(n,a),I(n,o),I(r,i),I(r,l),I(r,c),I(r,u),I(r,d),I(r,v),I(v,w),I(r,p),I(r,$),I(r,y),I(r,m)},p:J,i:J,o:J,d(E){E&&V(e)}}}const un=40,fn=10;function Ju(t,e,r){let{zarray:n}=e;const s=n.shape,a=s[s.length-1],o=s[s.length-2],i=s.length<3?1:s[s.length-3],l=200/Math.max(a,o,i),c=Math.max(un,a*l),u=Math.max(un,o*l),d=Math.max(un,i*l),v=n.chunks,w=Math.max(fn,v[v.length-1]*l),p=Math.max(fn,v[v.length-2]*l),$=Math.max(fn,v.length<3?1:v[v.length-3]*l);return t.$$set=y=>{"zarray"in y&&r(9,n=y.zarray)},[a,o,i,c,u,d,w,p,$,n]}class Bu extends rt{constructor(e){super(),tt(this,e,Ju,Gu,xe,{zarray:9})}}function Wu(t){let e,r=t[5].message+"",n;return{c(){e=M("p"),n=G(r),Ge(e,"color","red"),F(e,"class","svelte-1wgmtwf")},m(s,a){U(s,e,a),I(e,n)},p:J,i:J,o:J,d(s){s&&V(e)}}}function Xu(t){let e,r,n,s,a,o,i,l=t[3](t[4].shape,t[4])+"",c,u,d,v=t[3](t[4].chunks,t[4])+"",w,p,$,y,m,E,k=JSON.stringify(t[4].shape)+"",T,A,S,C=JSON.stringify(t[4].chunks)+"",z,H,B,ue,re,ke,ye=Xs(t[4])+1+"",nt,st,pt,Be,wt=Xs(t[4])+"",q,P,D,N,f,g,R,L=t[4].dtype+"",K,se,ne,fe,Se,at,De,ot,Pe,Et,_t,We,it,Tt=JSON.stringify(t[4],null,2)+"",Me,we;return Se=new Bu({props:{zarray:t[4]}}),{c(){e=M("table"),r=M("tr"),r.innerHTML='<th class="svelte-1wgmtwf"></th><th class="svelte-1wgmtwf">Array</th><th class="svelte-1wgmtwf">Chunk</th>',n=x(),s=M("tr"),a=M("th"),a.textContent="Bytes",o=x(),i=M("td"),c=G(l),u=x(),d=M("td"),w=G(v),p=x(),$=M("tr"),y=M("th"),y.textContent="Shape",m=x(),E=M("td"),T=G(k),A=x(),S=M("td"),z=G(C),H=x(),B=M("tr"),ue=M("th"),ue.textContent="Count",re=x(),ke=M("td"),nt=G(ye),st=G(" Tasks"),pt=x(),Be=M("td"),q=G(wt),P=G(" Chunks"),D=x(),N=M("tr"),f=M("th"),f.textContent="Type",g=x(),R=M("td"),K=G(L),se=x(),ne=M("td"),ne.textContent="numpy.ndarray",fe=x(),Je(Se.$$.fragment),at=x(),De=M("details"),ot=M("summary"),Pe=G(t[1]),Et=G("/.zarray"),_t=x(),We=M("pre"),it=M("code"),Me=G(Tt),F(r,"class","svelte-1wgmtwf"),F(a,"class","svelte-1wgmtwf"),F(i,"class","svelte-1wgmtwf"),F(d,"class","svelte-1wgmtwf"),F(s,"class","svelte-1wgmtwf"),F(y,"class","svelte-1wgmtwf"),F(E,"class","svelte-1wgmtwf"),F(S,"class","svelte-1wgmtwf"),F($,"class","svelte-1wgmtwf"),F(ue,"class","svelte-1wgmtwf"),F(ke,"class","svelte-1wgmtwf"),F(Be,"class","svelte-1wgmtwf"),F(B,"class","svelte-1wgmtwf"),F(f,"class","svelte-1wgmtwf"),F(R,"class","svelte-1wgmtwf"),F(ne,"class","svelte-1wgmtwf"),F(N,"class","svelte-1wgmtwf"),F(e,"class","svelte-1wgmtwf"),F(We,"class","svelte-1wgmtwf"),F(De,"class","svelte-1wgmtwf")},m(pe,ze){U(pe,e,ze),I(e,r),I(e,n),I(e,s),I(s,a),I(s,o),I(s,i),I(i,c),I(s,u),I(s,d),I(d,w),I(e,p),I(e,$),I($,y),I($,m),I($,E),I(E,T),I($,A),I($,S),I(S,z),I(e,H),I(e,B),I(B,ue),I(B,re),I(B,ke),I(ke,nt),I(ke,st),I(B,pt),I(B,Be),I(Be,q),I(Be,P),I(e,D),I(e,N),I(N,f),I(N,g),I(N,R),I(R,K),I(N,se),I(N,ne),U(pe,fe,ze),Ue(Se,pe,ze),U(pe,at,ze),U(pe,De,ze),I(De,ot),I(ot,Pe),I(ot,Et),I(De,_t),I(De,We),I(We,it),I(it,Me),we=!0},p(pe,ze){(!we||ze&2)&&Ae(Pe,pe[1])},i(pe){we||(Z(Se.$$.fragment,pe),we=!0)},o(pe){te(Se.$$.fragment,pe),we=!1},d(pe){pe&&V(e),pe&&V(fe),qe(Se,pe),pe&&V(at),pe&&V(De)}}}function Yu(t){let e;return{c(){e=M("div"),e.textContent="loading array .zarray ..."},m(r,n){U(r,e,n)},p:J,i:J,o:J,d(r){r&&V(e)}}}function Zu(t){let e,r,n,s,a=t[1]+"/.zarray",o,i,l,c,u={ctx:t,current:null,token:null,hasCatch:!0,pending:Yu,then:Xu,catch:Wu,value:4,error:5,blocks:[,,,]};return jt(t[2],u),{c(){e=M("div"),r=M("p"),n=G("Path "),s=M("a"),o=G(a),l=x(),u.block.c(),F(s,"href",i=t[0]+t[1]+"/.zarray "),F(s,"class","svelte-1wgmtwf"),F(r,"class","svelte-1wgmtwf"),F(e,"class","array svelte-1wgmtwf")},m(d,v){U(d,e,v),I(e,r),I(r,n),I(r,s),I(s,o),I(e,l),u.block.m(e,u.anchor=null),u.mount=()=>e,u.anchor=null,c=!0},p(d,[v]){t=d,(!c||v&2)&&a!==(a=t[1]+"/.zarray")&&Ae(o,a),(!c||v&3&&i!==(i=t[0]+t[1]+"/.zarray "))&&F(s,"href",i),Kt(u,t,v)},i(d){c||(Z(u.block),c=!0)},o(d){for(let v=0;v<3;v+=1){const w=u.blocks[v];te(w)}c=!1},d(d){d&&V(e),u.block.d(),u.token=null,u=null}}}function Xs(t){const e=t.chunks;return t.shape.map((n,s)=>Math.ceil(n/e[s])).reduce((n,s)=>n*s,1)}function Qu(t,e,r){let{source:n}=e,{path:s}=e;const a=Er(n+s+"/.zarray");function o(i,l){let c=[1,2,4,8].find(d=>l.dtype.includes(d));if(!c)return"";let u=i.reduce((d,v)=>d*v,1);return Hu(c*u)}return t.$$set=i=>{"source"in i&&r(0,n=i.source),"path"in i&&r(1,s=i.path)},[n,s,a,o]}class xu extends rt{constructor(e){super(),tt(this,e,Qu,Zu,xe,{source:0,path:1})}}function Ys(t,e,r){const n=t.slice();return n[2]=e[r],n[4]=r,n}function Zs(t,e,r){const n=t.slice();return n[5]=e[r],n}function Qs(t){let e,r;return e=new xu({props:{source:t[0],path:t[5].path}}),{c(){Je(e.$$.fragment)},m(n,s){Ue(e,n,s),r=!0},p(n,s){const a={};s&1&&(a.source=n[0]),s&2&&(a.path=n[5].path),e.$set(a)},i(n){r||(Z(e.$$.fragment,n),r=!0)},o(n){te(e.$$.fragment,n),r=!1},d(n){qe(e,n)}}}function xs(t){let e,r,n,s,a,o,i,l=t[2].datasets,c=[];for(let d=0;d<l.length;d+=1)c[d]=Qs(Zs(t,l,d));const u=d=>te(c[d],1,1,()=>{c[d]=null});return{c(){e=M("article"),r=M("h2"),n=G("Dataset "),s=G(t[4]),a=x();for(let d=0;d<c.length;d+=1)c[d].c();o=x(),F(r,"class","svelte-1u2mha0"),F(e,"class","svelte-1u2mha0")},m(d,v){U(d,e,v),I(e,r),I(r,n),I(r,s),I(e,a);for(let w=0;w<c.length;w+=1)c[w].m(e,null);I(e,o),i=!0},p(d,v){if(v&3){l=d[2].datasets;let w;for(w=0;w<l.length;w+=1){const p=Zs(d,l,w);c[w]?(c[w].p(p,v),Z(c[w],1)):(c[w]=Qs(p),c[w].c(),Z(c[w],1),c[w].m(e,o))}for(Ve(),w=l.length;w<c.length;w+=1)u(w);Fe()}},i(d){if(!i){for(let v=0;v<l.length;v+=1)Z(c[v]);i=!0}},o(d){c=c.filter(Boolean);for(let v=0;v<c.length;v+=1)te(c[v]);i=!1},d(d){d&&V(e),Lt(c,d)}}}function ef(t){let e,r,n=t[1].multiscales,s=[];for(let o=0;o<n.length;o+=1)s[o]=xs(Ys(t,n,o));const a=o=>te(s[o],1,1,()=>{s[o]=null});return{c(){for(let o=0;o<s.length;o+=1)s[o].c();e=et()},m(o,i){for(let l=0;l<s.length;l+=1)s[l].m(o,i);U(o,e,i),r=!0},p(o,[i]){if(i&3){n=o[1].multiscales;let l;for(l=0;l<n.length;l+=1){const c=Ys(o,n,l);s[l]?(s[l].p(c,i),Z(s[l],1)):(s[l]=xs(c),s[l].c(),Z(s[l],1),s[l].m(e.parentNode,e))}for(Ve(),l=n.length;l<s.length;l+=1)a(l);Fe()}},i(o){if(!r){for(let i=0;i<n.length;i+=1)Z(s[i]);r=!0}},o(o){s=s.filter(Boolean);for(let i=0;i<s.length;i+=1)te(s[i]);r=!1},d(o){Lt(s,o),o&&V(e)}}}function tf(t,e,r){let{source:n}=e,{rootAttrs:s}=e;return t.$$set=a=>{"source"in a&&r(0,n=a.source),"rootAttrs"in a&&r(1,s=a.rootAttrs)},[n,s]}class rf extends rt{constructor(e){super(),tt(this,e,tf,ef,xe,{source:0,rootAttrs:1})}}function nf(t){let e,r=t[8].message+"",n;return{c(){e=M("td"),n=G(r),Ge(e,"color","red"),F(e,"class","svelte-16qkzrn")},m(s,a){U(s,e,a),I(e,n)},p:J,d(s){s&&V(e)}}}function sf(t){let e,r={ctx:t,current:null,token:null,hasCatch:!1,pending:lf,then:of,catch:af,value:7};return jt(t[1],r),{c(){e=M("td"),r.block.c(),F(e,"class",Oo(t[6].length===0?"valid":"invalid")+" svelte-16qkzrn")},m(n,s){U(n,e,s),r.block.m(e,r.anchor=null),r.mount=()=>e,r.anchor=null},p(n,s){t=n,Kt(r,t,s)},d(n){n&&V(e),r.block.d(),r.token=null,r=null}}}function af(t){return{c:J,m:J,p:J,d:J}}function of(t){let e=t[7].length===0?"\u2713":"\u2A2F",r;return{c(){r=G(e)},m(n,s){U(n,r,s)},p:J,d(n){n&&V(r)}}}function lf(t){let e;return{c(){e=G("\xA0")},m(r,n){U(r,e,n)},p:J,d(r){r&&V(e)}}}function cf(t){let e;return{c(){e=M("td"),e.textContent="...",F(e,"class","svelte-16qkzrn")},m(r,n){U(r,e,n)},p:J,d(r){r&&V(e)}}}function uf(t){let e,r={ctx:t,current:null,token:null,hasCatch:!0,pending:cf,then:sf,catch:nf,value:6,error:8};return jt(t[0],r),{c(){e=et(),r.block.c()},m(n,s){U(n,e,s),r.block.m(n,r.anchor=s),r.mount=()=>e.parentNode,r.anchor=e},p(n,[s]){t=n,Kt(r,t,s)},i:J,o:J,d(n){n&&V(e),r.block.d(n),r.token=null,r=null}}}function ff(t,e,r){let{wellAttrs:n}=e,{source:s}=e,{path:a}=e;async function o(){console.log("wellAttrs",n,n.well);let c=n.well.images[0].path,u=await Er(s+a+"/"+c+"/.zattrs");return await bn(u)}let i=bn(n),l=o();return t.$$set=c=>{"wellAttrs"in c&&r(2,n=c.wellAttrs),"source"in c&&r(3,s=c.source),"path"in c&&r(4,a=c.path)},[i,l,n,s,a]}class df extends rt{constructor(e){super(),tt(this,e,ff,uf,xe,{wellAttrs:2,source:3,path:4})}}function hf(t){let e,r=t[4].message+"",n;return{c(){e=M("td"),n=G(r),Ge(e,"color","red"),F(e,"class","svelte-zadp2s")},m(s,a){U(s,e,a),I(e,n)},p:J,i:J,o:J,d(s){s&&V(e)}}}function mf(t){let e,r;return e=new df({props:{wellAttrs:t[3],source:t[0],path:t[1]}}),{c(){Je(e.$$.fragment)},m(n,s){Ue(e,n,s),r=!0},p(n,s){const a={};s&1&&(a.source=n[0]),s&2&&(a.path=n[1]),e.$set(a)},i(n){r||(Z(e.$$.fragment,n),r=!0)},o(n){te(e.$$.fragment,n),r=!1},d(n){qe(e,n)}}}function pf(t){let e;return{c(){e=M("td"),e.textContent=".",F(e,"class","svelte-zadp2s")},m(r,n){U(r,e,n)},p:J,i:J,o:J,d(r){r&&V(e)}}}function _f(t){let e,r,n={ctx:t,current:null,token:null,hasCatch:!0,pending:pf,then:mf,catch:hf,value:3,error:4,blocks:[,,,]};return jt(t[2],n),{c(){e=et(),n.block.c()},m(s,a){U(s,e,a),n.block.m(s,n.anchor=a),n.mount=()=>e.parentNode,n.anchor=e,r=!0},p(s,[a]){t=s,Kt(n,t,a)},i(s){r||(Z(n.block),r=!0)},o(s){for(let a=0;a<3;a+=1){const o=n.blocks[a];te(o)}r=!1},d(s){s&&V(e),n.block.d(s),n.token=null,n=null}}}function vf(t,e,r){let{source:n}=e,{path:s}=e;const a=Er(n+s+"/.zattrs");return t.$$set=o=>{"source"in o&&r(0,n=o.source),"path"in o&&r(1,s=o.path)},[n,s,a]}class yf extends rt{constructor(e){super(),tt(this,e,vf,_f,xe,{source:0,path:1})}}function ea(t,e,r){const n=t.slice();return n[7]=e[r],n}function ta(t,e,r){const n=t.slice();return n[10]=e[r],n}function gf(t){let e,r=t[13].message+"",n;return{c(){e=M("p"),n=G(r),Ge(e,"color","red")},m(s,a){U(s,e,a),I(e,n)},p:J,i:J,o:J,d(s){s&&V(e)}}}function $f(t){let e,r,n=t[1].rows,s=[];for(let o=0;o<n.length;o+=1)s[o]=na(ea(t,n,o));const a=o=>te(s[o],1,1,()=>{s[o]=null});return{c(){e=M("table");for(let o=0;o<s.length;o+=1)s[o].c();F(e,"class","svelte-1t60zd5")},m(o,i){U(o,e,i);for(let l=0;l<s.length;l+=1)s[l].m(e,null);r=!0},p(o,i){if(i&7){n=o[1].rows;let l;for(l=0;l<n.length;l+=1){const c=ea(o,n,l);s[l]?(s[l].p(c,i),Z(s[l],1)):(s[l]=na(c),s[l].c(),Z(s[l],1),s[l].m(e,null))}for(Ve(),l=n.length;l<s.length;l+=1)a(l);Fe()}},i(o){if(!r){for(let i=0;i<n.length;i+=1)Z(s[i]);r=!0}},o(o){s=s.filter(Boolean);for(let i=0;i<s.length;i+=1)te(s[i]);r=!1},d(o){o&&V(e),Lt(s,o)}}}function bf(t){let e;return{c(){e=M("td"),F(e,"class","svelte-1t60zd5")},m(r,n){U(r,e,n)},p:J,i:J,o:J,d(r){r&&V(e)}}}function wf(t){let e,r;return e=new yf({props:{path:`${t[7].name}/${t[10].name}`,source:t[0]}}),{c(){Je(e.$$.fragment)},m(n,s){Ue(e,n,s),r=!0},p(n,s){const a={};s&1&&(a.source=n[0]),e.$set(a)},i(n){r||(Z(e.$$.fragment,n),r=!0)},o(n){te(e.$$.fragment,n),r=!1},d(n){qe(e,n)}}}function ra(t){let e,r,n,s;const a=[wf,bf],o=[];function i(l,c){return l[2].indexOf(`${l[7].name}/${l[10].name}`)>-1?0:1}return e=i(t),r=o[e]=a[e](t),{c(){r.c(),n=et()},m(l,c){o[e].m(l,c),U(l,n,c),s=!0},p(l,c){r.p(l,c)},i(l){s||(Z(r),s=!0)},o(l){te(r),s=!1},d(l){o[e].d(l),l&&V(n)}}}function na(t){let e,r,n,s=t[1].columns,a=[];for(let i=0;i<s.length;i+=1)a[i]=ra(ta(t,s,i));const o=i=>te(a[i],1,1,()=>{a[i]=null});return{c(){e=M("tr");for(let i=0;i<a.length;i+=1)a[i].c();r=x()},m(i,l){U(i,e,l);for(let c=0;c<a.length;c+=1)a[c].m(e,null);I(e,r),n=!0},p(i,l){if(l&7){s=i[1].columns;let c;for(c=0;c<s.length;c+=1){const u=ta(i,s,c);a[c]?(a[c].p(u,l),Z(a[c],1)):(a[c]=ra(u),a[c].c(),Z(a[c],1),a[c].m(e,r))}for(Ve(),c=s.length;c<a.length;c+=1)o(c);Fe()}},i(i){if(!n){for(let l=0;l<s.length;l+=1)Z(a[l]);n=!0}},o(i){a=a.filter(Boolean);for(let l=0;l<a.length;l+=1)te(a[l]);n=!1},d(i){i&&V(e),Lt(a,i)}}}function Ef(t){let e;return{c(){e=M("div"),e.textContent="loading schemas..."},m(r,n){U(r,e,n)},p:J,i:J,o:J,d(r){r&&V(e)}}}function kf(t){let e,r,n={ctx:t,current:null,token:null,hasCatch:!0,pending:Ef,then:$f,catch:gf,value:6,error:13,blocks:[,,,]};return jt(t[3],n),{c(){e=M("article"),n.block.c()},m(s,a){U(s,e,a),n.block.m(e,n.anchor=null),n.mount=()=>e,n.anchor=null,r=!0},p(s,[a]){t=s,Kt(n,t,a)},i(s){r||(Z(n.block),r=!0)},o(s){for(let a=0;a<3;a+=1){const o=n.blocks[a];te(o)}r=!1},d(s){s&&V(e),n.block.d(),n.token=null,n=null}}}function Sf(t,e,r){let{source:n}=e,{rootAttrs:s}=e,a=s.plate,o=a.wells.map(c=>c.path);console.log("wellPaths",o);const i=xr(s)||gr;let l=Promise.all([$n(i,"well"),$n(i,"image")]);return t.$$set=c=>{"source"in c&&r(0,n=c.source),"rootAttrs"in c&&r(4,s=c.rootAttrs)},[n,a,o,l,s]}class Pf extends rt{constructor(e){super(),tt(this,e,Sf,kf,xe,{source:0,rootAttrs:4})}}function Nf(t){let e,r=[{width:t[1]},{height:t[1]},{"stroke-width":"0"},{class:t[2]},t[0].a,t[4],{xmlns:"http://www.w3.org/2000/svg"}],n={};for(let s=0;s<r.length;s+=1)n=So(n,r[s]);return{c(){e=Io("svg"),ks(e,n)},m(s,a){U(s,e,a),e.innerHTML=t[3]},p(s,[a]){a&8&&(e.innerHTML=s[3]),ks(e,n=Bo(r,[a&2&&{width:s[1]},a&2&&{height:s[1]},{"stroke-width":"0"},a&4&&{class:s[2]},a&1&&s[0].a,a&16&&s[4],{xmlns:"http://www.w3.org/2000/svg"}]))},i:J,o:J,d(s){s&&V(e)}}}function Of(t,e,r){let{src:n}=e,{size:s="1em"}=e,{color:a=void 0}=e,{title:o=void 0}=e,{className:i=""}=e,l,c;return t.$$set=u=>{"src"in u&&r(0,n=u.src),"size"in u&&r(1,s=u.size),"color"in u&&r(5,a=u.color),"title"in u&&r(6,o=u.title),"className"in u&&r(2,i=u.className)},t.$$.update=()=>{t.$$.dirty&33&&(r(4,c={}),a&&(n.a.stroke!=="none"&&r(4,c.stroke=a,c),n.a.fill!=="none"&&r(4,c.fill=a,c))),t.$$.dirty&65&&r(3,l=(o?`<title>${o}</title>`:"")+n.c)},[n,s,i,l,c,a,o]}class Cf extends rt{constructor(e){super(),tt(this,e,Of,Nf,xe,{src:0,size:1,color:5,title:6,className:2})}}var jf={a:{viewBox:"0 0 16 16",fill:"currentColor"},c:'<path d="M12.14 8.753l-5.482 4.796c-.646.566-1.658.106-1.658-.753V3.204a1 1 0 0 1 1.659-.753l5.48 4.796a1 1 0 0 1 0 1.506z"></path>'};function Tf(t){const e=t-1;return e*e*e+1}function sa(t,{delay:e=0,duration:r=400,easing:n=Tf}={}){const s=getComputedStyle(t),a=+s.opacity,o=parseFloat(s.height),i=parseFloat(s.paddingTop),l=parseFloat(s.paddingBottom),c=parseFloat(s.marginTop),u=parseFloat(s.marginBottom),d=parseFloat(s.borderTopWidth),v=parseFloat(s.borderBottomWidth);return{delay:e,duration:r,easing:n,css:w=>`overflow: hidden;opacity: ${Math.min(w*20,1)*a};height: ${w*o}px;padding-top: ${w*i}px;padding-bottom: ${w*l}px;margin-top: ${w*c}px;margin-bottom: ${w*u}px;border-top-width: ${w*d}px;border-bottom-width: ${w*v}px;`}}function aa(t,e,r){const n=t.slice();return n[8]=e[r],n[7]=r,n}function oa(t,e,r){const n=t.slice();return n[5]=e[r],n[7]=r,n}function ia(t){let e,r,n,s,a;return{c(){e=M("span"),r=G('"'),n=G(t[1]),s=G('"'),a=G(":"),F(e,"class","key svelte-azjsni")},m(o,i){U(o,e,i),I(e,r),I(e,n),I(e,s),U(o,a,i)},p(o,i){i&2&&Ae(n,o[1])},d(o){o&&V(e),o&&V(a)}}}function Rf(t){let e="{",r;return{c(){r=G(e)},m(n,s){U(n,r,s)},d(n){n&&V(r)}}}function If(t){let e="[",r;return{c(){r=G(e)},m(n,s){U(n,r,s)},d(n){n&&V(r)}}}function la(t){let e,r,n,s,a,o,i;function l($,y){return $[2][0]?Df:Af}let c=l(t),u=c(t),d=!t[3]&&ca();function v($,y){return $[2][0]?zf:Mf}let w=v(t),p=w(t);return{c(){e=M("span"),e.textContent="...",r=x(),u.c(),n=x(),d&&d.c(),s=x(),a=M("span"),o=G("// "),p.c(),i=G(" items"),F(e,"class","comment dots svelte-azjsni"),F(a,"class","comment svelte-azjsni")},m($,y){U($,e,y),U($,r,y),u.m($,y),U($,n,y),d&&d.m($,y),U($,s,y),U($,a,y),I(a,o),p.m(a,null),I(a,i)},p($,y){c!==(c=l($))&&(u.d(1),u=c($),u&&(u.c(),u.m(n.parentNode,n))),$[3]?d&&(d.d(1),d=null):d||(d=ca(),d.c(),d.m(s.parentNode,s)),w===(w=v($))&&p?p.p($,y):(p.d(1),p=w($),p&&(p.c(),p.m(a,i)))},d($){$&&V(e),$&&V(r),u.d($),$&&V(n),d&&d.d($),$&&V(s),$&&V(a),p.d()}}}function Af(t){let e="}",r;return{c(){r=G(e)},m(n,s){U(n,r,s)},d(n){n&&V(r)}}}function Df(t){let e="]",r;return{c(){r=G(e)},m(n,s){U(n,r,s)},d(n){n&&V(r)}}}function ca(t){let e;return{c(){e=M("span"),e.textContent=",",F(e,"class","trailing-comma svelte-azjsni")},m(r,n){U(r,e,n)},d(r){r&&V(e)}}}function Mf(t){let e=Object.keys(t[2]).length+"",r;return{c(){r=G(e)},m(n,s){U(n,r,s)},p(n,s){s&4&&e!==(e=Object.keys(n[2]).length+"")&&Ae(r,e)},d(n){n&&V(r)}}}function zf(t){let e=t[2].length+"",r;return{c(){r=G(e)},m(n,s){U(n,r,s)},p(n,s){s&4&&e!==(e=n[2].length+"")&&Ae(r,e)},d(n){n&&V(r)}}}function ua(t){let e,r,n,s,a;const o=[Ff,Vf],i=[];function l(c,u){return c[2][0]?0:1}return r=l(t),n=i[r]=o[r](t),{c(){e=M("ul"),n.c(),F(e,"class","svelte-azjsni")},m(c,u){U(c,e,u),i[r].m(e,null),a=!0},p(c,u){let d=r;r=l(c),r===d?i[r].p(c,u):(Ve(),te(i[d],1,1,()=>{i[d]=null}),Fe(),n=i[r],n?n.p(c,u):(n=i[r]=o[r](c),n.c()),Z(n,1),n.m(e,null))},i(c){a||(Z(n),vr(()=>{s||(s=Os(e,sa,{duration:300},!0)),s.run(1)}),a=!0)},o(c){te(n),s||(s=Os(e,sa,{duration:300},!1)),s.run(0),a=!1},d(c){c&&V(e),i[r].d(),c&&s&&s.end()}}}function Vf(t){let e,r,n=Object.entries(t[2]),s=[];for(let o=0;o<n.length;o+=1)s[o]=da(aa(t,n,o));const a=o=>te(s[o],1,1,()=>{s[o]=null});return{c(){for(let o=0;o<s.length;o+=1)s[o].c();e=et()},m(o,i){for(let l=0;l<s.length;l+=1)s[l].m(o,i);U(o,e,i),r=!0},p(o,i){if(i&4){n=Object.entries(o[2]);let l;for(l=0;l<n.length;l+=1){const c=aa(o,n,l);s[l]?(s[l].p(c,i),Z(s[l],1)):(s[l]=da(c),s[l].c(),Z(s[l],1),s[l].m(e.parentNode,e))}for(Ve(),l=n.length;l<s.length;l+=1)a(l);Fe()}},i(o){if(!r){for(let i=0;i<n.length;i+=1)Z(s[i]);r=!0}},o(o){s=s.filter(Boolean);for(let i=0;i<s.length;i+=1)te(s[i]);r=!1},d(o){Lt(s,o),o&&V(e)}}}function Ff(t){let e,r,n=t[2],s=[];for(let o=0;o<n.length;o+=1)s[o]=ma(oa(t,n,o));const a=o=>te(s[o],1,1,()=>{s[o]=null});return{c(){for(let o=0;o<s.length;o+=1)s[o].c();e=et()},m(o,i){for(let l=0;l<s.length;l+=1)s[l].m(o,i);U(o,e,i),r=!0},p(o,i){if(i&4){n=o[2];let l;for(l=0;l<n.length;l+=1){const c=oa(o,n,l);s[l]?(s[l].p(c,i),Z(s[l],1)):(s[l]=ma(c),s[l].c(),Z(s[l],1),s[l].m(e.parentNode,e))}for(Ve(),l=n.length;l<s.length;l+=1)a(l);Fe()}},i(o){if(!r){for(let i=0;i<n.length;i+=1)Z(s[i]);r=!0}},o(o){s=s.filter(Boolean);for(let i=0;i<s.length;i+=1)te(s[i]);r=!1},d(o){Lt(s,o),o&&V(e)}}}function Uf(t){let e,r,n=t[8][0]+"",s,a,o,i,l=Object.keys(t[2]).length!=t[7]+1,c;function u(p,$){return typeof p[8][1]=="string"?Hf:typeof p[8][1]=="number"?Kf:Lf}let d=u(t),v=d(t),w=l&&fa();return{c(){e=M("span"),r=G('"'),s=G(n),a=G('"'),o=G(`:

                
                `),v.c(),i=x(),w&&w.c(),c=et(),F(e,"class","key indent svelte-azjsni")},m(p,$){U(p,e,$),I(e,r),I(e,s),I(e,a),U(p,o,$),v.m(p,$),U(p,i,$),w&&w.m(p,$),U(p,c,$)},p(p,$){$&4&&n!==(n=p[8][0]+"")&&Ae(s,n),d===(d=u(p))&&v?v.p(p,$):(v.d(1),v=d(p),v&&(v.c(),v.m(i.parentNode,i))),$&4&&(l=Object.keys(p[2]).length!=p[7]+1),l?w||(w=fa(),w.c(),w.m(c.parentNode,c)):w&&(w.d(1),w=null)},i:J,o:J,d(p){p&&V(e),p&&V(o),v.d(p),p&&V(i),w&&w.d(p),p&&V(c)}}}function qf(t){let e,r;return e=new ls({props:{name:t[8][0],contents:t[8][1],expanded:Object.values(t[2]).length==1,last:Object.keys(t[2]).length===t[7]+1}}),{c(){Je(e.$$.fragment)},m(n,s){Ue(e,n,s),r=!0},p(n,s){const a={};s&4&&(a.name=n[8][0]),s&4&&(a.contents=n[8][1]),s&4&&(a.expanded=Object.values(n[2]).length==1),s&4&&(a.last=Object.keys(n[2]).length===n[7]+1),e.$set(a)},i(n){r||(Z(e.$$.fragment,n),r=!0)},o(n){te(e.$$.fragment,n),r=!1},d(n){qe(e,n)}}}function Lf(t){let e,r=t[8][1]+"",n;return{c(){e=M("span"),n=G(r),F(e,"class","null svelte-azjsni")},m(s,a){U(s,e,a),I(e,n)},p(s,a){a&4&&r!==(r=s[8][1]+"")&&Ae(n,r)},d(s){s&&V(e)}}}function Kf(t){let e,r=t[8][1]+"",n;return{c(){e=M("span"),n=G(r),F(e,"class","number svelte-azjsni")},m(s,a){U(s,e,a),I(e,n)},p(s,a){a&4&&r!==(r=s[8][1]+"")&&Ae(n,r)},d(s){s&&V(e)}}}function Hf(t){let e,r,n=t[8][1]+"",s,a;return{c(){e=M("span"),r=G('"'),s=G(n),a=G('"'),F(e,"class","string svelte-azjsni")},m(o,i){U(o,e,i),I(e,r),I(e,s),I(e,a)},p(o,i){i&4&&n!==(n=o[8][1]+"")&&Ae(s,n)},d(o){o&&V(e)}}}function fa(t){let e;return{c(){e=M("span"),e.textContent=",",F(e,"class","trailing-comma svelte-azjsni")},m(r,n){U(r,e,n)},d(r){r&&V(e)}}}function da(t){let e,r,n,s,a;const o=[qf,Uf],i=[];function l(c,u){return typeof c[8][1]=="object"?0:1}return r=l(t),n=i[r]=o[r](t),{c(){e=M("li"),n.c(),s=x(),F(e,"class","svelte-azjsni")},m(c,u){U(c,e,u),i[r].m(e,null),I(e,s),a=!0},p(c,u){let d=r;r=l(c),r===d?i[r].p(c,u):(Ve(),te(i[d],1,1,()=>{i[d]=null}),Fe(),n=i[r],n?n.p(c,u):(n=i[r]=o[r](c),n.c()),Z(n,1),n.m(e,s))},i(c){a||(Z(n),a=!0)},o(c){te(n),a=!1},d(c){c&&V(e),i[r].d()}}}function Gf(t){let e,r;function n(i,l){return typeof i[5]=="string"?Xf:typeof i[5]=="number"?Wf:Bf}let s=n(t),a=s(t),o=t[2].length!=t[7]+1&&ha();return{c(){a.c(),e=x(),o&&o.c(),r=et()},m(i,l){a.m(i,l),U(i,e,l),o&&o.m(i,l),U(i,r,l)},p(i,l){s===(s=n(i))&&a?a.p(i,l):(a.d(1),a=s(i),a&&(a.c(),a.m(e.parentNode,e))),i[2].length!=i[7]+1?o||(o=ha(),o.c(),o.m(r.parentNode,r)):o&&(o.d(1),o=null)},i:J,o:J,d(i){a.d(i),i&&V(e),o&&o.d(i),i&&V(r)}}}function Jf(t){let e,r;return e=new ls({props:{name:"",contents:t[5],expanded:t[2].length==1,last:t[2].length===t[7]+1}}),{c(){Je(e.$$.fragment)},m(n,s){Ue(e,n,s),r=!0},p(n,s){const a={};s&4&&(a.contents=n[5]),s&4&&(a.expanded=n[2].length==1),s&4&&(a.last=n[2].length===n[7]+1),e.$set(a)},i(n){r||(Z(e.$$.fragment,n),r=!0)},o(n){te(e.$$.fragment,n),r=!1},d(n){qe(e,n)}}}function Bf(t){let e,r=t[5]+"",n;return{c(){e=M("span"),n=G(r),F(e,"class","null svelte-azjsni")},m(s,a){U(s,e,a),I(e,n)},p(s,a){a&4&&r!==(r=s[5]+"")&&Ae(n,r)},d(s){s&&V(e)}}}function Wf(t){let e,r=t[5]+"",n;return{c(){e=M("span"),n=G(r),F(e,"class","number svelte-azjsni")},m(s,a){U(s,e,a),I(e,n)},p(s,a){a&4&&r!==(r=s[5]+"")&&Ae(n,r)},d(s){s&&V(e)}}}function Xf(t){let e,r,n=t[5]+"",s,a;return{c(){e=M("span"),r=G('"'),s=G(n),a=G('"'),F(e,"class","string svelte-azjsni")},m(o,i){U(o,e,i),I(e,r),I(e,s),I(e,a)},p(o,i){i&4&&n!==(n=o[5]+"")&&Ae(s,n)},d(o){o&&V(e)}}}function ha(t){let e;return{c(){e=M("span"),e.textContent=",",F(e,"class","trailing-comma svelte-azjsni")},m(r,n){U(r,e,n)},d(r){r&&V(e)}}}function ma(t){let e,r,n,s,a;const o=[Jf,Gf],i=[];function l(c,u){return typeof c[5]=="object"?0:1}return r=l(t),n=i[r]=o[r](t),{c(){e=M("li"),n.c(),s=x(),F(e,"class","svelte-azjsni")},m(c,u){U(c,e,u),i[r].m(e,null),I(e,s),a=!0},p(c,u){let d=r;r=l(c),r===d?i[r].p(c,u):(Ve(),te(i[d],1,1,()=>{i[d]=null}),Fe(),n=i[r],n?n.p(c,u):(n=i[r]=o[r](c),n.c()),Z(n,1),n.m(e,s))},i(c){a||(Z(n),a=!0)},o(c){te(n),a=!1},d(c){c&&V(e),i[r].d()}}}function pa(t){let e,r;function n(i,l){return i[2][0]?Zf:Yf}let s=n(t),a=s(t),o=!t[3]&&_a();return{c(){a.c(),e=x(),o&&o.c(),r=et()},m(i,l){a.m(i,l),U(i,e,l),o&&o.m(i,l),U(i,r,l)},p(i,l){s!==(s=n(i))&&(a.d(1),a=s(i),a&&(a.c(),a.m(e.parentNode,e))),i[3]?o&&(o.d(1),o=null):o||(o=_a(),o.c(),o.m(r.parentNode,r))},d(i){a.d(i),i&&V(e),o&&o.d(i),i&&V(r)}}}function Yf(t){let e="}",r;return{c(){r=G(e)},m(n,s){U(n,r,s)},d(n){n&&V(r)}}}function Zf(t){let e="]",r;return{c(){r=G(e)},m(n,s){U(n,r,s)},d(n){n&&V(r)}}}function _a(t){let e;return{c(){e=M("span"),e.textContent=",",F(e,"class","trailing-comma svelte-azjsni")},m(r,n){U(r,e,n)},d(r){r&&V(e)}}}function Qf(t){let e,r,n,s,a,o,i,l,c,u,d,v,w;n=new Cf({props:{className:"caret-toggle",src:jf}});let p=t[1]&&ia(t);function $(A,S){return A[2][0]?If:Rf}let y=$(t),m=y(t),E=!t[0]&&la(t),k=t[0]&&ua(t),T=t[0]&&pa(t);return{c(){e=M("div"),r=M("div"),Je(n.$$.fragment),a=x(),o=M("div"),p&&p.c(),i=x(),m.c(),l=x(),E&&E.c(),c=x(),k&&k.c(),u=x(),T&&T.c(),F(r,"class",s=(t[0]?"expanded":"")+" caret svelte-azjsni"),F(o,"class","content svelte-azjsni"),F(e,"class","folder svelte-azjsni")},m(A,S){U(A,e,S),I(e,r),Ue(n,r,null),I(e,a),I(e,o),p&&p.m(o,null),I(o,i),m.m(o,null),I(o,l),E&&E.m(o,null),I(o,c),k&&k.m(o,null),I(o,u),T&&T.m(o,null),d=!0,v||(w=Ao(r,"click",t[4]),v=!0)},p(A,[S]){(!d||S&1&&s!==(s=(A[0]?"expanded":"")+" caret svelte-azjsni"))&&F(r,"class",s),A[1]?p?p.p(A,S):(p=ia(A),p.c(),p.m(o,i)):p&&(p.d(1),p=null),y!==(y=$(A))&&(m.d(1),m=y(A),m&&(m.c(),m.m(o,l))),A[0]?E&&(E.d(1),E=null):E?E.p(A,S):(E=la(A),E.c(),E.m(o,c)),A[0]?k?(k.p(A,S),S&1&&Z(k,1)):(k=ua(A),k.c(),Z(k,1),k.m(o,u)):k&&(Ve(),te(k,1,1,()=>{k=null}),Fe()),A[0]?T?T.p(A,S):(T=pa(A),T.c(),T.m(o,null)):T&&(T.d(1),T=null)},i(A){d||(Z(n.$$.fragment,A),Z(k),d=!0)},o(A){te(n.$$.fragment,A),te(k),d=!1},d(A){A&&V(e),qe(n),p&&p.d(),m.d(),E&&E.d(),k&&k.d(),T&&T.d(),v=!1,w()}}}function xf(t,e,r){let{name:n}=e,{contents:s}=e,{expanded:a=!1}=e,{last:o=!0}=e;Object.keys(s).length==1&&(a=!0);function i(){r(0,a=!a)}return t.$$set=l=>{"name"in l&&r(1,n=l.name),"contents"in l&&r(2,s=l.contents),"expanded"in l&&r(0,a=l.expanded),"last"in l&&r(3,o=l.last)},[a,n,s,o,i]}class ls extends rt{constructor(e){super(),tt(this,e,xf,Qf,xe,{name:1,contents:2,expanded:0,last:3})}}function va(t,e,r){const n=t.slice();return n[9]=e[r],n}function ed(t){let e,r,n;return{c(){e=G("No version found. Using "),r=G(gr),n=M("br")},m(s,a){U(s,e,a),U(s,r,a),U(s,n,a)},p:J,d(s){s&&V(e),s&&V(r),s&&V(n)}}}function td(t){let e,r=t[9].message+"",n;return{c(){e=M("p"),n=G(r),Ge(e,"color","red")},m(s,a){U(s,e,a),I(e,n)},p:J,d(s){s&&V(e)}}}function rd(t){let e;function r(a,o){return a[8].length>0?sd:nd}let s=r(t)(t);return{c(){s.c(),e=et()},m(a,o){s.m(a,o),U(a,e,o)},p(a,o){s.p(a,o)},d(a){s.d(a),a&&V(e)}}}function nd(t){let e;return{c(){e=M("div"),e.textContent="\u2713",F(e,"class","valid svelte-1h825j5")},m(r,n){U(r,e,n)},p:J,d(r){r&&V(e)}}}function sd(t){let e,r,n,s,a=t[8],o=[];for(let i=0;i<a.length;i+=1)o[i]=ya(va(t,a,i));return{c(){e=M("div"),e.textContent="\xD7",r=x(),n=M("div"),s=G(`Errors:
        `);for(let i=0;i<o.length;i+=1)o[i].c();F(e,"class","invalid svelte-1h825j5"),F(n,"class","error svelte-1h825j5")},m(i,l){U(i,e,l),U(i,r,l),U(i,n,l),I(n,s);for(let c=0;c<o.length;c+=1)o[c].m(n,null)},p(i,l){if(l&32){a=i[8];let c;for(c=0;c<a.length;c+=1){const u=va(i,a,c);o[c]?o[c].p(u,l):(o[c]=ya(u),o[c].c(),o[c].m(n,null))}for(;c<o.length;c+=1)o[c].d(1);o.length=a.length}},d(i){i&&V(e),i&&V(r),i&&V(n),Lt(o,i)}}}function ya(t){let e,r,n=JSON.stringify(t[9],null,2)+"",s;return{c(){e=M("pre"),r=M("code"),s=G(n),F(e,"class","svelte-1h825j5")},m(a,o){U(a,e,o),I(e,r),I(r,s)},p:J,d(a){a&&V(e)}}}function ad(t){let e;return{c(){e=M("div"),e.textContent="loading schema..."},m(r,n){U(r,e,n)},p:J,d(r){r&&V(e)}}}function od(t){let e,r;return e=new Pf({props:{source:t[0],rootAttrs:t[1]}}),{c(){Je(e.$$.fragment)},m(n,s){Ue(e,n,s),r=!0},p(n,s){const a={};s&1&&(a.source=n[0]),s&2&&(a.rootAttrs=n[1]),e.$set(a)},i(n){r||(Z(e.$$.fragment,n),r=!0)},o(n){te(e.$$.fragment,n),r=!1},d(n){qe(e,n)}}}function id(t){let e,r;return e=new rf({props:{source:t[0],rootAttrs:t[1]}}),{c(){Je(e.$$.fragment)},m(n,s){Ue(e,n,s),r=!0},p(n,s){const a={};s&1&&(a.source=n[0]),s&2&&(a.rootAttrs=n[1]),e.$set(a)},i(n){r||(Z(e.$$.fragment,n),r=!0)},o(n){te(e.$$.fragment,n),r=!1},d(n){qe(e,n)}}}function ld(t){let e,r,n,s,a,o,i,l,c,u,d,v,w,p,$,y,m,E,k,T=!t[2]&&ed(),A={ctx:t,current:null,token:null,hasCatch:!0,pending:ad,then:rd,catch:td,value:8,error:9};jt(t[5],A),p=new ls({props:{name:"",contents:t[1],expanded:!0}});const S=[id,od],C=[];function z(H,B){return H[1].multiscales?0:H[1].plate?1:-1}return~(y=z(t))&&(m=C[y]=S[y](t)),{c(){e=M("article"),r=G("Validating: "),n=M("a"),s=G(t[6]),a=G("/.zattrs"),o=M("br"),i=x(),T&&T.c(),l=G(`

  Using schema: `),c=M("a"),u=G(t[4]),d=x(),A.block.c(),v=x(),w=M("div"),Je(p.$$.fragment),$=x(),m&&m.c(),E=et(),F(n,"href",t[0]),F(n,"class","svelte-1h825j5"),F(c,"href",t[3]),F(c,"target","_blank"),F(c,"class","svelte-1h825j5"),F(w,"class","json svelte-1h825j5")},m(H,B){U(H,e,B),I(e,r),I(e,n),I(n,s),I(n,a),I(e,o),I(e,i),T&&T.m(e,null),I(e,l),I(e,c),I(c,u),I(e,d),A.block.m(e,A.anchor=null),A.mount=()=>e,A.anchor=v,I(e,v),I(e,w),Ue(p,w,null),U(H,$,B),~y&&C[y].m(H,B),U(H,E,B),k=!0},p(H,[B]){t=H,(!k||B&1)&&F(n,"href",t[0]),t[2]||T.p(t,B),Kt(A,t,B);const ue={};B&2&&(ue.contents=t[1]),p.$set(ue);let re=y;y=z(t),y===re?~y&&C[y].p(t,B):(m&&(Ve(),te(C[re],1,1,()=>{C[re]=null}),Fe()),~y?(m=C[y],m?m.p(t,B):(m=C[y]=S[y](t),m.c()),Z(m,1),m.m(E.parentNode,E)):m=null)},i(H){k||(Z(p.$$.fragment,H),Z(m),k=!0)},o(H){te(p.$$.fragment,H),te(m),k=!1},d(H){H&&V(e),T&&T.d(),A.block.d(),A.token=null,A=null,qe(p),H&&V($),~y&&C[y].d(H),H&&V(E)}}}function cd(t,e,r){let{source:n}=e,{rootAttrs:s}=e;const a=xr(s),o=Lu(s),i=o.split("main")[1],l=bn(s),c=n.split("/").filter(Boolean),u=c[c.length-1];return t.$$set=d=>{"source"in d&&r(0,n=d.source),"rootAttrs"in d&&r(1,s=d.rootAttrs)},[n,s,a,o,i,l,u]}class ud extends rt{constructor(e){super(),tt(this,e,cd,ld,xe,{source:0,rootAttrs:1})}}function fd(t){let e,r,n,s;return{c(){e=M("article"),r=G(`To validate an OME-ZARR file, use e.g.
        `),n=M("a"),s=G("?source=https://uk1s3.embassy.ebi.ac.uk/idr/zarr/v0.3/9836842.zarr"),F(n,"href",t[3]+"?source=https://uk1s3.embassy.ebi.ac.uk/idr/zarr/v0.3/9836842.zarr"),F(n,"class","svelte-1gowofs"),F(e,"class","svelte-1gowofs")},m(a,o){U(a,e,o),I(e,r),I(e,n),I(n,s)},p:J,i:J,o:J,d(a){a&&V(e)}}}function dd(t){let e,r,n,s,a,o,i={ctx:t,current:null,token:null,hasCatch:!0,pending:pd,then:md,catch:hd,value:5,error:6,blocks:[,,,]};return jt(a=t[1],i),{c(){e=M("h1"),r=G(t[2]),n=x(),s=M("div"),i.block.c(),F(e,"class","svelte-1gowofs"),F(s,"class","svelte-1gowofs")},m(l,c){U(l,e,c),I(e,r),U(l,n,c),U(l,s,c),i.block.m(s,i.anchor=null),i.mount=()=>s,i.anchor=null,o=!0},p(l,c){t=l,(!o||c&4)&&Ae(r,t[2]),i.ctx=t,c&2&&a!==(a=t[1])&&jt(a,i)||Kt(i,t,c)},i(l){o||(Z(i.block),o=!0)},o(l){for(let c=0;c<3;c+=1){const u=i.blocks[c];te(u)}o=!1},d(l){l&&V(e),l&&V(n),l&&V(s),i.block.d(),i.token=null,i=null}}}function hd(t){let e,r=t[6].message+"",n;return{c(){e=M("p"),n=G(r),Ge(e,"color","red")},m(s,a){U(s,e,a),I(e,n)},p(s,a){a&2&&r!==(r=s[6].message+"")&&Ae(n,r)},i:J,o:J,d(s){s&&V(e)}}}function md(t){let e,r;return e=new ud({props:{rootAttrs:t[5],source:t[0]}}),{c(){Je(e.$$.fragment)},m(n,s){Ue(e,n,s),r=!0},p(n,s){const a={};s&2&&(a.rootAttrs=n[5]),s&1&&(a.source=n[0]),e.$set(a)},i(n){r||(Z(e.$$.fragment,n),r=!0)},o(n){te(e.$$.fragment,n),r=!1},d(n){qe(e,n)}}}function pd(t){let e;return{c(){e=M("p"),e.textContent="loading..."},m(r,n){U(r,e,n)},p:J,i:J,o:J,d(r){r&&V(e)}}}function _d(t){let e,r,n,s,a,o,i,l;n=new Yo({});const c=[dd,fd],u=[];function d(v,w){return v[0]?0:1}return o=d(t),i=u[o]=c[o](t),{c(){e=M("main"),r=M("nav"),Je(n.$$.fragment),s=x(),a=M("section"),i.c(),F(r,"class","svelte-1gowofs"),F(a,"class","svelte-1gowofs"),F(e,"class","svelte-1gowofs")},m(v,w){U(v,e,w),I(e,r),Ue(n,r,null),I(e,s),I(e,a),u[o].m(a,null),l=!0},p(v,[w]){let p=o;o=d(v),o===p?u[o].p(v,w):(Ve(),te(u[p],1,1,()=>{u[p]=null}),Fe(),i=u[o],i?i.p(v,w):(i=u[o]=c[o](v),i.c()),Z(i,1),i.m(a,null))},i(v){l||(Z(n.$$.fragment,v),Z(i),l=!0)},o(v){te(n.$$.fragment,v),te(i),l=!1},d(v){v&&V(e),qe(n),u[o].d()}}}function vd(t,e,r){let s=new URLSearchParams(window.location.search).get("source");s&&!s.endsWith("/")&&(s=s+"/");let a=window.location.href,o,i;if(s){console.log("Loading JSON... "+s+".zattrs"),o=Er(s+".zattrs");const l=s.split("/").filter(Boolean);i=l[l.length-1]}return[s,o,i,a]}class yd extends rt{constructor(e){super(),tt(this,e,vd,_d,xe,{})}}new yd({target:document.getElementById("app")});
