const El=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerpolicy&&(o.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?o.credentials="include":s.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}};El();function L(){}const ra=t=>t;function na(t,e){for(const r in e)t[r]=e[r];return t}function Sl(t){return t&&typeof t=="object"&&typeof t.then=="function"}function sa(t){return t()}function ho(){return Object.create(null)}function Ut(t){t.forEach(sa)}function pr(t){return typeof t=="function"}function $e(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let nn;function gr(t,e){return nn||(nn=document.createElement("a")),nn.href=e,t===nn.href}function Cl(t){return Object.keys(t).length===0}function oa(t,...e){if(t==null)return L;const r=t.subscribe(...e);return r.unsubscribe?()=>r.unsubscribe():r}function mo(t){let e;return oa(t,r=>e=r)(),e}function po(t,e,r){t.$$.on_destroy.push(oa(e,r))}function Nl(t,e,r,n){if(t){const s=ia(t,e,r,n);return t[0](s)}}function ia(t,e,r,n){return t[1]&&n?na(r.ctx.slice(),t[1](n(e))):r.ctx}function Pl(t,e,r,n){if(t[2]&&n){const s=t[2](n(r));if(e.dirty===void 0)return s;if(typeof s=="object"){const o=[],i=Math.max(e.dirty.length,s.length);for(let a=0;a<i;a+=1)o[a]=e.dirty[a]|s[a];return o}return e.dirty|s}return e.dirty}function Ol(t,e,r,n,s,o){if(s){const i=ia(e,r,n,o);t.p(i,s)}}function Al(t){if(t.ctx.length>32){const e=[],r=t.ctx.length/32;for(let n=0;n<r;n++)e[n]=-1;return e}return-1}function kt(t){return t??""}const aa=typeof window<"u";let Tl=aa?()=>window.performance.now():()=>Date.now(),cs=aa?t=>requestAnimationFrame(t):L;const vr=new Set;function la(t){vr.forEach(e=>{e.c(t)||(vr.delete(e),e.f())}),vr.size!==0&&cs(la)}function jl(t){let e;return vr.size===0&&cs(la),{promise:new Promise(r=>{vr.add(e={c:t,f:r})}),abort(){vr.delete(e)}}}function b(t,e){t.appendChild(e)}function ca(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function Il(t){const e=N("style");return Rl(ca(t),e),e.sheet}function Rl(t,e){b(t.head||t,e)}function T(t,e,r){t.insertBefore(e,r||null)}function A(t){t.parentNode.removeChild(t)}function Je(t,e){for(let r=0;r<t.length;r+=1)t[r]&&t[r].d(e)}function N(t){return document.createElement(t)}function ua(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function z(t){return document.createTextNode(t)}function W(){return z(" ")}function Ae(){return z("")}function He(t,e,r,n){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r,n)}function Dl(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function S(t,e,r){r==null?t.removeAttribute(e):t.getAttribute(e)!==r&&t.setAttribute(e,r)}function _o(t,e){for(const r in e)S(t,r,e[r])}function Ml(t){return t===""?null:+t}function Fl(t){return Array.from(t.childNodes)}function Ee(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function go(t,e){t.value=e??""}function _e(t,e,r,n){r===null?t.style.removeProperty(e):t.style.setProperty(e,r,n?"important":"")}function vo(t,e){for(let r=0;r<t.options.length;r+=1){const n=t.options[r];if(n.__value===e){n.selected=!0;return}}t.selectedIndex=-1}function zl(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}function gt(t,e,r){t.classList[r?"add":"remove"](e)}function fa(t,e,{bubbles:r=!1,cancelable:n=!1}={}){const s=document.createEvent("CustomEvent");return s.initCustomEvent(t,r,n,e),s}class kr{constructor(e=!1){this.is_svg=!1,this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,r,n=null){this.e||(this.is_svg?this.e=ua(r.nodeName):this.e=N(r.nodeName),this.t=r,this.c(e)),this.i(n)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.childNodes)}i(e){for(let r=0;r<this.n.length;r+=1)T(this.t,this.n[r],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(A)}}const yn=new Map;let bn=0;function Ll(t){let e=5381,r=t.length;for(;r--;)e=(e<<5)-e^t.charCodeAt(r);return e>>>0}function Ul(t,e){const r={stylesheet:Il(e),rules:{}};return yn.set(t,r),r}function yo(t,e,r,n,s,o,i,a=0){const l=16.666/n;let c=`{
`;for(let m=0;m<=1;m+=l){const d=e+(r-e)*o(m);c+=m*100+`%{${i(d,1-d)}}
`}const f=c+`100% {${i(r,1-r)}}
}`,u=`__svelte_${Ll(f)}_${a}`,h=ca(t),{stylesheet:p,rules:g}=yn.get(h)||Ul(h,t);g[u]||(g[u]=!0,p.insertRule(`@keyframes ${u} ${f}`,p.cssRules.length));const _=t.style.animation||"";return t.style.animation=`${_?`${_}, `:""}${u} ${n}ms linear ${s}ms 1 both`,bn+=1,u}function Vl(t,e){const r=(t.style.animation||"").split(", "),n=r.filter(e?o=>o.indexOf(e)<0:o=>o.indexOf("__svelte")===-1),s=r.length-n.length;s&&(t.style.animation=n.join(", "),bn-=s,bn||Bl())}function Bl(){cs(()=>{bn||(yn.forEach(t=>{const{stylesheet:e}=t;let r=e.cssRules.length;for(;r--;)e.deleteRule(r);t.rules={}}),yn.clear())})}let Vr;function Dt(t){Vr=t}function ar(){if(!Vr)throw new Error("Function called outside component initialization");return Vr}function da(t){ar().$$.on_mount.push(t)}function ql(t){ar().$$.after_update.push(t)}function Kl(t){ar().$$.on_destroy.push(t)}function ha(){const t=ar();return(e,r,{cancelable:n=!1}={})=>{const s=t.$$.callbacks[e];if(s){const o=fa(e,r,{cancelable:n});return s.slice().forEach(i=>{i.call(t,o)}),!o.defaultPrevented}return!0}}function Wl(t,e){return ar().$$.context.set(t,e),e}function Gl(t){return ar().$$.context.get(t)}function Hl(t,e){const r=t.$$.callbacks[e.type];r&&r.slice().forEach(n=>n.call(this,e))}const Ir=[],yr=[],fn=[],bo=[],Jl=Promise.resolve();let Yn=!1;function Xl(){Yn||(Yn=!0,Jl.then(us))}function Jt(t){fn.push(t)}const Vn=new Set;let sn=0;function us(){const t=Vr;do{for(;sn<Ir.length;){const e=Ir[sn];sn++,Dt(e),Yl(e.$$)}for(Dt(null),Ir.length=0,sn=0;yr.length;)yr.pop()();for(let e=0;e<fn.length;e+=1){const r=fn[e];Vn.has(r)||(Vn.add(r),r())}fn.length=0}while(Ir.length);for(;bo.length;)bo.pop()();Yn=!1,Vn.clear(),Dt(t)}function Yl(t){if(t.fragment!==null){t.update(),Ut(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Jt)}}let Or;function Zl(){return Or||(Or=Promise.resolve(),Or.then(()=>{Or=null})),Or}function Bn(t,e,r){t.dispatchEvent(fa(`${e?"intro":"outro"}${r}`))}const dn=new Set;let Mt;function Pe(){Mt={r:0,c:[],p:Mt}}function Oe(){Mt.r||Ut(Mt.c),Mt=Mt.p}function B(t,e){t&&t.i&&(dn.delete(t),t.i(e))}function K(t,e,r,n){if(t&&t.o){if(dn.has(t))return;dn.add(t),Mt.c.push(()=>{dn.delete(t),n&&(r&&t.d(1),n())}),t.o(e)}}const Ql={duration:0};function _r(t,e,r,n){let s=e(t,r),o=n?0:1,i=null,a=null,l=null;function c(){l&&Vl(t,l)}function f(h,p){const g=h.b-o;return p*=Math.abs(g),{a:o,b:h.b,d:g,duration:p,start:h.start,end:h.start+p,group:h.group}}function u(h){const{delay:p=0,duration:g=300,easing:_=ra,tick:m=L,css:d}=s||Ql,v={start:Tl()+p,b:h};h||(v.group=Mt,Mt.r+=1),i||a?a=v:(d&&(c(),l=yo(t,o,h,g,p,_,d)),h&&m(0,1),i=f(v,g),Jt(()=>Bn(t,h,"start")),jl(k=>{if(a&&k>a.start&&(i=f(a,g),a=null,Bn(t,i.b,"start"),d&&(c(),l=yo(t,o,i.b,i.duration,0,_,s.css))),i){if(k>=i.end)m(o=i.b,1-o),Bn(t,i.b,"end"),a||(i.b?c():--i.group.r||Ut(i.group.c)),i=null;else if(k>=i.start){const E=k-i.start;o=i.a+i.d*_(E/i.duration),m(o,1-o)}}return!!(i||a)}))}return{run(h){pr(s)?Zl().then(()=>{s=s(),u(h)}):u(h)},end(){c(),i=a=null}}}function st(t,e){const r=e.token={};function n(s,o,i,a){if(e.token!==r)return;e.resolved=a;let l=e.ctx;i!==void 0&&(l=l.slice(),l[i]=a);const c=s&&(e.current=s)(l);let f=!1;e.block&&(e.blocks?e.blocks.forEach((u,h)=>{h!==o&&u&&(Pe(),K(u,1,1,()=>{e.blocks[h]===u&&(e.blocks[h]=null)}),Oe())}):e.block.d(1),c.c(),B(c,1),c.m(e.mount(),e.anchor),f=!0),e.block=c,e.blocks&&(e.blocks[o]=c),f&&us()}if(Sl(t)){const s=ar();if(t.then(o=>{Dt(s),n(e.then,1,e.value,o),Dt(null)},o=>{if(Dt(s),n(e.catch,2,e.error,o),Dt(null),!e.hasCatch)throw o}),e.current!==e.pending)return n(e.pending,0),!0}else{if(e.current!==e.then)return n(e.then,1,e.value,t),!0;e.resolved=t}}function dt(t,e,r){const n=e.slice(),{resolved:s}=t;t.current===t.then&&(n[t.value]=s),t.current===t.catch&&(n[t.error]=s),t.block.p(n,r)}const ma=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function xl(t,e){const r={},n={},s={$$scope:1};let o=t.length;for(;o--;){const i=t[o],a=e[o];if(a){for(const l in i)l in a||(n[l]=1);for(const l in a)s[l]||(r[l]=a[l],s[l]=1);t[o]=a}else for(const l in i)s[l]=1}for(const i in n)i in r||(r[i]=void 0);return r}function ce(t){t&&t.c()}function ie(t,e,r,n){const{fragment:s,on_mount:o,on_destroy:i,after_update:a}=t.$$;s&&s.m(e,r),n||Jt(()=>{const l=o.map(sa).filter(pr);i?i.push(...l):Ut(l),t.$$.on_mount=[]}),a.forEach(Jt)}function ae(t,e){const r=t.$$;r.fragment!==null&&(Ut(r.on_destroy),r.fragment&&r.fragment.d(e),r.on_destroy=r.fragment=null,r.ctx=[])}function ec(t,e){t.$$.dirty[0]===-1&&(Ir.push(t),Xl(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Se(t,e,r,n,s,o,i,a=[-1]){const l=Vr;Dt(t);const c=t.$$={fragment:null,ctx:null,props:o,update:L,not_equal:s,bound:ho(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(l?l.$$.context:[])),callbacks:ho(),dirty:a,skip_bound:!1,root:e.target||l.$$.root};i&&i(c.root);let f=!1;if(c.ctx=r?r(t,e.props||{},(u,h,...p)=>{const g=p.length?p[0]:h;return c.ctx&&s(c.ctx[u],c.ctx[u]=g)&&(!c.skip_bound&&c.bound[u]&&c.bound[u](g),f&&ec(t,u)),h}):[],c.update(),f=!0,Ut(c.before_update),c.fragment=n?n(c.ctx):!1,e.target){if(e.hydrate){const u=Fl(e.target);c.fragment&&c.fragment.l(u),u.forEach(A)}else c.fragment&&c.fragment.c();e.intro&&B(t.$$.fragment),ie(t,e.target,e.anchor,e.customElement),us()}Dt(l)}class Ce{$destroy(){ae(this,1),this.$destroy=L}$on(e,r){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(r),()=>{const s=n.indexOf(r);s!==-1&&n.splice(s,1)}}$set(e){this.$$set&&!Cl(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function tc(t){let e,r,n,s,o,i,a;return{c(){e=N("h1"),e.textContent="About",r=W(),n=N("p"),n.innerHTML=`This app is for validating
  <a target="_blank" href="https://ngff.openmicroscopy.org/latest/">OME-NGFF</a>
  filesets against JSON schemas.`,s=W(),o=N("p"),o.innerHTML=`You can find some
  <a target="_blank" href="https://idr.github.io/ome-ngff-samples/">sample OME-NGFF filesets</a> for IDR data.`,i=W(),a=N("p"),a.innerHTML=`This app is on GitHub at
  <a target="_blank" href="https://github.com/ome/ome-ngff-validator">ome/ome-ngff-validator</a>.`,S(e,"class","svelte-1piqss3"),S(n,"class","svelte-1piqss3"),S(o,"class","svelte-1piqss3"),S(a,"class","svelte-1piqss3")},m(l,c){T(l,e,c),T(l,r,c),T(l,n,c),T(l,s,c),T(l,o,c),T(l,i,c),T(l,a,c)},p:L,i:L,o:L,d(l){l&&A(e),l&&A(r),l&&A(n),l&&A(s),l&&A(o),l&&A(i),l&&A(a)}}}class rc extends Ce{constructor(e){super(),Se(this,e,null,tc,$e,{})}}var nc="https://ome.github.io/ome-ngff-validator/ome-main-nav.svg";function sc(t){let e,r,n,s,o,i,a,l,c,f,u;return{c(){e=N("div"),r=N("img"),s=W(),o=N("h1"),o.textContent="NGFF Validator",i=W(),a=N("ul"),l=N("li"),c=N("button"),c.textContent="About",_e(r,"height","30px"),S(r,"alt","OME Logo"),gr(r.src,n=nc)||S(r,"src",n),S(o,"class","svelte-7uc1km"),S(e,"class","navLeft svelte-7uc1km"),S(c,"class","svelte-7uc1km"),S(l,"class","svelte-7uc1km"),S(a,"class","svelte-7uc1km")},m(h,p){T(h,e,p),b(e,r),b(e,s),b(e,o),T(h,i,p),T(h,a,p),b(a,l),b(l,c),f||(u=He(c,"click",t[0]),f=!0)},p:L,i:L,o:L,d(h){h&&A(e),h&&A(i),h&&A(a),f=!1,u()}}}function oc(t){const{open:e}=Gl("simple-modal");return[()=>e(rc)]}class ic extends Ce{constructor(e){super(),Se(this,e,oc,sc,$e,{})}}var ac=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function lc(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Zn={exports:{}},pa={},St={},wr={},Gr={},he={},Br={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.regexpCode=t.getEsmExportName=t.getProperty=t.safeStringify=t.stringify=t.strConcat=t.addCodeArg=t.str=t._=t.nil=t._Code=t.Name=t.IDENTIFIER=t._CodeOrName=void 0;class e{}t._CodeOrName=e,t.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends e{constructor(v){if(super(),!t.IDENTIFIER.test(v))throw new Error("CodeGen: name must be a valid identifier");this.str=v}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}t.Name=r;class n extends e{constructor(v){super(),this._items=typeof v=="string"?[v]:v}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const v=this._items[0];return v===""||v==='""'}get str(){var v;return(v=this._str)!==null&&v!==void 0?v:this._str=this._items.reduce((k,E)=>`${k}${E}`,"")}get names(){var v;return(v=this._names)!==null&&v!==void 0?v:this._names=this._items.reduce((k,E)=>(E instanceof r&&(k[E.str]=(k[E.str]||0)+1),k),{})}}t._Code=n,t.nil=new n("");function s(d,...v){const k=[d[0]];let E=0;for(;E<v.length;)a(k,v[E]),k.push(d[++E]);return new n(k)}t._=s;const o=new n("+");function i(d,...v){const k=[p(d[0])];let E=0;for(;E<v.length;)k.push(o),a(k,v[E]),k.push(o,p(d[++E]));return l(k),new n(k)}t.str=i;function a(d,v){v instanceof n?d.push(...v._items):v instanceof r?d.push(v):d.push(u(v))}t.addCodeArg=a;function l(d){let v=1;for(;v<d.length-1;){if(d[v]===o){const k=c(d[v-1],d[v+1]);if(k!==void 0){d.splice(v-1,3,k);continue}d[v++]="+"}v++}}function c(d,v){if(v==='""')return d;if(d==='""')return v;if(typeof d=="string")return v instanceof r||d[d.length-1]!=='"'?void 0:typeof v!="string"?`${d.slice(0,-1)}${v}"`:v[0]==='"'?d.slice(0,-1)+v.slice(1):void 0;if(typeof v=="string"&&v[0]==='"'&&!(d instanceof r))return`"${d}${v.slice(1)}`}function f(d,v){return v.emptyStr()?d:d.emptyStr()?v:i`${d}${v}`}t.strConcat=f;function u(d){return typeof d=="number"||typeof d=="boolean"||d===null?d:p(Array.isArray(d)?d.join(","):d)}function h(d){return new n(p(d))}t.stringify=h;function p(d){return JSON.stringify(d).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}t.safeStringify=p;function g(d){return typeof d=="string"&&t.IDENTIFIER.test(d)?new n(`.${d}`):s`[${d}]`}t.getProperty=g;function _(d){if(typeof d=="string"&&t.IDENTIFIER.test(d))return new n(`${d}`);throw new Error(`CodeGen: invalid export name: ${d}, use explicit $id name mapping`)}t.getEsmExportName=_;function m(d){return new n(d.toString())}t.regexpCode=m})(Br);var Qn={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ValueScope=t.ValueScopeName=t.Scope=t.varKinds=t.UsedValueState=void 0;const e=Br;class r extends Error{constructor(c){super(`CodeGen: "code" for ${c} not defined`),this.value=c.value}}var n;(function(l){l[l.Started=0]="Started",l[l.Completed=1]="Completed"})(n=t.UsedValueState||(t.UsedValueState={})),t.varKinds={const:new e.Name("const"),let:new e.Name("let"),var:new e.Name("var")};class s{constructor({prefixes:c,parent:f}={}){this._names={},this._prefixes=c,this._parent=f}toName(c){return c instanceof e.Name?c:this.name(c)}name(c){return new e.Name(this._newName(c))}_newName(c){const f=this._names[c]||this._nameGroup(c);return`${c}${f.index++}`}_nameGroup(c){var f,u;if(((u=(f=this._parent)===null||f===void 0?void 0:f._prefixes)===null||u===void 0?void 0:u.has(c))||this._prefixes&&!this._prefixes.has(c))throw new Error(`CodeGen: prefix "${c}" is not allowed in this scope`);return this._names[c]={prefix:c,index:0}}}t.Scope=s;class o extends e.Name{constructor(c,f){super(f),this.prefix=c}setValue(c,{property:f,itemIndex:u}){this.value=c,this.scopePath=(0,e._)`.${new e.Name(f)}[${u}]`}}t.ValueScopeName=o;const i=(0,e._)`\n`;class a extends s{constructor(c){super(c),this._values={},this._scope=c.scope,this.opts={...c,_n:c.lines?i:e.nil}}get(){return this._scope}name(c){return new o(c,this._newName(c))}value(c,f){var u;if(f.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const h=this.toName(c),{prefix:p}=h,g=(u=f.key)!==null&&u!==void 0?u:f.ref;let _=this._values[p];if(_){const v=_.get(g);if(v)return v}else _=this._values[p]=new Map;_.set(g,h);const m=this._scope[p]||(this._scope[p]=[]),d=m.length;return m[d]=f.ref,h.setValue(f,{property:p,itemIndex:d}),h}getValue(c,f){const u=this._values[c];if(!!u)return u.get(f)}scopeRefs(c,f=this._values){return this._reduceValues(f,u=>{if(u.scopePath===void 0)throw new Error(`CodeGen: name "${u}" has no value`);return(0,e._)`${c}${u.scopePath}`})}scopeCode(c=this._values,f,u){return this._reduceValues(c,h=>{if(h.value===void 0)throw new Error(`CodeGen: name "${h}" has no value`);return h.value.code},f,u)}_reduceValues(c,f,u={},h){let p=e.nil;for(const g in c){const _=c[g];if(!_)continue;const m=u[g]=u[g]||new Map;_.forEach(d=>{if(m.has(d))return;m.set(d,n.Started);let v=f(d);if(v){const k=this.opts.es5?t.varKinds.var:t.varKinds.const;p=(0,e._)`${p}${k} ${d} = ${v};${this.opts._n}`}else if(v=h?.(d))p=(0,e._)`${p}${v}${this.opts._n}`;else throw new r(d);m.set(d,n.Completed)})}return p}}t.ValueScope=a})(Qn);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.or=t.and=t.not=t.CodeGen=t.operators=t.varKinds=t.ValueScopeName=t.ValueScope=t.Scope=t.Name=t.regexpCode=t.stringify=t.getProperty=t.nil=t.strConcat=t.str=t._=void 0;const e=Br,r=Qn;var n=Br;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(t,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(t,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(t,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return n.Name}});var s=Qn;Object.defineProperty(t,"Scope",{enumerable:!0,get:function(){return s.Scope}}),Object.defineProperty(t,"ValueScope",{enumerable:!0,get:function(){return s.ValueScope}}),Object.defineProperty(t,"ValueScopeName",{enumerable:!0,get:function(){return s.ValueScopeName}}),Object.defineProperty(t,"varKinds",{enumerable:!0,get:function(){return s.varKinds}}),t.operators={GT:new e._Code(">"),GTE:new e._Code(">="),LT:new e._Code("<"),LTE:new e._Code("<="),EQ:new e._Code("==="),NEQ:new e._Code("!=="),NOT:new e._Code("!"),OR:new e._Code("||"),AND:new e._Code("&&"),ADD:new e._Code("+")};class o{optimizeNodes(){return this}optimizeNames(y,C){return this}}class i extends o{constructor(y,C,M){super(),this.varKind=y,this.name=C,this.rhs=M}render({es5:y,_n:C}){const M=y?r.varKinds.var:this.varKind,J=this.rhs===void 0?"":` = ${this.rhs}`;return`${M} ${this.name}${J};`+C}optimizeNames(y,C){if(!!y[this.name.str])return this.rhs&&(this.rhs=me(this.rhs,y,C)),this}get names(){return this.rhs instanceof e._CodeOrName?this.rhs.names:{}}}class a extends o{constructor(y,C,M){super(),this.lhs=y,this.rhs=C,this.sideEffects=M}render({_n:y}){return`${this.lhs} = ${this.rhs};`+y}optimizeNames(y,C){if(!(this.lhs instanceof e.Name&&!y[this.lhs.str]&&!this.sideEffects))return this.rhs=me(this.rhs,y,C),this}get names(){const y=this.lhs instanceof e.Name?{}:{...this.lhs.names};return ye(y,this.rhs)}}class l extends a{constructor(y,C,M,J){super(y,M,J),this.op=C}render({_n:y}){return`${this.lhs} ${this.op}= ${this.rhs};`+y}}class c extends o{constructor(y){super(),this.label=y,this.names={}}render({_n:y}){return`${this.label}:`+y}}class f extends o{constructor(y){super(),this.label=y,this.names={}}render({_n:y}){return`break${this.label?` ${this.label}`:""};`+y}}class u extends o{constructor(y){super(),this.error=y}render({_n:y}){return`throw ${this.error};`+y}get names(){return this.error.names}}class h extends o{constructor(y){super(),this.code=y}render({_n:y}){return`${this.code};`+y}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(y,C){return this.code=me(this.code,y,C),this}get names(){return this.code instanceof e._CodeOrName?this.code.names:{}}}class p extends o{constructor(y=[]){super(),this.nodes=y}render(y){return this.nodes.reduce((C,M)=>C+M.render(y),"")}optimizeNodes(){const{nodes:y}=this;let C=y.length;for(;C--;){const M=y[C].optimizeNodes();Array.isArray(M)?y.splice(C,1,...M):M?y[C]=M:y.splice(C,1)}return y.length>0?this:void 0}optimizeNames(y,C){const{nodes:M}=this;let J=M.length;for(;J--;){const X=M[J];X.optimizeNames(y,C)||(ke(y,X.names),M.splice(J,1))}return M.length>0?this:void 0}get names(){return this.nodes.reduce((y,C)=>te(y,C.names),{})}}class g extends p{render(y){return"{"+y._n+super.render(y)+"}"+y._n}}class _ extends p{}class m extends g{}m.kind="else";class d extends g{constructor(y,C){super(C),this.condition=y}render(y){let C=`if(${this.condition})`+super.render(y);return this.else&&(C+="else "+this.else.render(y)),C}optimizeNodes(){super.optimizeNodes();const y=this.condition;if(y===!0)return this.nodes;let C=this.else;if(C){const M=C.optimizeNodes();C=this.else=Array.isArray(M)?new m(M):M}if(C)return y===!1?C instanceof d?C:C.nodes:this.nodes.length?this:new d(Ne(y),C instanceof d?[C]:C.nodes);if(!(y===!1||!this.nodes.length))return this}optimizeNames(y,C){var M;if(this.else=(M=this.else)===null||M===void 0?void 0:M.optimizeNames(y,C),!!(super.optimizeNames(y,C)||this.else))return this.condition=me(this.condition,y,C),this}get names(){const y=super.names;return ye(y,this.condition),this.else&&te(y,this.else.names),y}}d.kind="if";class v extends g{}v.kind="for";class k extends v{constructor(y){super(),this.iteration=y}render(y){return`for(${this.iteration})`+super.render(y)}optimizeNames(y,C){if(!!super.optimizeNames(y,C))return this.iteration=me(this.iteration,y,C),this}get names(){return te(super.names,this.iteration.names)}}class E extends v{constructor(y,C,M,J){super(),this.varKind=y,this.name=C,this.from=M,this.to=J}render(y){const C=y.es5?r.varKinds.var:this.varKind,{name:M,from:J,to:X}=this;return`for(${C} ${M}=${J}; ${M}<${X}; ${M}++)`+super.render(y)}get names(){const y=ye(super.names,this.from);return ye(y,this.to)}}class I extends v{constructor(y,C,M,J){super(),this.loop=y,this.varKind=C,this.name=M,this.iterable=J}render(y){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(y)}optimizeNames(y,C){if(!!super.optimizeNames(y,C))return this.iterable=me(this.iterable,y,C),this}get names(){return te(super.names,this.iterable.names)}}class w extends g{constructor(y,C,M){super(),this.name=y,this.args=C,this.async=M}render(y){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(y)}}w.kind="func";class O extends p{render(y){return"return "+super.render(y)}}O.kind="return";class q extends g{render(y){let C="try"+super.render(y);return this.catch&&(C+=this.catch.render(y)),this.finally&&(C+=this.finally.render(y)),C}optimizeNodes(){var y,C;return super.optimizeNodes(),(y=this.catch)===null||y===void 0||y.optimizeNodes(),(C=this.finally)===null||C===void 0||C.optimizeNodes(),this}optimizeNames(y,C){var M,J;return super.optimizeNames(y,C),(M=this.catch)===null||M===void 0||M.optimizeNames(y,C),(J=this.finally)===null||J===void 0||J.optimizeNames(y,C),this}get names(){const y=super.names;return this.catch&&te(y,this.catch.names),this.finally&&te(y,this.finally.names),y}}class Y extends g{constructor(y){super(),this.error=y}render(y){return`catch(${this.error})`+super.render(y)}}Y.kind="catch";class x extends g{render(y){return"finally"+super.render(y)}}x.kind="finally";class fe{constructor(y,C={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...C,_n:C.lines?`
`:""},this._extScope=y,this._scope=new r.Scope({parent:y}),this._nodes=[new _]}toString(){return this._root.render(this.opts)}name(y){return this._scope.name(y)}scopeName(y){return this._extScope.name(y)}scopeValue(y,C){const M=this._extScope.value(y,C);return(this._values[M.prefix]||(this._values[M.prefix]=new Set)).add(M),M}getScopeValue(y,C){return this._extScope.getValue(y,C)}scopeRefs(y){return this._extScope.scopeRefs(y,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(y,C,M,J){const X=this._scope.toName(C);return M!==void 0&&J&&(this._constants[X.str]=M),this._leafNode(new i(y,X,M)),X}const(y,C,M){return this._def(r.varKinds.const,y,C,M)}let(y,C,M){return this._def(r.varKinds.let,y,C,M)}var(y,C,M){return this._def(r.varKinds.var,y,C,M)}assign(y,C,M){return this._leafNode(new a(y,C,M))}add(y,C){return this._leafNode(new l(y,t.operators.ADD,C))}code(y){return typeof y=="function"?y():y!==e.nil&&this._leafNode(new h(y)),this}object(...y){const C=["{"];for(const[M,J]of y)C.length>1&&C.push(","),C.push(M),(M!==J||this.opts.es5)&&(C.push(":"),(0,e.addCodeArg)(C,J));return C.push("}"),new e._Code(C)}if(y,C,M){if(this._blockNode(new d(y)),C&&M)this.code(C).else().code(M).endIf();else if(C)this.code(C).endIf();else if(M)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(y){return this._elseNode(new d(y))}else(){return this._elseNode(new m)}endIf(){return this._endBlockNode(d,m)}_for(y,C){return this._blockNode(y),C&&this.code(C).endFor(),this}for(y,C){return this._for(new k(y),C)}forRange(y,C,M,J,X=this.opts.es5?r.varKinds.var:r.varKinds.let){const le=this._scope.toName(y);return this._for(new E(X,le,C,M),()=>J(le))}forOf(y,C,M,J=r.varKinds.const){const X=this._scope.toName(y);if(this.opts.es5){const le=C instanceof e.Name?C:this.var("_arr",C);return this.forRange("_i",0,(0,e._)`${le}.length`,ue=>{this.var(X,(0,e._)`${le}[${ue}]`),M(X)})}return this._for(new I("of",J,X,C),()=>M(X))}forIn(y,C,M,J=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(y,(0,e._)`Object.keys(${C})`,M);const X=this._scope.toName(y);return this._for(new I("in",J,X,C),()=>M(X))}endFor(){return this._endBlockNode(v)}label(y){return this._leafNode(new c(y))}break(y){return this._leafNode(new f(y))}return(y){const C=new O;if(this._blockNode(C),this.code(y),C.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(O)}try(y,C,M){if(!C&&!M)throw new Error('CodeGen: "try" without "catch" and "finally"');const J=new q;if(this._blockNode(J),this.code(y),C){const X=this.name("e");this._currNode=J.catch=new Y(X),C(X)}return M&&(this._currNode=J.finally=new x,this.code(M)),this._endBlockNode(Y,x)}throw(y){return this._leafNode(new u(y))}block(y,C){return this._blockStarts.push(this._nodes.length),y&&this.code(y).endBlock(C),this}endBlock(y){const C=this._blockStarts.pop();if(C===void 0)throw new Error("CodeGen: not in self-balancing block");const M=this._nodes.length-C;if(M<0||y!==void 0&&M!==y)throw new Error(`CodeGen: wrong number of nodes: ${M} vs ${y} expected`);return this._nodes.length=C,this}func(y,C=e.nil,M,J){return this._blockNode(new w(y,C,M)),J&&this.code(J).endFunc(),this}endFunc(){return this._endBlockNode(w)}optimize(y=1){for(;y-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(y){return this._currNode.nodes.push(y),this}_blockNode(y){this._currNode.nodes.push(y),this._nodes.push(y)}_endBlockNode(y,C){const M=this._currNode;if(M instanceof y||C&&M instanceof C)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${C?`${y.kind}/${C.kind}`:y.kind}"`)}_elseNode(y){const C=this._currNode;if(!(C instanceof d))throw new Error('CodeGen: "else" without "if"');return this._currNode=C.else=y,this}get _root(){return this._nodes[0]}get _currNode(){const y=this._nodes;return y[y.length-1]}set _currNode(y){const C=this._nodes;C[C.length-1]=y}}t.CodeGen=fe;function te(R,y){for(const C in y)R[C]=(R[C]||0)+(y[C]||0);return R}function ye(R,y){return y instanceof e._CodeOrName?te(R,y.names):R}function me(R,y,C){if(R instanceof e.Name)return M(R);if(!J(R))return R;return new e._Code(R._items.reduce((X,le)=>(le instanceof e.Name&&(le=M(le)),le instanceof e._Code?X.push(...le._items):X.push(le),X),[]));function M(X){const le=C[X.str];return le===void 0||y[X.str]!==1?X:(delete y[X.str],le)}function J(X){return X instanceof e._Code&&X._items.some(le=>le instanceof e.Name&&y[le.str]===1&&C[le.str]!==void 0)}}function ke(R,y){for(const C in y)R[C]=(R[C]||0)-(y[C]||0)}function Ne(R){return typeof R=="boolean"||typeof R=="number"||R===null?!R:(0,e._)`!${V(R)}`}t.not=Ne;const we=D(t.operators.AND);function ne(...R){return R.reduce(we)}t.and=ne;const qe=D(t.operators.OR);function H(...R){return R.reduce(qe)}t.or=H;function D(R){return(y,C)=>y===e.nil?C:C===e.nil?y:(0,e._)`${V(y)} ${R} ${V(C)}`}function V(R){return R instanceof e.Name?R:(0,e._)`(${R})`}})(he);var be={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.checkStrictMode=t.getErrorPath=t.Type=t.useFunc=t.setEvaluated=t.evaluatedPropsToName=t.mergeEvaluated=t.eachItem=t.unescapeJsonPointer=t.escapeJsonPointer=t.escapeFragment=t.unescapeFragment=t.schemaRefOrVal=t.schemaHasRulesButRef=t.schemaHasRules=t.checkUnknownRules=t.alwaysValidSchema=t.toHash=void 0;const e=he,r=Br;function n(w){const O={};for(const q of w)O[q]=!0;return O}t.toHash=n;function s(w,O){return typeof O=="boolean"?O:Object.keys(O).length===0?!0:(o(w,O),!i(O,w.self.RULES.all))}t.alwaysValidSchema=s;function o(w,O=w.schema){const{opts:q,self:Y}=w;if(!q.strictSchema||typeof O=="boolean")return;const x=Y.RULES.keywords;for(const fe in O)x[fe]||I(w,`unknown keyword: "${fe}"`)}t.checkUnknownRules=o;function i(w,O){if(typeof w=="boolean")return!w;for(const q in w)if(O[q])return!0;return!1}t.schemaHasRules=i;function a(w,O){if(typeof w=="boolean")return!w;for(const q in w)if(q!=="$ref"&&O.all[q])return!0;return!1}t.schemaHasRulesButRef=a;function l({topSchemaRef:w,schemaPath:O},q,Y,x){if(!x){if(typeof q=="number"||typeof q=="boolean")return q;if(typeof q=="string")return(0,e._)`${q}`}return(0,e._)`${w}${O}${(0,e.getProperty)(Y)}`}t.schemaRefOrVal=l;function c(w){return h(decodeURIComponent(w))}t.unescapeFragment=c;function f(w){return encodeURIComponent(u(w))}t.escapeFragment=f;function u(w){return typeof w=="number"?`${w}`:w.replace(/~/g,"~0").replace(/\//g,"~1")}t.escapeJsonPointer=u;function h(w){return w.replace(/~1/g,"/").replace(/~0/g,"~")}t.unescapeJsonPointer=h;function p(w,O){if(Array.isArray(w))for(const q of w)O(q);else O(w)}t.eachItem=p;function g({mergeNames:w,mergeToName:O,mergeValues:q,resultToName:Y}){return(x,fe,te,ye)=>{const me=te===void 0?fe:te instanceof e.Name?(fe instanceof e.Name?w(x,fe,te):O(x,fe,te),te):fe instanceof e.Name?(O(x,te,fe),fe):q(fe,te);return ye===e.Name&&!(me instanceof e.Name)?Y(x,me):me}}t.mergeEvaluated={props:g({mergeNames:(w,O,q)=>w.if((0,e._)`${q} !== true && ${O} !== undefined`,()=>{w.if((0,e._)`${O} === true`,()=>w.assign(q,!0),()=>w.assign(q,(0,e._)`${q} || {}`).code((0,e._)`Object.assign(${q}, ${O})`))}),mergeToName:(w,O,q)=>w.if((0,e._)`${q} !== true`,()=>{O===!0?w.assign(q,!0):(w.assign(q,(0,e._)`${q} || {}`),m(w,q,O))}),mergeValues:(w,O)=>w===!0?!0:{...w,...O},resultToName:_}),items:g({mergeNames:(w,O,q)=>w.if((0,e._)`${q} !== true && ${O} !== undefined`,()=>w.assign(q,(0,e._)`${O} === true ? true : ${q} > ${O} ? ${q} : ${O}`)),mergeToName:(w,O,q)=>w.if((0,e._)`${q} !== true`,()=>w.assign(q,O===!0?!0:(0,e._)`${q} > ${O} ? ${q} : ${O}`)),mergeValues:(w,O)=>w===!0?!0:Math.max(w,O),resultToName:(w,O)=>w.var("items",O)})};function _(w,O){if(O===!0)return w.var("props",!0);const q=w.var("props",(0,e._)`{}`);return O!==void 0&&m(w,q,O),q}t.evaluatedPropsToName=_;function m(w,O,q){Object.keys(q).forEach(Y=>w.assign((0,e._)`${O}${(0,e.getProperty)(Y)}`,!0))}t.setEvaluated=m;const d={};function v(w,O){return w.scopeValue("func",{ref:O,code:d[O.code]||(d[O.code]=new r._Code(O.code))})}t.useFunc=v;var k;(function(w){w[w.Num=0]="Num",w[w.Str=1]="Str"})(k=t.Type||(t.Type={}));function E(w,O,q){if(w instanceof e.Name){const Y=O===k.Num;return q?Y?(0,e._)`"[" + ${w} + "]"`:(0,e._)`"['" + ${w} + "']"`:Y?(0,e._)`"/" + ${w}`:(0,e._)`"/" + ${w}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return q?(0,e.getProperty)(w).toString():"/"+u(w)}t.getErrorPath=E;function I(w,O,q=w.opts.strictSchema){if(!!q){if(O=`strict mode: ${O}`,q===!0)throw new Error(O);w.self.logger.warn(O)}}t.checkStrictMode=I})(be);var jt={};Object.defineProperty(jt,"__esModule",{value:!0});const nt=he,cc={data:new nt.Name("data"),valCxt:new nt.Name("valCxt"),instancePath:new nt.Name("instancePath"),parentData:new nt.Name("parentData"),parentDataProperty:new nt.Name("parentDataProperty"),rootData:new nt.Name("rootData"),dynamicAnchors:new nt.Name("dynamicAnchors"),vErrors:new nt.Name("vErrors"),errors:new nt.Name("errors"),this:new nt.Name("this"),self:new nt.Name("self"),scope:new nt.Name("scope"),json:new nt.Name("json"),jsonPos:new nt.Name("jsonPos"),jsonLen:new nt.Name("jsonLen"),jsonPart:new nt.Name("jsonPart")};jt.default=cc;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.extendErrors=t.resetErrorsCount=t.reportExtraError=t.reportError=t.keyword$DataError=t.keywordError=void 0;const e=he,r=be,n=jt;t.keywordError={message:({keyword:m})=>(0,e.str)`must pass "${m}" keyword validation`},t.keyword$DataError={message:({keyword:m,schemaType:d})=>d?(0,e.str)`"${m}" keyword must be ${d} ($data)`:(0,e.str)`"${m}" keyword is invalid ($data)`};function s(m,d=t.keywordError,v,k){const{it:E}=m,{gen:I,compositeRule:w,allErrors:O}=E,q=u(m,d,v);k??(w||O)?l(I,q):c(E,(0,e._)`[${q}]`)}t.reportError=s;function o(m,d=t.keywordError,v){const{it:k}=m,{gen:E,compositeRule:I,allErrors:w}=k,O=u(m,d,v);l(E,O),I||w||c(k,n.default.vErrors)}t.reportExtraError=o;function i(m,d){m.assign(n.default.errors,d),m.if((0,e._)`${n.default.vErrors} !== null`,()=>m.if(d,()=>m.assign((0,e._)`${n.default.vErrors}.length`,d),()=>m.assign(n.default.vErrors,null)))}t.resetErrorsCount=i;function a({gen:m,keyword:d,schemaValue:v,data:k,errsCount:E,it:I}){if(E===void 0)throw new Error("ajv implementation error");const w=m.name("err");m.forRange("i",E,n.default.errors,O=>{m.const(w,(0,e._)`${n.default.vErrors}[${O}]`),m.if((0,e._)`${w}.instancePath === undefined`,()=>m.assign((0,e._)`${w}.instancePath`,(0,e.strConcat)(n.default.instancePath,I.errorPath))),m.assign((0,e._)`${w}.schemaPath`,(0,e.str)`${I.errSchemaPath}/${d}`),I.opts.verbose&&(m.assign((0,e._)`${w}.schema`,v),m.assign((0,e._)`${w}.data`,k))})}t.extendErrors=a;function l(m,d){const v=m.const("err",d);m.if((0,e._)`${n.default.vErrors} === null`,()=>m.assign(n.default.vErrors,(0,e._)`[${v}]`),(0,e._)`${n.default.vErrors}.push(${v})`),m.code((0,e._)`${n.default.errors}++`)}function c(m,d){const{gen:v,validateName:k,schemaEnv:E}=m;E.$async?v.throw((0,e._)`new ${m.ValidationError}(${d})`):(v.assign((0,e._)`${k}.errors`,d),v.return(!1))}const f={keyword:new e.Name("keyword"),schemaPath:new e.Name("schemaPath"),params:new e.Name("params"),propertyName:new e.Name("propertyName"),message:new e.Name("message"),schema:new e.Name("schema"),parentSchema:new e.Name("parentSchema")};function u(m,d,v){const{createErrors:k}=m.it;return k===!1?(0,e._)`{}`:h(m,d,v)}function h(m,d,v={}){const{gen:k,it:E}=m,I=[p(E,v),g(m,v)];return _(m,d,I),k.object(...I)}function p({errorPath:m},{instancePath:d}){const v=d?(0,e.str)`${m}${(0,r.getErrorPath)(d,r.Type.Str)}`:m;return[n.default.instancePath,(0,e.strConcat)(n.default.instancePath,v)]}function g({keyword:m,it:{errSchemaPath:d}},{schemaPath:v,parentSchema:k}){let E=k?d:(0,e.str)`${d}/${m}`;return v&&(E=(0,e.str)`${E}${(0,r.getErrorPath)(v,r.Type.Str)}`),[f.schemaPath,E]}function _(m,{params:d,message:v},k){const{keyword:E,data:I,schemaValue:w,it:O}=m,{opts:q,propertyName:Y,topSchemaRef:x,schemaPath:fe}=O;k.push([f.keyword,E],[f.params,typeof d=="function"?d(m):d||(0,e._)`{}`]),q.messages&&k.push([f.message,typeof v=="function"?v(m):v]),q.verbose&&k.push([f.schema,w],[f.parentSchema,(0,e._)`${x}${fe}`],[n.default.data,I]),Y&&k.push([f.propertyName,Y])}})(Gr);Object.defineProperty(wr,"__esModule",{value:!0});wr.boolOrEmptySchema=wr.topBoolOrEmptySchema=void 0;const uc=Gr,fc=he,dc=jt,hc={message:"boolean schema is false"};function mc(t){const{gen:e,schema:r,validateName:n}=t;r===!1?_a(t,!1):typeof r=="object"&&r.$async===!0?e.return(dc.default.data):(e.assign((0,fc._)`${n}.errors`,null),e.return(!0))}wr.topBoolOrEmptySchema=mc;function pc(t,e){const{gen:r,schema:n}=t;n===!1?(r.var(e,!1),_a(t)):r.var(e,!0)}wr.boolOrEmptySchema=pc;function _a(t,e){const{gen:r,data:n}=t,s={gen:r,keyword:"false schema",data:n,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:t};(0,uc.reportError)(s,hc,void 0,e)}var Hr={},rr={};Object.defineProperty(rr,"__esModule",{value:!0});rr.getRules=rr.isJSONType=void 0;const _c=["string","number","integer","boolean","null","object","array"],gc=new Set(_c);function vc(t){return typeof t=="string"&&gc.has(t)}rr.isJSONType=vc;function yc(){const t={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...t,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},t.number,t.string,t.array,t.object],post:{rules:[]},all:{},keywords:{}}}rr.getRules=yc;var Ft={};Object.defineProperty(Ft,"__esModule",{value:!0});Ft.shouldUseRule=Ft.shouldUseGroup=Ft.schemaHasRulesForType=void 0;function bc({schema:t,self:e},r){const n=e.RULES.types[r];return n&&n!==!0&&ga(t,n)}Ft.schemaHasRulesForType=bc;function ga(t,e){return e.rules.some(r=>va(t,r))}Ft.shouldUseGroup=ga;function va(t,e){var r;return t[e.keyword]!==void 0||((r=e.definition.implements)===null||r===void 0?void 0:r.some(n=>t[n]!==void 0))}Ft.shouldUseRule=va;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.reportTypeError=t.checkDataTypes=t.checkDataType=t.coerceAndCheckDataType=t.getJSONTypes=t.getSchemaTypes=t.DataType=void 0;const e=rr,r=Ft,n=Gr,s=he,o=be;var i;(function(k){k[k.Correct=0]="Correct",k[k.Wrong=1]="Wrong"})(i=t.DataType||(t.DataType={}));function a(k){const E=l(k.type);if(E.includes("null")){if(k.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!E.length&&k.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');k.nullable===!0&&E.push("null")}return E}t.getSchemaTypes=a;function l(k){const E=Array.isArray(k)?k:k?[k]:[];if(E.every(e.isJSONType))return E;throw new Error("type must be JSONType or JSONType[]: "+E.join(","))}t.getJSONTypes=l;function c(k,E){const{gen:I,data:w,opts:O}=k,q=u(E,O.coerceTypes),Y=E.length>0&&!(q.length===0&&E.length===1&&(0,r.schemaHasRulesForType)(k,E[0]));if(Y){const x=_(E,w,O.strictNumbers,i.Wrong);I.if(x,()=>{q.length?h(k,E,q):d(k)})}return Y}t.coerceAndCheckDataType=c;const f=new Set(["string","number","integer","boolean","null"]);function u(k,E){return E?k.filter(I=>f.has(I)||E==="array"&&I==="array"):[]}function h(k,E,I){const{gen:w,data:O,opts:q}=k,Y=w.let("dataType",(0,s._)`typeof ${O}`),x=w.let("coerced",(0,s._)`undefined`);q.coerceTypes==="array"&&w.if((0,s._)`${Y} == 'object' && Array.isArray(${O}) && ${O}.length == 1`,()=>w.assign(O,(0,s._)`${O}[0]`).assign(Y,(0,s._)`typeof ${O}`).if(_(E,O,q.strictNumbers),()=>w.assign(x,O))),w.if((0,s._)`${x} !== undefined`);for(const te of I)(f.has(te)||te==="array"&&q.coerceTypes==="array")&&fe(te);w.else(),d(k),w.endIf(),w.if((0,s._)`${x} !== undefined`,()=>{w.assign(O,x),p(k,x)});function fe(te){switch(te){case"string":w.elseIf((0,s._)`${Y} == "number" || ${Y} == "boolean"`).assign(x,(0,s._)`"" + ${O}`).elseIf((0,s._)`${O} === null`).assign(x,(0,s._)`""`);return;case"number":w.elseIf((0,s._)`${Y} == "boolean" || ${O} === null
              || (${Y} == "string" && ${O} && ${O} == +${O})`).assign(x,(0,s._)`+${O}`);return;case"integer":w.elseIf((0,s._)`${Y} === "boolean" || ${O} === null
              || (${Y} === "string" && ${O} && ${O} == +${O} && !(${O} % 1))`).assign(x,(0,s._)`+${O}`);return;case"boolean":w.elseIf((0,s._)`${O} === "false" || ${O} === 0 || ${O} === null`).assign(x,!1).elseIf((0,s._)`${O} === "true" || ${O} === 1`).assign(x,!0);return;case"null":w.elseIf((0,s._)`${O} === "" || ${O} === 0 || ${O} === false`),w.assign(x,null);return;case"array":w.elseIf((0,s._)`${Y} === "string" || ${Y} === "number"
              || ${Y} === "boolean" || ${O} === null`).assign(x,(0,s._)`[${O}]`)}}}function p({gen:k,parentData:E,parentDataProperty:I},w){k.if((0,s._)`${E} !== undefined`,()=>k.assign((0,s._)`${E}[${I}]`,w))}function g(k,E,I,w=i.Correct){const O=w===i.Correct?s.operators.EQ:s.operators.NEQ;let q;switch(k){case"null":return(0,s._)`${E} ${O} null`;case"array":q=(0,s._)`Array.isArray(${E})`;break;case"object":q=(0,s._)`${E} && typeof ${E} == "object" && !Array.isArray(${E})`;break;case"integer":q=Y((0,s._)`!(${E} % 1) && !isNaN(${E})`);break;case"number":q=Y();break;default:return(0,s._)`typeof ${E} ${O} ${k}`}return w===i.Correct?q:(0,s.not)(q);function Y(x=s.nil){return(0,s.and)((0,s._)`typeof ${E} == "number"`,x,I?(0,s._)`isFinite(${E})`:s.nil)}}t.checkDataType=g;function _(k,E,I,w){if(k.length===1)return g(k[0],E,I,w);let O;const q=(0,o.toHash)(k);if(q.array&&q.object){const Y=(0,s._)`typeof ${E} != "object"`;O=q.null?Y:(0,s._)`!${E} || ${Y}`,delete q.null,delete q.array,delete q.object}else O=s.nil;q.number&&delete q.integer;for(const Y in q)O=(0,s.and)(O,g(Y,E,I,w));return O}t.checkDataTypes=_;const m={message:({schema:k})=>`must be ${k}`,params:({schema:k,schemaValue:E})=>typeof k=="string"?(0,s._)`{type: ${k}}`:(0,s._)`{type: ${E}}`};function d(k){const E=v(k);(0,n.reportError)(E,m)}t.reportTypeError=d;function v(k){const{gen:E,data:I,schema:w}=k,O=(0,o.schemaRefOrVal)(k,w,"type");return{gen:E,keyword:"type",data:I,schema:w.type,schemaCode:O,schemaValue:O,parentSchema:w,params:{},it:k}}})(Hr);var On={};Object.defineProperty(On,"__esModule",{value:!0});On.assignDefaults=void 0;const fr=he,wc=be;function $c(t,e){const{properties:r,items:n}=t.schema;if(e==="object"&&r)for(const s in r)wo(t,s,r[s].default);else e==="array"&&Array.isArray(n)&&n.forEach((s,o)=>wo(t,o,s.default))}On.assignDefaults=$c;function wo(t,e,r){const{gen:n,compositeRule:s,data:o,opts:i}=t;if(r===void 0)return;const a=(0,fr._)`${o}${(0,fr.getProperty)(e)}`;if(s){(0,wc.checkStrictMode)(t,`default is ignored for: ${a}`);return}let l=(0,fr._)`${a} === undefined`;i.useDefaults==="empty"&&(l=(0,fr._)`${l} || ${a} === null || ${a} === ""`),n.if(l,(0,fr._)`${a} = ${(0,fr.stringify)(r)}`)}var Tt={},de={};Object.defineProperty(de,"__esModule",{value:!0});de.validateUnion=de.validateArray=de.usePattern=de.callValidateCode=de.schemaProperties=de.allSchemaProperties=de.noPropertyInData=de.propertyInData=de.isOwnProperty=de.hasPropFunc=de.reportMissingProp=de.checkMissingProp=de.checkReportMissingProp=void 0;const Ie=he,fs=be,Kt=jt,kc=be;function Ec(t,e){const{gen:r,data:n,it:s}=t;r.if(hs(r,n,e,s.opts.ownProperties),()=>{t.setParams({missingProperty:(0,Ie._)`${e}`},!0),t.error()})}de.checkReportMissingProp=Ec;function Sc({gen:t,data:e,it:{opts:r}},n,s){return(0,Ie.or)(...n.map(o=>(0,Ie.and)(hs(t,e,o,r.ownProperties),(0,Ie._)`${s} = ${o}`)))}de.checkMissingProp=Sc;function Cc(t,e){t.setParams({missingProperty:e},!0),t.error()}de.reportMissingProp=Cc;function ya(t){return t.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,Ie._)`Object.prototype.hasOwnProperty`})}de.hasPropFunc=ya;function ds(t,e,r){return(0,Ie._)`${ya(t)}.call(${e}, ${r})`}de.isOwnProperty=ds;function Nc(t,e,r,n){const s=(0,Ie._)`${e}${(0,Ie.getProperty)(r)} !== undefined`;return n?(0,Ie._)`${s} && ${ds(t,e,r)}`:s}de.propertyInData=Nc;function hs(t,e,r,n){const s=(0,Ie._)`${e}${(0,Ie.getProperty)(r)} === undefined`;return n?(0,Ie.or)(s,(0,Ie.not)(ds(t,e,r))):s}de.noPropertyInData=hs;function ba(t){return t?Object.keys(t).filter(e=>e!=="__proto__"):[]}de.allSchemaProperties=ba;function Pc(t,e){return ba(e).filter(r=>!(0,fs.alwaysValidSchema)(t,e[r]))}de.schemaProperties=Pc;function Oc({schemaCode:t,data:e,it:{gen:r,topSchemaRef:n,schemaPath:s,errorPath:o},it:i},a,l,c){const f=c?(0,Ie._)`${t}, ${e}, ${n}${s}`:e,u=[[Kt.default.instancePath,(0,Ie.strConcat)(Kt.default.instancePath,o)],[Kt.default.parentData,i.parentData],[Kt.default.parentDataProperty,i.parentDataProperty],[Kt.default.rootData,Kt.default.rootData]];i.opts.dynamicRef&&u.push([Kt.default.dynamicAnchors,Kt.default.dynamicAnchors]);const h=(0,Ie._)`${f}, ${r.object(...u)}`;return l!==Ie.nil?(0,Ie._)`${a}.call(${l}, ${h})`:(0,Ie._)`${a}(${h})`}de.callValidateCode=Oc;const Ac=(0,Ie._)`new RegExp`;function Tc({gen:t,it:{opts:e}},r){const n=e.unicodeRegExp?"u":"",{regExp:s}=e.code,o=s(r,n);return t.scopeValue("pattern",{key:o.toString(),ref:o,code:(0,Ie._)`${s.code==="new RegExp"?Ac:(0,kc.useFunc)(t,s)}(${r}, ${n})`})}de.usePattern=Tc;function jc(t){const{gen:e,data:r,keyword:n,it:s}=t,o=e.name("valid");if(s.allErrors){const a=e.let("valid",!0);return i(()=>e.assign(a,!1)),a}return e.var(o,!0),i(()=>e.break()),o;function i(a){const l=e.const("len",(0,Ie._)`${r}.length`);e.forRange("i",0,l,c=>{t.subschema({keyword:n,dataProp:c,dataPropType:fs.Type.Num},o),e.if((0,Ie.not)(o),a)})}}de.validateArray=jc;function Ic(t){const{gen:e,schema:r,keyword:n,it:s}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(l=>(0,fs.alwaysValidSchema)(s,l))&&!s.opts.unevaluated)return;const i=e.let("valid",!1),a=e.name("_valid");e.block(()=>r.forEach((l,c)=>{const f=t.subschema({keyword:n,schemaProp:c,compositeRule:!0},a);e.assign(i,(0,Ie._)`${i} || ${a}`),t.mergeValidEvaluated(f,a)||e.if((0,Ie.not)(i))})),t.result(i,()=>t.reset(),()=>t.error(!0))}de.validateUnion=Ic;Object.defineProperty(Tt,"__esModule",{value:!0});Tt.validateKeywordUsage=Tt.validSchemaType=Tt.funcKeywordCode=Tt.macroKeywordCode=void 0;const at=he,Qt=jt,Rc=de,Dc=Gr;function Mc(t,e){const{gen:r,keyword:n,schema:s,parentSchema:o,it:i}=t,a=e.macro.call(i.self,s,o,i),l=wa(r,n,a);i.opts.validateSchema!==!1&&i.self.validateSchema(a,!0);const c=r.name("valid");t.subschema({schema:a,schemaPath:at.nil,errSchemaPath:`${i.errSchemaPath}/${n}`,topSchemaRef:l,compositeRule:!0},c),t.pass(c,()=>t.error(!0))}Tt.macroKeywordCode=Mc;function Fc(t,e){var r;const{gen:n,keyword:s,schema:o,parentSchema:i,$data:a,it:l}=t;Lc(l,e);const c=!a&&e.compile?e.compile.call(l.self,o,i,l):e.validate,f=wa(n,s,c),u=n.let("valid");t.block$data(u,h),t.ok((r=e.valid)!==null&&r!==void 0?r:u);function h(){if(e.errors===!1)_(),e.modifying&&$o(t),m(()=>t.error());else{const d=e.async?p():g();e.modifying&&$o(t),m(()=>zc(t,d))}}function p(){const d=n.let("ruleErrs",null);return n.try(()=>_((0,at._)`await `),v=>n.assign(u,!1).if((0,at._)`${v} instanceof ${l.ValidationError}`,()=>n.assign(d,(0,at._)`${v}.errors`),()=>n.throw(v))),d}function g(){const d=(0,at._)`${f}.errors`;return n.assign(d,null),_(at.nil),d}function _(d=e.async?(0,at._)`await `:at.nil){const v=l.opts.passContext?Qt.default.this:Qt.default.self,k=!("compile"in e&&!a||e.schema===!1);n.assign(u,(0,at._)`${d}${(0,Rc.callValidateCode)(t,f,v,k)}`,e.modifying)}function m(d){var v;n.if((0,at.not)((v=e.valid)!==null&&v!==void 0?v:u),d)}}Tt.funcKeywordCode=Fc;function $o(t){const{gen:e,data:r,it:n}=t;e.if(n.parentData,()=>e.assign(r,(0,at._)`${n.parentData}[${n.parentDataProperty}]`))}function zc(t,e){const{gen:r}=t;r.if((0,at._)`Array.isArray(${e})`,()=>{r.assign(Qt.default.vErrors,(0,at._)`${Qt.default.vErrors} === null ? ${e} : ${Qt.default.vErrors}.concat(${e})`).assign(Qt.default.errors,(0,at._)`${Qt.default.vErrors}.length`),(0,Dc.extendErrors)(t)},()=>t.error())}function Lc({schemaEnv:t},e){if(e.async&&!t.$async)throw new Error("async keyword in sync schema")}function wa(t,e,r){if(r===void 0)throw new Error(`keyword "${e}" failed to compile`);return t.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,at.stringify)(r)})}function Uc(t,e,r=!1){return!e.length||e.some(n=>n==="array"?Array.isArray(t):n==="object"?t&&typeof t=="object"&&!Array.isArray(t):typeof t==n||r&&typeof t>"u")}Tt.validSchemaType=Uc;function Vc({schema:t,opts:e,self:r,errSchemaPath:n},s,o){if(Array.isArray(s.keyword)?!s.keyword.includes(o):s.keyword!==o)throw new Error("ajv implementation error");const i=s.dependencies;if(i?.some(a=>!Object.prototype.hasOwnProperty.call(t,a)))throw new Error(`parent schema must have dependencies of ${o}: ${i.join(",")}`);if(s.validateSchema&&!s.validateSchema(t[o])){const l=`keyword "${o}" value is invalid at path "${n}": `+r.errorsText(s.validateSchema.errors);if(e.validateSchema==="log")r.logger.error(l);else throw new Error(l)}}Tt.validateKeywordUsage=Vc;var Ht={};Object.defineProperty(Ht,"__esModule",{value:!0});Ht.extendSubschemaMode=Ht.extendSubschemaData=Ht.getSubschema=void 0;const At=he,$a=be;function Bc(t,{keyword:e,schemaProp:r,schema:n,schemaPath:s,errSchemaPath:o,topSchemaRef:i}){if(e!==void 0&&n!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(e!==void 0){const a=t.schema[e];return r===void 0?{schema:a,schemaPath:(0,At._)`${t.schemaPath}${(0,At.getProperty)(e)}`,errSchemaPath:`${t.errSchemaPath}/${e}`}:{schema:a[r],schemaPath:(0,At._)`${t.schemaPath}${(0,At.getProperty)(e)}${(0,At.getProperty)(r)}`,errSchemaPath:`${t.errSchemaPath}/${e}/${(0,$a.escapeFragment)(r)}`}}if(n!==void 0){if(s===void 0||o===void 0||i===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:n,schemaPath:s,topSchemaRef:i,errSchemaPath:o}}throw new Error('either "keyword" or "schema" must be passed')}Ht.getSubschema=Bc;function qc(t,e,{dataProp:r,dataPropType:n,data:s,dataTypes:o,propertyName:i}){if(s!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:a}=e;if(r!==void 0){const{errorPath:c,dataPathArr:f,opts:u}=e,h=a.let("data",(0,At._)`${e.data}${(0,At.getProperty)(r)}`,!0);l(h),t.errorPath=(0,At.str)`${c}${(0,$a.getErrorPath)(r,n,u.jsPropertySyntax)}`,t.parentDataProperty=(0,At._)`${r}`,t.dataPathArr=[...f,t.parentDataProperty]}if(s!==void 0){const c=s instanceof At.Name?s:a.let("data",s,!0);l(c),i!==void 0&&(t.propertyName=i)}o&&(t.dataTypes=o);function l(c){t.data=c,t.dataLevel=e.dataLevel+1,t.dataTypes=[],e.definedProperties=new Set,t.parentData=e.data,t.dataNames=[...e.dataNames,c]}}Ht.extendSubschemaData=qc;function Kc(t,{jtdDiscriminator:e,jtdMetadata:r,compositeRule:n,createErrors:s,allErrors:o}){n!==void 0&&(t.compositeRule=n),s!==void 0&&(t.createErrors=s),o!==void 0&&(t.allErrors=o),t.jtdDiscriminator=e,t.jtdMetadata=r}Ht.extendSubschemaMode=Kc;var et={},ka=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var n,s,o;if(Array.isArray(e)){if(n=e.length,n!=r.length)return!1;for(s=n;s--!==0;)if(!t(e[s],r[s]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(o=Object.keys(e),n=o.length,n!==Object.keys(r).length)return!1;for(s=n;s--!==0;)if(!Object.prototype.hasOwnProperty.call(r,o[s]))return!1;for(s=n;s--!==0;){var i=o[s];if(!t(e[i],r[i]))return!1}return!0}return e!==e&&r!==r},Ea={exports:{}},Gt=Ea.exports=function(t,e,r){typeof e=="function"&&(r=e,e={}),r=e.cb||r;var n=typeof r=="function"?r:r.pre||function(){},s=r.post||function(){};hn(e,n,s,t,"",t)};Gt.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};Gt.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};Gt.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};Gt.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function hn(t,e,r,n,s,o,i,a,l,c){if(n&&typeof n=="object"&&!Array.isArray(n)){e(n,s,o,i,a,l,c);for(var f in n){var u=n[f];if(Array.isArray(u)){if(f in Gt.arrayKeywords)for(var h=0;h<u.length;h++)hn(t,e,r,u[h],s+"/"+f+"/"+h,o,s,f,n,h)}else if(f in Gt.propsKeywords){if(u&&typeof u=="object")for(var p in u)hn(t,e,r,u[p],s+"/"+f+"/"+Wc(p),o,s,f,n,p)}else(f in Gt.keywords||t.allKeys&&!(f in Gt.skipKeywords))&&hn(t,e,r,u,s+"/"+f,o,s,f,n)}r(n,s,o,i,a,l,c)}}function Wc(t){return t.replace(/~/g,"~0").replace(/\//g,"~1")}Object.defineProperty(et,"__esModule",{value:!0});et.getSchemaRefs=et.resolveUrl=et.normalizeId=et._getFullPath=et.getFullPath=et.inlineRef=void 0;const Gc=be,Hc=ka,Jc=Ea.exports,Xc=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function Yc(t,e=!0){return typeof t=="boolean"?!0:e===!0?!xn(t):e?Sa(t)<=e:!1}et.inlineRef=Yc;const Zc=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function xn(t){for(const e in t){if(Zc.has(e))return!0;const r=t[e];if(Array.isArray(r)&&r.some(xn)||typeof r=="object"&&xn(r))return!0}return!1}function Sa(t){let e=0;for(const r in t){if(r==="$ref")return 1/0;if(e++,!Xc.has(r)&&(typeof t[r]=="object"&&(0,Gc.eachItem)(t[r],n=>e+=Sa(n)),e===1/0))return 1/0}return e}function Ca(t,e="",r){r!==!1&&(e=br(e));const n=t.parse(e);return Na(t,n)}et.getFullPath=Ca;function Na(t,e){return t.serialize(e).split("#")[0]+"#"}et._getFullPath=Na;const Qc=/#\/?$/;function br(t){return t?t.replace(Qc,""):""}et.normalizeId=br;function xc(t,e,r){return r=br(r),t.resolve(e,r)}et.resolveUrl=xc;const eu=/^[a-z_][-a-z0-9._]*$/i;function tu(t,e){if(typeof t=="boolean")return{};const{schemaId:r,uriResolver:n}=this.opts,s=br(t[r]||e),o={"":s},i=Ca(n,s,!1),a={},l=new Set;return Jc(t,{allKeys:!0},(u,h,p,g)=>{if(g===void 0)return;const _=i+h;let m=o[g];typeof u[r]=="string"&&(m=d.call(this,u[r])),v.call(this,u.$anchor),v.call(this,u.$dynamicAnchor),o[h]=m;function d(k){const E=this.opts.uriResolver.resolve;if(k=br(m?E(m,k):k),l.has(k))throw f(k);l.add(k);let I=this.refs[k];return typeof I=="string"&&(I=this.refs[I]),typeof I=="object"?c(u,I.schema,k):k!==br(_)&&(k[0]==="#"?(c(u,a[k],k),a[k]=u):this.refs[k]=_),k}function v(k){if(typeof k=="string"){if(!eu.test(k))throw new Error(`invalid anchor "${k}"`);d.call(this,`#${k}`)}}}),a;function c(u,h,p){if(h!==void 0&&!Hc(u,h))throw f(p)}function f(u){return new Error(`reference "${u}" resolves to more than one schema`)}}et.getSchemaRefs=tu;Object.defineProperty(St,"__esModule",{value:!0});St.getData=St.KeywordCxt=St.validateFunctionCode=void 0;const Pa=wr,ko=Hr,ms=Ft,wn=Hr,ru=On,Mr=Tt,qn=Ht,Z=he,re=jt,nu=et,zt=be,Ar=Gr;function su(t){if(Ta(t)&&(ja(t),Aa(t))){au(t);return}Oa(t,()=>(0,Pa.topBoolOrEmptySchema)(t))}St.validateFunctionCode=su;function Oa({gen:t,validateName:e,schema:r,schemaEnv:n,opts:s},o){s.code.es5?t.func(e,(0,Z._)`${re.default.data}, ${re.default.valCxt}`,n.$async,()=>{t.code((0,Z._)`"use strict"; ${Eo(r,s)}`),iu(t,s),t.code(o)}):t.func(e,(0,Z._)`${re.default.data}, ${ou(s)}`,n.$async,()=>t.code(Eo(r,s)).code(o))}function ou(t){return(0,Z._)`{${re.default.instancePath}="", ${re.default.parentData}, ${re.default.parentDataProperty}, ${re.default.rootData}=${re.default.data}${t.dynamicRef?(0,Z._)`, ${re.default.dynamicAnchors}={}`:Z.nil}}={}`}function iu(t,e){t.if(re.default.valCxt,()=>{t.var(re.default.instancePath,(0,Z._)`${re.default.valCxt}.${re.default.instancePath}`),t.var(re.default.parentData,(0,Z._)`${re.default.valCxt}.${re.default.parentData}`),t.var(re.default.parentDataProperty,(0,Z._)`${re.default.valCxt}.${re.default.parentDataProperty}`),t.var(re.default.rootData,(0,Z._)`${re.default.valCxt}.${re.default.rootData}`),e.dynamicRef&&t.var(re.default.dynamicAnchors,(0,Z._)`${re.default.valCxt}.${re.default.dynamicAnchors}`)},()=>{t.var(re.default.instancePath,(0,Z._)`""`),t.var(re.default.parentData,(0,Z._)`undefined`),t.var(re.default.parentDataProperty,(0,Z._)`undefined`),t.var(re.default.rootData,re.default.data),e.dynamicRef&&t.var(re.default.dynamicAnchors,(0,Z._)`{}`)})}function au(t){const{schema:e,opts:r,gen:n}=t;Oa(t,()=>{r.$comment&&e.$comment&&Ra(t),du(t),n.let(re.default.vErrors,null),n.let(re.default.errors,0),r.unevaluated&&lu(t),Ia(t),pu(t)})}function lu(t){const{gen:e,validateName:r}=t;t.evaluated=e.const("evaluated",(0,Z._)`${r}.evaluated`),e.if((0,Z._)`${t.evaluated}.dynamicProps`,()=>e.assign((0,Z._)`${t.evaluated}.props`,(0,Z._)`undefined`)),e.if((0,Z._)`${t.evaluated}.dynamicItems`,()=>e.assign((0,Z._)`${t.evaluated}.items`,(0,Z._)`undefined`))}function Eo(t,e){const r=typeof t=="object"&&t[e.schemaId];return r&&(e.code.source||e.code.process)?(0,Z._)`/*# sourceURL=${r} */`:Z.nil}function cu(t,e){if(Ta(t)&&(ja(t),Aa(t))){uu(t,e);return}(0,Pa.boolOrEmptySchema)(t,e)}function Aa({schema:t,self:e}){if(typeof t=="boolean")return!t;for(const r in t)if(e.RULES.all[r])return!0;return!1}function Ta(t){return typeof t.schema!="boolean"}function uu(t,e){const{schema:r,gen:n,opts:s}=t;s.$comment&&r.$comment&&Ra(t),hu(t),mu(t);const o=n.const("_errs",re.default.errors);Ia(t,o),n.var(e,(0,Z._)`${o} === ${re.default.errors}`)}function ja(t){(0,zt.checkUnknownRules)(t),fu(t)}function Ia(t,e){if(t.opts.jtd)return So(t,[],!1,e);const r=(0,ko.getSchemaTypes)(t.schema),n=(0,ko.coerceAndCheckDataType)(t,r);So(t,r,!n,e)}function fu(t){const{schema:e,errSchemaPath:r,opts:n,self:s}=t;e.$ref&&n.ignoreKeywordsWithRef&&(0,zt.schemaHasRulesButRef)(e,s.RULES)&&s.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function du(t){const{schema:e,opts:r}=t;e.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,zt.checkStrictMode)(t,"default is ignored in the schema root")}function hu(t){const e=t.schema[t.opts.schemaId];e&&(t.baseId=(0,nu.resolveUrl)(t.opts.uriResolver,t.baseId,e))}function mu(t){if(t.schema.$async&&!t.schemaEnv.$async)throw new Error("async schema in sync schema")}function Ra({gen:t,schemaEnv:e,schema:r,errSchemaPath:n,opts:s}){const o=r.$comment;if(s.$comment===!0)t.code((0,Z._)`${re.default.self}.logger.log(${o})`);else if(typeof s.$comment=="function"){const i=(0,Z.str)`${n}/$comment`,a=t.scopeValue("root",{ref:e.root});t.code((0,Z._)`${re.default.self}.opts.$comment(${o}, ${i}, ${a}.schema)`)}}function pu(t){const{gen:e,schemaEnv:r,validateName:n,ValidationError:s,opts:o}=t;r.$async?e.if((0,Z._)`${re.default.errors} === 0`,()=>e.return(re.default.data),()=>e.throw((0,Z._)`new ${s}(${re.default.vErrors})`)):(e.assign((0,Z._)`${n}.errors`,re.default.vErrors),o.unevaluated&&_u(t),e.return((0,Z._)`${re.default.errors} === 0`))}function _u({gen:t,evaluated:e,props:r,items:n}){r instanceof Z.Name&&t.assign((0,Z._)`${e}.props`,r),n instanceof Z.Name&&t.assign((0,Z._)`${e}.items`,n)}function So(t,e,r,n){const{gen:s,schema:o,data:i,allErrors:a,opts:l,self:c}=t,{RULES:f}=c;if(o.$ref&&(l.ignoreKeywordsWithRef||!(0,zt.schemaHasRulesButRef)(o,f))){s.block(()=>Ma(t,"$ref",f.all.$ref.definition));return}l.jtd||gu(t,e),s.block(()=>{for(const h of f.rules)u(h);u(f.post)});function u(h){!(0,ms.shouldUseGroup)(o,h)||(h.type?(s.if((0,wn.checkDataType)(h.type,i,l.strictNumbers)),Co(t,h),e.length===1&&e[0]===h.type&&r&&(s.else(),(0,wn.reportTypeError)(t)),s.endIf()):Co(t,h),a||s.if((0,Z._)`${re.default.errors} === ${n||0}`))}}function Co(t,e){const{gen:r,schema:n,opts:{useDefaults:s}}=t;s&&(0,ru.assignDefaults)(t,e.type),r.block(()=>{for(const o of e.rules)(0,ms.shouldUseRule)(n,o)&&Ma(t,o.keyword,o.definition,e.type)})}function gu(t,e){t.schemaEnv.meta||!t.opts.strictTypes||(vu(t,e),t.opts.allowUnionTypes||yu(t,e),bu(t,t.dataTypes))}function vu(t,e){if(!!e.length){if(!t.dataTypes.length){t.dataTypes=e;return}e.forEach(r=>{No(t.dataTypes,r)||ps(t,`type "${r}" not allowed by context "${t.dataTypes.join(",")}"`)}),t.dataTypes=t.dataTypes.filter(r=>No(e,r))}}function yu(t,e){e.length>1&&!(e.length===2&&e.includes("null"))&&ps(t,"use allowUnionTypes to allow union type keyword")}function bu(t,e){const r=t.self.RULES.all;for(const n in r){const s=r[n];if(typeof s=="object"&&(0,ms.shouldUseRule)(t.schema,s)){const{type:o}=s.definition;o.length&&!o.some(i=>wu(e,i))&&ps(t,`missing type "${o.join(",")}" for keyword "${n}"`)}}}function wu(t,e){return t.includes(e)||e==="number"&&t.includes("integer")}function No(t,e){return t.includes(e)||e==="integer"&&t.includes("number")}function ps(t,e){e+=` at "${t.schemaEnv.baseId+t.errSchemaPath}" (strictTypes)`,(0,zt.checkStrictMode)(t,e,t.opts.strictTypes)}class Da{constructor(e,r,n){if((0,Mr.validateKeywordUsage)(e,r,n),this.gen=e.gen,this.allErrors=e.allErrors,this.keyword=n,this.data=e.data,this.schema=e.schema[n],this.$data=r.$data&&e.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,zt.schemaRefOrVal)(e,this.schema,n,this.$data),this.schemaType=r.schemaType,this.parentSchema=e.schema,this.params={},this.it=e,this.def=r,this.$data)this.schemaCode=e.gen.const("vSchema",Fa(this.$data,e));else if(this.schemaCode=this.schemaValue,!(0,Mr.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=e.gen.const("_errs",re.default.errors))}result(e,r,n){this.failResult((0,Z.not)(e),r,n)}failResult(e,r,n){this.gen.if(e),n?n():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(e,r){this.failResult((0,Z.not)(e),void 0,r)}fail(e){if(e===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(e),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(e){if(!this.$data)return this.fail(e);const{schemaCode:r}=this;this.fail((0,Z._)`${r} !== undefined && (${(0,Z.or)(this.invalid$data(),e)})`)}error(e,r,n){if(r){this.setParams(r),this._error(e,n),this.setParams({});return}this._error(e,n)}_error(e,r){(e?Ar.reportExtraError:Ar.reportError)(this,this.def.error,r)}$dataError(){(0,Ar.reportError)(this,this.def.$dataError||Ar.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,Ar.resetErrorsCount)(this.gen,this.errsCount)}ok(e){this.allErrors||this.gen.if(e)}setParams(e,r){r?Object.assign(this.params,e):this.params=e}block$data(e,r,n=Z.nil){this.gen.block(()=>{this.check$data(e,n),r()})}check$data(e=Z.nil,r=Z.nil){if(!this.$data)return;const{gen:n,schemaCode:s,schemaType:o,def:i}=this;n.if((0,Z.or)((0,Z._)`${s} === undefined`,r)),e!==Z.nil&&n.assign(e,!0),(o.length||i.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),e!==Z.nil&&n.assign(e,!1)),n.else()}invalid$data(){const{gen:e,schemaCode:r,schemaType:n,def:s,it:o}=this;return(0,Z.or)(i(),a());function i(){if(n.length){if(!(r instanceof Z.Name))throw new Error("ajv implementation error");const l=Array.isArray(n)?n:[n];return(0,Z._)`${(0,wn.checkDataTypes)(l,r,o.opts.strictNumbers,wn.DataType.Wrong)}`}return Z.nil}function a(){if(s.validateSchema){const l=e.scopeValue("validate$data",{ref:s.validateSchema});return(0,Z._)`!${l}(${r})`}return Z.nil}}subschema(e,r){const n=(0,qn.getSubschema)(this.it,e);(0,qn.extendSubschemaData)(n,this.it,e),(0,qn.extendSubschemaMode)(n,e);const s={...this.it,...n,items:void 0,props:void 0};return cu(s,r),s}mergeEvaluated(e,r){const{it:n,gen:s}=this;!n.opts.unevaluated||(n.props!==!0&&e.props!==void 0&&(n.props=zt.mergeEvaluated.props(s,e.props,n.props,r)),n.items!==!0&&e.items!==void 0&&(n.items=zt.mergeEvaluated.items(s,e.items,n.items,r)))}mergeValidEvaluated(e,r){const{it:n,gen:s}=this;if(n.opts.unevaluated&&(n.props!==!0||n.items!==!0))return s.if(r,()=>this.mergeEvaluated(e,Z.Name)),!0}}St.KeywordCxt=Da;function Ma(t,e,r,n){const s=new Da(t,r,e);"code"in r?r.code(s,n):s.$data&&r.validate?(0,Mr.funcKeywordCode)(s,r):"macro"in r?(0,Mr.macroKeywordCode)(s,r):(r.compile||r.validate)&&(0,Mr.funcKeywordCode)(s,r)}const $u=/^\/(?:[^~]|~0|~1)*$/,ku=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Fa(t,{dataLevel:e,dataNames:r,dataPathArr:n}){let s,o;if(t==="")return re.default.rootData;if(t[0]==="/"){if(!$u.test(t))throw new Error(`Invalid JSON-pointer: ${t}`);s=t,o=re.default.rootData}else{const c=ku.exec(t);if(!c)throw new Error(`Invalid JSON-pointer: ${t}`);const f=+c[1];if(s=c[2],s==="#"){if(f>=e)throw new Error(l("property/index",f));return n[e-f]}if(f>e)throw new Error(l("data",f));if(o=r[e-f],!s)return o}let i=o;const a=s.split("/");for(const c of a)c&&(o=(0,Z._)`${o}${(0,Z.getProperty)((0,zt.unescapeJsonPointer)(c))}`,i=(0,Z._)`${i} && ${o}`);return i;function l(c,f){return`Cannot access ${c} ${f} levels up, current level is ${e}`}}St.getData=Fa;var An={};Object.defineProperty(An,"__esModule",{value:!0});class Eu extends Error{constructor(e){super("validation failed"),this.errors=e,this.ajv=this.validation=!0}}An.default=Eu;var Tn={};Object.defineProperty(Tn,"__esModule",{value:!0});const Kn=et;class Su extends Error{constructor(e,r,n,s){super(s||`can't resolve reference ${n} from id ${r}`),this.missingRef=(0,Kn.resolveUrl)(e,r,n),this.missingSchema=(0,Kn.normalizeId)((0,Kn.getFullPath)(e,this.missingRef))}}Tn.default=Su;var ft={};Object.defineProperty(ft,"__esModule",{value:!0});ft.resolveSchema=ft.getCompilingSchema=ft.resolveRef=ft.compileSchema=ft.SchemaEnv=void 0;const wt=he,Cu=An,Zt=jt,Et=et,Po=be,Nu=St;class jn{constructor(e){var r;this.refs={},this.dynamicAnchors={};let n;typeof e.schema=="object"&&(n=e.schema),this.schema=e.schema,this.schemaId=e.schemaId,this.root=e.root||this,this.baseId=(r=e.baseId)!==null&&r!==void 0?r:(0,Et.normalizeId)(n?.[e.schemaId||"$id"]),this.schemaPath=e.schemaPath,this.localRefs=e.localRefs,this.meta=e.meta,this.$async=n?.$async,this.refs={}}}ft.SchemaEnv=jn;function _s(t){const e=za.call(this,t);if(e)return e;const r=(0,Et.getFullPath)(this.opts.uriResolver,t.root.baseId),{es5:n,lines:s}=this.opts.code,{ownProperties:o}=this.opts,i=new wt.CodeGen(this.scope,{es5:n,lines:s,ownProperties:o});let a;t.$async&&(a=i.scopeValue("Error",{ref:Cu.default,code:(0,wt._)`require("ajv/dist/runtime/validation_error").default`}));const l=i.scopeName("validate");t.validateName=l;const c={gen:i,allErrors:this.opts.allErrors,data:Zt.default.data,parentData:Zt.default.parentData,parentDataProperty:Zt.default.parentDataProperty,dataNames:[Zt.default.data],dataPathArr:[wt.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:i.scopeValue("schema",this.opts.code.source===!0?{ref:t.schema,code:(0,wt.stringify)(t.schema)}:{ref:t.schema}),validateName:l,ValidationError:a,schema:t.schema,schemaEnv:t,rootId:r,baseId:t.baseId||r,schemaPath:wt.nil,errSchemaPath:t.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,wt._)`""`,opts:this.opts,self:this};let f;try{this._compilations.add(t),(0,Nu.validateFunctionCode)(c),i.optimize(this.opts.code.optimize);const u=i.toString();f=`${i.scopeRefs(Zt.default.scope)}return ${u}`,this.opts.code.process&&(f=this.opts.code.process(f,t));const p=new Function(`${Zt.default.self}`,`${Zt.default.scope}`,f)(this,this.scope.get());if(this.scope.value(l,{ref:p}),p.errors=null,p.schema=t.schema,p.schemaEnv=t,t.$async&&(p.$async=!0),this.opts.code.source===!0&&(p.source={validateName:l,validateCode:u,scopeValues:i._values}),this.opts.unevaluated){const{props:g,items:_}=c;p.evaluated={props:g instanceof wt.Name?void 0:g,items:_ instanceof wt.Name?void 0:_,dynamicProps:g instanceof wt.Name,dynamicItems:_ instanceof wt.Name},p.source&&(p.source.evaluated=(0,wt.stringify)(p.evaluated))}return t.validate=p,t}catch(u){throw delete t.validate,delete t.validateName,f&&this.logger.error("Error compiling schema, function code:",f),u}finally{this._compilations.delete(t)}}ft.compileSchema=_s;function Pu(t,e,r){var n;r=(0,Et.resolveUrl)(this.opts.uriResolver,e,r);const s=t.refs[r];if(s)return s;let o=Tu.call(this,t,r);if(o===void 0){const i=(n=t.localRefs)===null||n===void 0?void 0:n[r],{schemaId:a}=this.opts;i&&(o=new jn({schema:i,schemaId:a,root:t,baseId:e}))}if(o!==void 0)return t.refs[r]=Ou.call(this,o)}ft.resolveRef=Pu;function Ou(t){return(0,Et.inlineRef)(t.schema,this.opts.inlineRefs)?t.schema:t.validate?t:_s.call(this,t)}function za(t){for(const e of this._compilations)if(Au(e,t))return e}ft.getCompilingSchema=za;function Au(t,e){return t.schema===e.schema&&t.root===e.root&&t.baseId===e.baseId}function Tu(t,e){let r;for(;typeof(r=this.refs[e])=="string";)e=r;return r||this.schemas[e]||In.call(this,t,e)}function In(t,e){const r=this.opts.uriResolver.parse(e),n=(0,Et._getFullPath)(this.opts.uriResolver,r);let s=(0,Et.getFullPath)(this.opts.uriResolver,t.baseId,void 0);if(Object.keys(t.schema).length>0&&n===s)return Wn.call(this,r,t);const o=(0,Et.normalizeId)(n),i=this.refs[o]||this.schemas[o];if(typeof i=="string"){const a=In.call(this,t,i);return typeof a?.schema!="object"?void 0:Wn.call(this,r,a)}if(typeof i?.schema=="object"){if(i.validate||_s.call(this,i),o===(0,Et.normalizeId)(e)){const{schema:a}=i,{schemaId:l}=this.opts,c=a[l];return c&&(s=(0,Et.resolveUrl)(this.opts.uriResolver,s,c)),new jn({schema:a,schemaId:l,root:t,baseId:s})}return Wn.call(this,r,i)}}ft.resolveSchema=In;const ju=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function Wn(t,{baseId:e,schema:r,root:n}){var s;if(((s=t.fragment)===null||s===void 0?void 0:s[0])!=="/")return;for(const a of t.fragment.slice(1).split("/")){if(typeof r=="boolean")return;const l=r[(0,Po.unescapeFragment)(a)];if(l===void 0)return;r=l;const c=typeof r=="object"&&r[this.opts.schemaId];!ju.has(a)&&c&&(e=(0,Et.resolveUrl)(this.opts.uriResolver,e,c))}let o;if(typeof r!="boolean"&&r.$ref&&!(0,Po.schemaHasRulesButRef)(r,this.RULES)){const a=(0,Et.resolveUrl)(this.opts.uriResolver,e,r.$ref);o=In.call(this,n,a)}const{schemaId:i}=this.opts;if(o=o||new jn({schema:r,schemaId:i,root:n,baseId:e}),o.schema!==o.root.schema)return o}const Iu="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",Ru="Meta-schema for $data reference (JSON AnySchema extension proposal)",Du="object",Mu=["$data"],Fu={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},zu=!1;var Lu={$id:Iu,description:Ru,type:Du,required:Mu,properties:Fu,additionalProperties:zu},gs={},es={exports:{}};/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */(function(t,e){(function(r,n){n(e)})(ac,function(r){function n(){for(var P=arguments.length,$=Array(P),j=0;j<P;j++)$[j]=arguments[j];if($.length>1){$[0]=$[0].slice(0,-1);for(var U=$.length-1,F=1;F<U;++F)$[F]=$[F].slice(1,-1);return $[U]=$[U].slice(1),$.join("")}else return $[0]}function s(P){return"(?:"+P+")"}function o(P){return P===void 0?"undefined":P===null?"null":Object.prototype.toString.call(P).split(" ").pop().split("]").shift().toLowerCase()}function i(P){return P.toUpperCase()}function a(P){return P!=null?P instanceof Array?P:typeof P.length!="number"||P.split||P.setInterval||P.call?[P]:Array.prototype.slice.call(P):[]}function l(P,$){var j=P;if($)for(var U in $)j[U]=$[U];return j}function c(P){var $="[A-Za-z]",j="[0-9]",U=n(j,"[A-Fa-f]"),F=s(s("%[EFef]"+U+"%"+U+U+"%"+U+U)+"|"+s("%[89A-Fa-f]"+U+"%"+U+U)+"|"+s("%"+U+U)),Q="[\\:\\/\\?\\#\\[\\]\\@]",ee="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",ve=n(Q,ee),je=P?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",Ue=P?"[\\uE000-\\uF8FF]":"[]",pe=n($,j,"[\\-\\.\\_\\~]",je);s($+n($,j,"[\\+\\-\\.]")+"*"),s(s(F+"|"+n(pe,ee,"[\\:]"))+"*");var Te=s(s("25[0-5]")+"|"+s("2[0-4]"+j)+"|"+s("1"+j+j)+"|"+s("0?[1-9]"+j)+"|0?0?"+j),Ve=s(Te+"\\."+Te+"\\."+Te+"\\."+Te),oe=s(U+"{1,4}"),Re=s(s(oe+"\\:"+oe)+"|"+Ve),Ge=s(s(oe+"\\:")+"{6}"+Re),De=s("\\:\\:"+s(oe+"\\:")+"{5}"+Re),qt=s(s(oe)+"?\\:\\:"+s(oe+"\\:")+"{4}"+Re),Nt=s(s(s(oe+"\\:")+"{0,1}"+oe)+"?\\:\\:"+s(oe+"\\:")+"{3}"+Re),Pt=s(s(s(oe+"\\:")+"{0,2}"+oe)+"?\\:\\:"+s(oe+"\\:")+"{2}"+Re),ur=s(s(s(oe+"\\:")+"{0,3}"+oe)+"?\\:\\:"+oe+"\\:"+Re),Xt=s(s(s(oe+"\\:")+"{0,4}"+oe)+"?\\:\\:"+Re),_t=s(s(s(oe+"\\:")+"{0,5}"+oe)+"?\\:\\:"+oe),Ot=s(s(s(oe+"\\:")+"{0,6}"+oe)+"?\\:\\:"),Yt=s([Ge,De,qt,Nt,Pt,ur,Xt,_t,Ot].join("|")),Rt=s(s(pe+"|"+F)+"+");s("[vV]"+U+"+\\."+n(pe,ee,"[\\:]")+"+"),s(s(F+"|"+n(pe,ee))+"*");var Nr=s(F+"|"+n(pe,ee,"[\\:\\@]"));return s(s(F+"|"+n(pe,ee,"[\\@]"))+"+"),s(s(Nr+"|"+n("[\\/\\?]",Ue))+"*"),{NOT_SCHEME:new RegExp(n("[^]",$,j,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(n("[^\\%\\:]",pe,ee),"g"),NOT_HOST:new RegExp(n("[^\\%\\[\\]\\:]",pe,ee),"g"),NOT_PATH:new RegExp(n("[^\\%\\/\\:\\@]",pe,ee),"g"),NOT_PATH_NOSCHEME:new RegExp(n("[^\\%\\/\\@]",pe,ee),"g"),NOT_QUERY:new RegExp(n("[^\\%]",pe,ee,"[\\:\\@\\/\\?]",Ue),"g"),NOT_FRAGMENT:new RegExp(n("[^\\%]",pe,ee,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(n("[^]",pe,ee),"g"),UNRESERVED:new RegExp(pe,"g"),OTHER_CHARS:new RegExp(n("[^\\%]",pe,ve),"g"),PCT_ENCODED:new RegExp(F,"g"),IPV4ADDRESS:new RegExp("^("+Ve+")$"),IPV6ADDRESS:new RegExp("^\\[?("+Yt+")"+s(s("\\%25|\\%(?!"+U+"{2})")+"("+Rt+")")+"?\\]?$")}}var f=c(!1),u=c(!0),h=function(){function P($,j){var U=[],F=!0,Q=!1,ee=void 0;try{for(var ve=$[Symbol.iterator](),je;!(F=(je=ve.next()).done)&&(U.push(je.value),!(j&&U.length===j));F=!0);}catch(Ue){Q=!0,ee=Ue}finally{try{!F&&ve.return&&ve.return()}finally{if(Q)throw ee}}return U}return function($,j){if(Array.isArray($))return $;if(Symbol.iterator in Object($))return P($,j);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),p=function(P){if(Array.isArray(P)){for(var $=0,j=Array(P.length);$<P.length;$++)j[$]=P[$];return j}else return Array.from(P)},g=2147483647,_=36,m=1,d=26,v=38,k=700,E=72,I=128,w="-",O=/^xn--/,q=/[^\0-\x7E]/,Y=/[\x2E\u3002\uFF0E\uFF61]/g,x={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},fe=_-m,te=Math.floor,ye=String.fromCharCode;function me(P){throw new RangeError(x[P])}function ke(P,$){for(var j=[],U=P.length;U--;)j[U]=$(P[U]);return j}function Ne(P,$){var j=P.split("@"),U="";j.length>1&&(U=j[0]+"@",P=j[1]),P=P.replace(Y,".");var F=P.split("."),Q=ke(F,$).join(".");return U+Q}function we(P){for(var $=[],j=0,U=P.length;j<U;){var F=P.charCodeAt(j++);if(F>=55296&&F<=56319&&j<U){var Q=P.charCodeAt(j++);(Q&64512)==56320?$.push(((F&1023)<<10)+(Q&1023)+65536):($.push(F),j--)}else $.push(F)}return $}var ne=function($){return String.fromCodePoint.apply(String,p($))},qe=function($){return $-48<10?$-22:$-65<26?$-65:$-97<26?$-97:_},H=function($,j){return $+22+75*($<26)-((j!=0)<<5)},D=function($,j,U){var F=0;for($=U?te($/k):$>>1,$+=te($/j);$>fe*d>>1;F+=_)$=te($/fe);return te(F+(fe+1)*$/($+v))},V=function($){var j=[],U=$.length,F=0,Q=I,ee=E,ve=$.lastIndexOf(w);ve<0&&(ve=0);for(var je=0;je<ve;++je)$.charCodeAt(je)>=128&&me("not-basic"),j.push($.charCodeAt(je));for(var Ue=ve>0?ve+1:0;Ue<U;){for(var pe=F,Te=1,Ve=_;;Ve+=_){Ue>=U&&me("invalid-input");var oe=qe($.charCodeAt(Ue++));(oe>=_||oe>te((g-F)/Te))&&me("overflow"),F+=oe*Te;var Re=Ve<=ee?m:Ve>=ee+d?d:Ve-ee;if(oe<Re)break;var Ge=_-Re;Te>te(g/Ge)&&me("overflow"),Te*=Ge}var De=j.length+1;ee=D(F-pe,De,pe==0),te(F/De)>g-Q&&me("overflow"),Q+=te(F/De),F%=De,j.splice(F++,0,Q)}return String.fromCodePoint.apply(String,j)},R=function($){var j=[];$=we($);var U=$.length,F=I,Q=0,ee=E,ve=!0,je=!1,Ue=void 0;try{for(var pe=$[Symbol.iterator](),Te;!(ve=(Te=pe.next()).done);ve=!0){var Ve=Te.value;Ve<128&&j.push(ye(Ve))}}catch(Pr){je=!0,Ue=Pr}finally{try{!ve&&pe.return&&pe.return()}finally{if(je)throw Ue}}var oe=j.length,Re=oe;for(oe&&j.push(w);Re<U;){var Ge=g,De=!0,qt=!1,Nt=void 0;try{for(var Pt=$[Symbol.iterator](),ur;!(De=(ur=Pt.next()).done);De=!0){var Xt=ur.value;Xt>=F&&Xt<Ge&&(Ge=Xt)}}catch(Pr){qt=!0,Nt=Pr}finally{try{!De&&Pt.return&&Pt.return()}finally{if(qt)throw Nt}}var _t=Re+1;Ge-F>te((g-Q)/_t)&&me("overflow"),Q+=(Ge-F)*_t,F=Ge;var Ot=!0,Yt=!1,Rt=void 0;try{for(var Nr=$[Symbol.iterator](),lo;!(Ot=(lo=Nr.next()).done);Ot=!0){var co=lo.value;if(co<F&&++Q>g&&me("overflow"),co==F){for(var en=Q,tn=_;;tn+=_){var rn=tn<=ee?m:tn>=ee+d?d:tn-ee;if(en<rn)break;var uo=en-rn,fo=_-rn;j.push(ye(H(rn+uo%fo,0))),en=te(uo/fo)}j.push(ye(H(en,0))),ee=D(Q,_t,Re==oe),Q=0,++Re}}}catch(Pr){Yt=!0,Rt=Pr}finally{try{!Ot&&Nr.return&&Nr.return()}finally{if(Yt)throw Rt}}++Q,++F}return j.join("")},y=function($){return Ne($,function(j){return O.test(j)?V(j.slice(4).toLowerCase()):j})},C=function($){return Ne($,function(j){return q.test(j)?"xn--"+R(j):j})},M={version:"2.1.0",ucs2:{decode:we,encode:ne},decode:V,encode:R,toASCII:C,toUnicode:y},J={};function X(P){var $=P.charCodeAt(0),j=void 0;return $<16?j="%0"+$.toString(16).toUpperCase():$<128?j="%"+$.toString(16).toUpperCase():$<2048?j="%"+($>>6|192).toString(16).toUpperCase()+"%"+($&63|128).toString(16).toUpperCase():j="%"+($>>12|224).toString(16).toUpperCase()+"%"+($>>6&63|128).toString(16).toUpperCase()+"%"+($&63|128).toString(16).toUpperCase(),j}function le(P){for(var $="",j=0,U=P.length;j<U;){var F=parseInt(P.substr(j+1,2),16);if(F<128)$+=String.fromCharCode(F),j+=3;else if(F>=194&&F<224){if(U-j>=6){var Q=parseInt(P.substr(j+4,2),16);$+=String.fromCharCode((F&31)<<6|Q&63)}else $+=P.substr(j,6);j+=6}else if(F>=224){if(U-j>=9){var ee=parseInt(P.substr(j+4,2),16),ve=parseInt(P.substr(j+7,2),16);$+=String.fromCharCode((F&15)<<12|(ee&63)<<6|ve&63)}else $+=P.substr(j,9);j+=9}else $+=P.substr(j,3),j+=3}return $}function ue(P,$){function j(U){var F=le(U);return F.match($.UNRESERVED)?F:U}return P.scheme&&(P.scheme=String(P.scheme).replace($.PCT_ENCODED,j).toLowerCase().replace($.NOT_SCHEME,"")),P.userinfo!==void 0&&(P.userinfo=String(P.userinfo).replace($.PCT_ENCODED,j).replace($.NOT_USERINFO,X).replace($.PCT_ENCODED,i)),P.host!==void 0&&(P.host=String(P.host).replace($.PCT_ENCODED,j).toLowerCase().replace($.NOT_HOST,X).replace($.PCT_ENCODED,i)),P.path!==void 0&&(P.path=String(P.path).replace($.PCT_ENCODED,j).replace(P.scheme?$.NOT_PATH:$.NOT_PATH_NOSCHEME,X).replace($.PCT_ENCODED,i)),P.query!==void 0&&(P.query=String(P.query).replace($.PCT_ENCODED,j).replace($.NOT_QUERY,X).replace($.PCT_ENCODED,i)),P.fragment!==void 0&&(P.fragment=String(P.fragment).replace($.PCT_ENCODED,j).replace($.NOT_FRAGMENT,X).replace($.PCT_ENCODED,i)),P}function ge(P){return P.replace(/^0*(.*)/,"$1")||"0"}function Xe(P,$){var j=P.match($.IPV4ADDRESS)||[],U=h(j,2),F=U[1];return F?F.split(".").map(ge).join("."):P}function pt(P,$){var j=P.match($.IPV6ADDRESS)||[],U=h(j,3),F=U[1],Q=U[2];if(F){for(var ee=F.toLowerCase().split("::").reverse(),ve=h(ee,2),je=ve[0],Ue=ve[1],pe=Ue?Ue.split(":").map(ge):[],Te=je.split(":").map(ge),Ve=$.IPV4ADDRESS.test(Te[Te.length-1]),oe=Ve?7:8,Re=Te.length-oe,Ge=Array(oe),De=0;De<oe;++De)Ge[De]=pe[De]||Te[Re+De]||"";Ve&&(Ge[oe-1]=Xe(Ge[oe-1],$));var qt=Ge.reduce(function(_t,Ot,Yt){if(!Ot||Ot==="0"){var Rt=_t[_t.length-1];Rt&&Rt.index+Rt.length===Yt?Rt.length++:_t.push({index:Yt,length:1})}return _t},[]),Nt=qt.sort(function(_t,Ot){return Ot.length-_t.length})[0],Pt=void 0;if(Nt&&Nt.length>1){var ur=Ge.slice(0,Nt.index),Xt=Ge.slice(Nt.index+Nt.length);Pt=ur.join(":")+"::"+Xt.join(":")}else Pt=Ge.join(":");return Q&&(Pt+="%"+Q),Pt}else return P}var ht=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,It="".match(/(){0}/)[1]===void 0;function Fe(P){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},j={},U=$.iri!==!1?u:f;$.reference==="suffix"&&(P=($.scheme?$.scheme+":":"")+"//"+P);var F=P.match(ht);if(F){It?(j.scheme=F[1],j.userinfo=F[3],j.host=F[4],j.port=parseInt(F[5],10),j.path=F[6]||"",j.query=F[7],j.fragment=F[8],isNaN(j.port)&&(j.port=F[5])):(j.scheme=F[1]||void 0,j.userinfo=P.indexOf("@")!==-1?F[3]:void 0,j.host=P.indexOf("//")!==-1?F[4]:void 0,j.port=parseInt(F[5],10),j.path=F[6]||"",j.query=P.indexOf("?")!==-1?F[7]:void 0,j.fragment=P.indexOf("#")!==-1?F[8]:void 0,isNaN(j.port)&&(j.port=P.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?F[4]:void 0)),j.host&&(j.host=pt(Xe(j.host,U),U)),j.scheme===void 0&&j.userinfo===void 0&&j.host===void 0&&j.port===void 0&&!j.path&&j.query===void 0?j.reference="same-document":j.scheme===void 0?j.reference="relative":j.fragment===void 0?j.reference="absolute":j.reference="uri",$.reference&&$.reference!=="suffix"&&$.reference!==j.reference&&(j.error=j.error||"URI is not a "+$.reference+" reference.");var Q=J[($.scheme||j.scheme||"").toLowerCase()];if(!$.unicodeSupport&&(!Q||!Q.unicodeSupport)){if(j.host&&($.domainHost||Q&&Q.domainHost))try{j.host=M.toASCII(j.host.replace(U.PCT_ENCODED,le).toLowerCase())}catch(ee){j.error=j.error||"Host's domain name can not be converted to ASCII via punycode: "+ee}ue(j,f)}else ue(j,U);Q&&Q.parse&&Q.parse(j,$)}else j.error=j.error||"URI can not be parsed.";return j}function yt(P,$){var j=$.iri!==!1?u:f,U=[];return P.userinfo!==void 0&&(U.push(P.userinfo),U.push("@")),P.host!==void 0&&U.push(pt(Xe(String(P.host),j),j).replace(j.IPV6ADDRESS,function(F,Q,ee){return"["+Q+(ee?"%25"+ee:"")+"]"})),(typeof P.port=="number"||typeof P.port=="string")&&(U.push(":"),U.push(String(P.port))),U.length?U.join(""):void 0}var mt=/^\.\.?\//,ot=/^\/\.(\/|$)/,Ye=/^\/\.\.(\/|$)/,lt=/^\/?(?:.|\n)*?(?=\/|$)/;function Ke(P){for(var $=[];P.length;)if(P.match(mt))P=P.replace(mt,"");else if(P.match(ot))P=P.replace(ot,"/");else if(P.match(Ye))P=P.replace(Ye,"/"),$.pop();else if(P==="."||P==="..")P="";else{var j=P.match(lt);if(j){var U=j[0];P=P.slice(U.length),$.push(U)}else throw new Error("Unexpected dot segment condition")}return $.join("")}function Me(P){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},j=$.iri?u:f,U=[],F=J[($.scheme||P.scheme||"").toLowerCase()];if(F&&F.serialize&&F.serialize(P,$),P.host&&!j.IPV6ADDRESS.test(P.host)){if($.domainHost||F&&F.domainHost)try{P.host=$.iri?M.toUnicode(P.host):M.toASCII(P.host.replace(j.PCT_ENCODED,le).toLowerCase())}catch(ve){P.error=P.error||"Host's domain name can not be converted to "+($.iri?"Unicode":"ASCII")+" via punycode: "+ve}}ue(P,j),$.reference!=="suffix"&&P.scheme&&(U.push(P.scheme),U.push(":"));var Q=yt(P,$);if(Q!==void 0&&($.reference!=="suffix"&&U.push("//"),U.push(Q),P.path&&P.path.charAt(0)!=="/"&&U.push("/")),P.path!==void 0){var ee=P.path;!$.absolutePath&&(!F||!F.absolutePath)&&(ee=Ke(ee)),Q===void 0&&(ee=ee.replace(/^\/\//,"/%2F")),U.push(ee)}return P.query!==void 0&&(U.push("?"),U.push(P.query)),P.fragment!==void 0&&(U.push("#"),U.push(P.fragment)),U.join("")}function Ze(P,$){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},U=arguments[3],F={};return U||(P=Fe(Me(P,j),j),$=Fe(Me($,j),j)),j=j||{},!j.tolerant&&$.scheme?(F.scheme=$.scheme,F.userinfo=$.userinfo,F.host=$.host,F.port=$.port,F.path=Ke($.path||""),F.query=$.query):($.userinfo!==void 0||$.host!==void 0||$.port!==void 0?(F.userinfo=$.userinfo,F.host=$.host,F.port=$.port,F.path=Ke($.path||""),F.query=$.query):($.path?($.path.charAt(0)==="/"?F.path=Ke($.path):((P.userinfo!==void 0||P.host!==void 0||P.port!==void 0)&&!P.path?F.path="/"+$.path:P.path?F.path=P.path.slice(0,P.path.lastIndexOf("/")+1)+$.path:F.path=$.path,F.path=Ke(F.path)),F.query=$.query):(F.path=P.path,$.query!==void 0?F.query=$.query:F.query=P.query),F.userinfo=P.userinfo,F.host=P.host,F.port=P.port),F.scheme=P.scheme),F.fragment=$.fragment,F}function Qe(P,$,j){var U=l({scheme:"null"},j);return Me(Ze(Fe(P,U),Fe($,U),U,!0),U)}function tt(P,$){return typeof P=="string"?P=Me(Fe(P,$),$):o(P)==="object"&&(P=Fe(Me(P,$),$)),P}function it(P,$,j){return typeof P=="string"?P=Me(Fe(P,j),j):o(P)==="object"&&(P=Me(P,j)),typeof $=="string"?$=Me(Fe($,j),j):o($)==="object"&&($=Me($,j)),P===$}function ct(P,$){return P&&P.toString().replace(!$||!$.iri?f.ESCAPE:u.ESCAPE,X)}function ze(P,$){return P&&P.toString().replace(!$||!$.iri?f.PCT_ENCODED:u.PCT_ENCODED,le)}var se={scheme:"http",domainHost:!0,parse:function($,j){return $.host||($.error=$.error||"HTTP URIs must have a host."),$},serialize:function($,j){var U=String($.scheme).toLowerCase()==="https";return($.port===(U?443:80)||$.port==="")&&($.port=void 0),$.path||($.path="/"),$}},Le={scheme:"https",domainHost:se.domainHost,parse:se.parse,serialize:se.serialize};function Vt(P){return typeof P.secure=="boolean"?P.secure:String(P.scheme).toLowerCase()==="wss"}var Ct={scheme:"ws",domainHost:!0,parse:function($,j){var U=$;return U.secure=Vt(U),U.resourceName=(U.path||"/")+(U.query?"?"+U.query:""),U.path=void 0,U.query=void 0,U},serialize:function($,j){if(($.port===(Vt($)?443:80)||$.port==="")&&($.port=void 0),typeof $.secure=="boolean"&&($.scheme=$.secure?"wss":"ws",$.secure=void 0),$.resourceName){var U=$.resourceName.split("?"),F=h(U,2),Q=F[0],ee=F[1];$.path=Q&&Q!=="/"?Q:void 0,$.query=ee,$.resourceName=void 0}return $.fragment=void 0,$}},xr={scheme:"wss",domainHost:Ct.domainHost,parse:Ct.parse,serialize:Ct.serialize},G={},Bt="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",We="[0-9A-Fa-f]",rt=s(s("%[EFef]"+We+"%"+We+We+"%"+We+We)+"|"+s("%[89A-Fa-f]"+We+"%"+We+We)+"|"+s("%"+We+We)),bt="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",Ln="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",gl=n(Ln,'[\\"\\\\]'),vl="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",yl=new RegExp(Bt,"g"),cr=new RegExp(rt,"g"),bl=new RegExp(n("[^]",bt,"[\\.]",'[\\"]',gl),"g"),so=new RegExp(n("[^]",Bt,vl),"g"),wl=so;function Un(P){var $=le(P);return $.match(yl)?$:P}var oo={scheme:"mailto",parse:function($,j){var U=$,F=U.to=U.path?U.path.split(","):[];if(U.path=void 0,U.query){for(var Q=!1,ee={},ve=U.query.split("&"),je=0,Ue=ve.length;je<Ue;++je){var pe=ve[je].split("=");switch(pe[0]){case"to":for(var Te=pe[1].split(","),Ve=0,oe=Te.length;Ve<oe;++Ve)F.push(Te[Ve]);break;case"subject":U.subject=ze(pe[1],j);break;case"body":U.body=ze(pe[1],j);break;default:Q=!0,ee[ze(pe[0],j)]=ze(pe[1],j);break}}Q&&(U.headers=ee)}U.query=void 0;for(var Re=0,Ge=F.length;Re<Ge;++Re){var De=F[Re].split("@");if(De[0]=ze(De[0]),j.unicodeSupport)De[1]=ze(De[1],j).toLowerCase();else try{De[1]=M.toASCII(ze(De[1],j).toLowerCase())}catch(qt){U.error=U.error||"Email address's domain name can not be converted to ASCII via punycode: "+qt}F[Re]=De.join("@")}return U},serialize:function($,j){var U=$,F=a($.to);if(F){for(var Q=0,ee=F.length;Q<ee;++Q){var ve=String(F[Q]),je=ve.lastIndexOf("@"),Ue=ve.slice(0,je).replace(cr,Un).replace(cr,i).replace(bl,X),pe=ve.slice(je+1);try{pe=j.iri?M.toUnicode(pe):M.toASCII(ze(pe,j).toLowerCase())}catch(Re){U.error=U.error||"Email address's domain name can not be converted to "+(j.iri?"Unicode":"ASCII")+" via punycode: "+Re}F[Q]=Ue+"@"+pe}U.path=F.join(",")}var Te=$.headers=$.headers||{};$.subject&&(Te.subject=$.subject),$.body&&(Te.body=$.body);var Ve=[];for(var oe in Te)Te[oe]!==G[oe]&&Ve.push(oe.replace(cr,Un).replace(cr,i).replace(so,X)+"="+Te[oe].replace(cr,Un).replace(cr,i).replace(wl,X));return Ve.length&&(U.query=Ve.join("&")),U}},$l=/^([^\:]+)\:(.*)/,io={scheme:"urn",parse:function($,j){var U=$.path&&$.path.match($l),F=$;if(U){var Q=j.scheme||F.scheme||"urn",ee=U[1].toLowerCase(),ve=U[2],je=Q+":"+(j.nid||ee),Ue=J[je];F.nid=ee,F.nss=ve,F.path=void 0,Ue&&(F=Ue.parse(F,j))}else F.error=F.error||"URN can not be parsed.";return F},serialize:function($,j){var U=j.scheme||$.scheme||"urn",F=$.nid,Q=U+":"+(j.nid||F),ee=J[Q];ee&&($=ee.serialize($,j));var ve=$,je=$.nss;return ve.path=(F||j.nid)+":"+je,ve}},kl=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,ao={scheme:"urn:uuid",parse:function($,j){var U=$;return U.uuid=U.nss,U.nss=void 0,!j.tolerant&&(!U.uuid||!U.uuid.match(kl))&&(U.error=U.error||"UUID is not valid."),U},serialize:function($,j){var U=$;return U.nss=($.uuid||"").toLowerCase(),U}};J[se.scheme]=se,J[Le.scheme]=Le,J[Ct.scheme]=Ct,J[xr.scheme]=xr,J[oo.scheme]=oo,J[io.scheme]=io,J[ao.scheme]=ao,r.SCHEMES=J,r.pctEncChar=X,r.pctDecChars=le,r.parse=Fe,r.removeDotSegments=Ke,r.serialize=Me,r.resolveComponents=Ze,r.resolve=Qe,r.normalize=tt,r.equal=it,r.escapeComponent=ct,r.unescapeComponent=ze,Object.defineProperty(r,"__esModule",{value:!0})})})(es,es.exports);Object.defineProperty(gs,"__esModule",{value:!0});const La=es.exports;La.code='require("ajv/dist/runtime/uri").default';gs.default=La;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;var e=St;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return e.KeywordCxt}});var r=he;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const n=An,s=Tn,o=rr,i=ft,a=he,l=et,c=Hr,f=be,u=Lu,h=gs,p=(H,D)=>new RegExp(H,D);p.code="new RegExp";const g=["removeAdditional","useDefaults","coerceTypes"],_=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),m={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},d={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},v=200;function k(H){var D,V,R,y,C,M,J,X,le,ue,ge,Xe,pt,ht,It,Fe,yt,mt,ot,Ye,lt,Ke,Me,Ze,Qe;const tt=H.strict,it=(D=H.code)===null||D===void 0?void 0:D.optimize,ct=it===!0||it===void 0?1:it||0,ze=(R=(V=H.code)===null||V===void 0?void 0:V.regExp)!==null&&R!==void 0?R:p,se=(y=H.uriResolver)!==null&&y!==void 0?y:h.default;return{strictSchema:(M=(C=H.strictSchema)!==null&&C!==void 0?C:tt)!==null&&M!==void 0?M:!0,strictNumbers:(X=(J=H.strictNumbers)!==null&&J!==void 0?J:tt)!==null&&X!==void 0?X:!0,strictTypes:(ue=(le=H.strictTypes)!==null&&le!==void 0?le:tt)!==null&&ue!==void 0?ue:"log",strictTuples:(Xe=(ge=H.strictTuples)!==null&&ge!==void 0?ge:tt)!==null&&Xe!==void 0?Xe:"log",strictRequired:(ht=(pt=H.strictRequired)!==null&&pt!==void 0?pt:tt)!==null&&ht!==void 0?ht:!1,code:H.code?{...H.code,optimize:ct,regExp:ze}:{optimize:ct,regExp:ze},loopRequired:(It=H.loopRequired)!==null&&It!==void 0?It:v,loopEnum:(Fe=H.loopEnum)!==null&&Fe!==void 0?Fe:v,meta:(yt=H.meta)!==null&&yt!==void 0?yt:!0,messages:(mt=H.messages)!==null&&mt!==void 0?mt:!0,inlineRefs:(ot=H.inlineRefs)!==null&&ot!==void 0?ot:!0,schemaId:(Ye=H.schemaId)!==null&&Ye!==void 0?Ye:"$id",addUsedSchema:(lt=H.addUsedSchema)!==null&&lt!==void 0?lt:!0,validateSchema:(Ke=H.validateSchema)!==null&&Ke!==void 0?Ke:!0,validateFormats:(Me=H.validateFormats)!==null&&Me!==void 0?Me:!0,unicodeRegExp:(Ze=H.unicodeRegExp)!==null&&Ze!==void 0?Ze:!0,int32range:(Qe=H.int32range)!==null&&Qe!==void 0?Qe:!0,uriResolver:se}}class E{constructor(D={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,D=this.opts={...D,...k(D)};const{es5:V,lines:R}=this.opts.code;this.scope=new a.ValueScope({scope:{},prefixes:_,es5:V,lines:R}),this.logger=te(D.logger);const y=D.validateFormats;D.validateFormats=!1,this.RULES=(0,o.getRules)(),I.call(this,m,D,"NOT SUPPORTED"),I.call(this,d,D,"DEPRECATED","warn"),this._metaOpts=x.call(this),D.formats&&q.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),D.keywords&&Y.call(this,D.keywords),typeof D.meta=="object"&&this.addMetaSchema(D.meta),O.call(this),D.validateFormats=y}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:D,meta:V,schemaId:R}=this.opts;let y=u;R==="id"&&(y={...u},y.id=y.$id,delete y.$id),V&&D&&this.addMetaSchema(y,y[R],!1)}defaultMeta(){const{meta:D,schemaId:V}=this.opts;return this.opts.defaultMeta=typeof D=="object"?D[V]||D:void 0}validate(D,V){let R;if(typeof D=="string"){if(R=this.getSchema(D),!R)throw new Error(`no schema with key or ref "${D}"`)}else R=this.compile(D);const y=R(V);return"$async"in R||(this.errors=R.errors),y}compile(D,V){const R=this._addSchema(D,V);return R.validate||this._compileSchemaEnv(R)}compileAsync(D,V){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:R}=this.opts;return y.call(this,D,V);async function y(ue,ge){await C.call(this,ue.$schema);const Xe=this._addSchema(ue,ge);return Xe.validate||M.call(this,Xe)}async function C(ue){ue&&!this.getSchema(ue)&&await y.call(this,{$ref:ue},!0)}async function M(ue){try{return this._compileSchemaEnv(ue)}catch(ge){if(!(ge instanceof s.default))throw ge;return J.call(this,ge),await X.call(this,ge.missingSchema),M.call(this,ue)}}function J({missingSchema:ue,missingRef:ge}){if(this.refs[ue])throw new Error(`AnySchema ${ue} is loaded but ${ge} cannot be resolved`)}async function X(ue){const ge=await le.call(this,ue);this.refs[ue]||await C.call(this,ge.$schema),this.refs[ue]||this.addSchema(ge,ue,V)}async function le(ue){const ge=this._loading[ue];if(ge)return ge;try{return await(this._loading[ue]=R(ue))}finally{delete this._loading[ue]}}}addSchema(D,V,R,y=this.opts.validateSchema){if(Array.isArray(D)){for(const M of D)this.addSchema(M,void 0,R,y);return this}let C;if(typeof D=="object"){const{schemaId:M}=this.opts;if(C=D[M],C!==void 0&&typeof C!="string")throw new Error(`schema ${M} must be string`)}return V=(0,l.normalizeId)(V||C),this._checkUnique(V),this.schemas[V]=this._addSchema(D,R,V,y,!0),this}addMetaSchema(D,V,R=this.opts.validateSchema){return this.addSchema(D,V,!0,R),this}validateSchema(D,V){if(typeof D=="boolean")return!0;let R;if(R=D.$schema,R!==void 0&&typeof R!="string")throw new Error("$schema must be a string");if(R=R||this.opts.defaultMeta||this.defaultMeta(),!R)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const y=this.validate(R,D);if(!y&&V){const C="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(C);else throw new Error(C)}return y}getSchema(D){let V;for(;typeof(V=w.call(this,D))=="string";)D=V;if(V===void 0){const{schemaId:R}=this.opts,y=new i.SchemaEnv({schema:{},schemaId:R});if(V=i.resolveSchema.call(this,y,D),!V)return;this.refs[D]=V}return V.validate||this._compileSchemaEnv(V)}removeSchema(D){if(D instanceof RegExp)return this._removeAllSchemas(this.schemas,D),this._removeAllSchemas(this.refs,D),this;switch(typeof D){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const V=w.call(this,D);return typeof V=="object"&&this._cache.delete(V.schema),delete this.schemas[D],delete this.refs[D],this}case"object":{const V=D;this._cache.delete(V);let R=D[this.opts.schemaId];return R&&(R=(0,l.normalizeId)(R),delete this.schemas[R],delete this.refs[R]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(D){for(const V of D)this.addKeyword(V);return this}addKeyword(D,V){let R;if(typeof D=="string")R=D,typeof V=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),V.keyword=R);else if(typeof D=="object"&&V===void 0){if(V=D,R=V.keyword,Array.isArray(R)&&!R.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(me.call(this,R,V),!V)return(0,f.eachItem)(R,C=>ke.call(this,C)),this;we.call(this,V);const y={...V,type:(0,c.getJSONTypes)(V.type),schemaType:(0,c.getJSONTypes)(V.schemaType)};return(0,f.eachItem)(R,y.type.length===0?C=>ke.call(this,C,y):C=>y.type.forEach(M=>ke.call(this,C,y,M))),this}getKeyword(D){const V=this.RULES.all[D];return typeof V=="object"?V.definition:!!V}removeKeyword(D){const{RULES:V}=this;delete V.keywords[D],delete V.all[D];for(const R of V.rules){const y=R.rules.findIndex(C=>C.keyword===D);y>=0&&R.rules.splice(y,1)}return this}addFormat(D,V){return typeof V=="string"&&(V=new RegExp(V)),this.formats[D]=V,this}errorsText(D=this.errors,{separator:V=", ",dataVar:R="data"}={}){return!D||D.length===0?"No errors":D.map(y=>`${R}${y.instancePath} ${y.message}`).reduce((y,C)=>y+V+C)}$dataMetaSchema(D,V){const R=this.RULES.all;D=JSON.parse(JSON.stringify(D));for(const y of V){const C=y.split("/").slice(1);let M=D;for(const J of C)M=M[J];for(const J in R){const X=R[J];if(typeof X!="object")continue;const{$data:le}=X.definition,ue=M[J];le&&ue&&(M[J]=qe(ue))}}return D}_removeAllSchemas(D,V){for(const R in D){const y=D[R];(!V||V.test(R))&&(typeof y=="string"?delete D[R]:y&&!y.meta&&(this._cache.delete(y.schema),delete D[R]))}}_addSchema(D,V,R,y=this.opts.validateSchema,C=this.opts.addUsedSchema){let M;const{schemaId:J}=this.opts;if(typeof D=="object")M=D[J];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof D!="boolean")throw new Error("schema must be object or boolean")}let X=this._cache.get(D);if(X!==void 0)return X;R=(0,l.normalizeId)(M||R);const le=l.getSchemaRefs.call(this,D,R);return X=new i.SchemaEnv({schema:D,schemaId:J,meta:V,baseId:R,localRefs:le}),this._cache.set(X.schema,X),C&&!R.startsWith("#")&&(R&&this._checkUnique(R),this.refs[R]=X),y&&this.validateSchema(D,!0),X}_checkUnique(D){if(this.schemas[D]||this.refs[D])throw new Error(`schema with key or id "${D}" already exists`)}_compileSchemaEnv(D){if(D.meta?this._compileMetaSchema(D):i.compileSchema.call(this,D),!D.validate)throw new Error("ajv implementation error");return D.validate}_compileMetaSchema(D){const V=this.opts;this.opts=this._metaOpts;try{i.compileSchema.call(this,D)}finally{this.opts=V}}}t.default=E,E.ValidationError=n.default,E.MissingRefError=s.default;function I(H,D,V,R="error"){for(const y in H){const C=y;C in D&&this.logger[R](`${V}: option ${y}. ${H[C]}`)}}function w(H){return H=(0,l.normalizeId)(H),this.schemas[H]||this.refs[H]}function O(){const H=this.opts.schemas;if(!!H)if(Array.isArray(H))this.addSchema(H);else for(const D in H)this.addSchema(H[D],D)}function q(){for(const H in this.opts.formats){const D=this.opts.formats[H];D&&this.addFormat(H,D)}}function Y(H){if(Array.isArray(H)){this.addVocabulary(H);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const D in H){const V=H[D];V.keyword||(V.keyword=D),this.addKeyword(V)}}function x(){const H={...this.opts};for(const D of g)delete H[D];return H}const fe={log(){},warn(){},error(){}};function te(H){if(H===!1)return fe;if(H===void 0)return console;if(H.log&&H.warn&&H.error)return H;throw new Error("logger must implement log, warn and error methods")}const ye=/^[a-z_$][a-z0-9_$:-]*$/i;function me(H,D){const{RULES:V}=this;if((0,f.eachItem)(H,R=>{if(V.keywords[R])throw new Error(`Keyword ${R} is already defined`);if(!ye.test(R))throw new Error(`Keyword ${R} has invalid name`)}),!!D&&D.$data&&!("code"in D||"validate"in D))throw new Error('$data keyword must have "code" or "validate" function')}function ke(H,D,V){var R;const y=D?.post;if(V&&y)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:C}=this;let M=y?C.post:C.rules.find(({type:X})=>X===V);if(M||(M={type:V,rules:[]},C.rules.push(M)),C.keywords[H]=!0,!D)return;const J={keyword:H,definition:{...D,type:(0,c.getJSONTypes)(D.type),schemaType:(0,c.getJSONTypes)(D.schemaType)}};D.before?Ne.call(this,M,J,D.before):M.rules.push(J),C.all[H]=J,(R=D.implements)===null||R===void 0||R.forEach(X=>this.addKeyword(X))}function Ne(H,D,V){const R=H.rules.findIndex(y=>y.keyword===V);R>=0?H.rules.splice(R,0,D):(H.rules.push(D),this.logger.warn(`rule ${V} is not defined`))}function we(H){let{metaSchema:D}=H;D!==void 0&&(H.$data&&this.opts.$data&&(D=qe(D)),H.validateSchema=this.compile(D,!0))}const ne={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function qe(H){return{anyOf:[H,ne]}}})(pa);var vs={},ys={},bs={};Object.defineProperty(bs,"__esModule",{value:!0});const Uu={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};bs.default=Uu;var nr={};Object.defineProperty(nr,"__esModule",{value:!0});nr.callRef=nr.getValidate=void 0;const Vu=Tn,Oo=de,ut=he,dr=jt,Ao=ft,on=be,Bu={keyword:"$ref",schemaType:"string",code(t){const{gen:e,schema:r,it:n}=t,{baseId:s,schemaEnv:o,validateName:i,opts:a,self:l}=n,{root:c}=o;if((r==="#"||r==="#/")&&s===c.baseId)return u();const f=Ao.resolveRef.call(l,c,s,r);if(f===void 0)throw new Vu.default(n.opts.uriResolver,s,r);if(f instanceof Ao.SchemaEnv)return h(f);return p(f);function u(){if(o===c)return mn(t,i,o,o.$async);const g=e.scopeValue("root",{ref:c});return mn(t,(0,ut._)`${g}.validate`,c,c.$async)}function h(g){const _=Ua(t,g);mn(t,_,g,g.$async)}function p(g){const _=e.scopeValue("schema",a.code.source===!0?{ref:g,code:(0,ut.stringify)(g)}:{ref:g}),m=e.name("valid"),d=t.subschema({schema:g,dataTypes:[],schemaPath:ut.nil,topSchemaRef:_,errSchemaPath:r},m);t.mergeEvaluated(d),t.ok(m)}}};function Ua(t,e){const{gen:r}=t;return e.validate?r.scopeValue("validate",{ref:e.validate}):(0,ut._)`${r.scopeValue("wrapper",{ref:e})}.validate`}nr.getValidate=Ua;function mn(t,e,r,n){const{gen:s,it:o}=t,{allErrors:i,schemaEnv:a,opts:l}=o,c=l.passContext?dr.default.this:ut.nil;n?f():u();function f(){if(!a.$async)throw new Error("async schema referenced by sync schema");const g=s.let("valid");s.try(()=>{s.code((0,ut._)`await ${(0,Oo.callValidateCode)(t,e,c)}`),p(e),i||s.assign(g,!0)},_=>{s.if((0,ut._)`!(${_} instanceof ${o.ValidationError})`,()=>s.throw(_)),h(_),i||s.assign(g,!1)}),t.ok(g)}function u(){t.result((0,Oo.callValidateCode)(t,e,c),()=>p(e),()=>h(e))}function h(g){const _=(0,ut._)`${g}.errors`;s.assign(dr.default.vErrors,(0,ut._)`${dr.default.vErrors} === null ? ${_} : ${dr.default.vErrors}.concat(${_})`),s.assign(dr.default.errors,(0,ut._)`${dr.default.vErrors}.length`)}function p(g){var _;if(!o.opts.unevaluated)return;const m=(_=r?.validate)===null||_===void 0?void 0:_.evaluated;if(o.props!==!0)if(m&&!m.dynamicProps)m.props!==void 0&&(o.props=on.mergeEvaluated.props(s,m.props,o.props));else{const d=s.var("props",(0,ut._)`${g}.evaluated.props`);o.props=on.mergeEvaluated.props(s,d,o.props,ut.Name)}if(o.items!==!0)if(m&&!m.dynamicItems)m.items!==void 0&&(o.items=on.mergeEvaluated.items(s,m.items,o.items));else{const d=s.var("items",(0,ut._)`${g}.evaluated.items`);o.items=on.mergeEvaluated.items(s,d,o.items,ut.Name)}}}nr.callRef=mn;nr.default=Bu;Object.defineProperty(ys,"__esModule",{value:!0});const qu=bs,Ku=nr,Wu=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",qu.default,Ku.default];ys.default=Wu;var ws={},$s={};Object.defineProperty($s,"__esModule",{value:!0});const $n=he,Wt=$n.operators,kn={maximum:{okStr:"<=",ok:Wt.LTE,fail:Wt.GT},minimum:{okStr:">=",ok:Wt.GTE,fail:Wt.LT},exclusiveMaximum:{okStr:"<",ok:Wt.LT,fail:Wt.GTE},exclusiveMinimum:{okStr:">",ok:Wt.GT,fail:Wt.LTE}},Gu={message:({keyword:t,schemaCode:e})=>(0,$n.str)`must be ${kn[t].okStr} ${e}`,params:({keyword:t,schemaCode:e})=>(0,$n._)`{comparison: ${kn[t].okStr}, limit: ${e}}`},Hu={keyword:Object.keys(kn),type:"number",schemaType:"number",$data:!0,error:Gu,code(t){const{keyword:e,data:r,schemaCode:n}=t;t.fail$data((0,$n._)`${r} ${kn[e].fail} ${n} || isNaN(${r})`)}};$s.default=Hu;var ks={};Object.defineProperty(ks,"__esModule",{value:!0});const Fr=he,Ju={message:({schemaCode:t})=>(0,Fr.str)`must be multiple of ${t}`,params:({schemaCode:t})=>(0,Fr._)`{multipleOf: ${t}}`},Xu={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:Ju,code(t){const{gen:e,data:r,schemaCode:n,it:s}=t,o=s.opts.multipleOfPrecision,i=e.let("res"),a=o?(0,Fr._)`Math.abs(Math.round(${i}) - ${i}) > 1e-${o}`:(0,Fr._)`${i} !== parseInt(${i})`;t.fail$data((0,Fr._)`(${n} === 0 || (${i} = ${r}/${n}, ${a}))`)}};ks.default=Xu;var Es={},Ss={};Object.defineProperty(Ss,"__esModule",{value:!0});function Va(t){const e=t.length;let r=0,n=0,s;for(;n<e;)r++,s=t.charCodeAt(n++),s>=55296&&s<=56319&&n<e&&(s=t.charCodeAt(n),(s&64512)===56320&&n++);return r}Ss.default=Va;Va.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty(Es,"__esModule",{value:!0});const xt=he,Yu=be,Zu=Ss,Qu={message({keyword:t,schemaCode:e}){const r=t==="maxLength"?"more":"fewer";return(0,xt.str)`must NOT have ${r} than ${e} characters`},params:({schemaCode:t})=>(0,xt._)`{limit: ${t}}`},xu={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:Qu,code(t){const{keyword:e,data:r,schemaCode:n,it:s}=t,o=e==="maxLength"?xt.operators.GT:xt.operators.LT,i=s.opts.unicode===!1?(0,xt._)`${r}.length`:(0,xt._)`${(0,Yu.useFunc)(t.gen,Zu.default)}(${r})`;t.fail$data((0,xt._)`${i} ${o} ${n}`)}};Es.default=xu;var Cs={};Object.defineProperty(Cs,"__esModule",{value:!0});const ef=de,En=he,tf={message:({schemaCode:t})=>(0,En.str)`must match pattern "${t}"`,params:({schemaCode:t})=>(0,En._)`{pattern: ${t}}`},rf={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:tf,code(t){const{data:e,$data:r,schema:n,schemaCode:s,it:o}=t,i=o.opts.unicodeRegExp?"u":"",a=r?(0,En._)`(new RegExp(${s}, ${i}))`:(0,ef.usePattern)(t,n);t.fail$data((0,En._)`!${a}.test(${e})`)}};Cs.default=rf;var Ns={};Object.defineProperty(Ns,"__esModule",{value:!0});const zr=he,nf={message({keyword:t,schemaCode:e}){const r=t==="maxProperties"?"more":"fewer";return(0,zr.str)`must NOT have ${r} than ${e} properties`},params:({schemaCode:t})=>(0,zr._)`{limit: ${t}}`},sf={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:nf,code(t){const{keyword:e,data:r,schemaCode:n}=t,s=e==="maxProperties"?zr.operators.GT:zr.operators.LT;t.fail$data((0,zr._)`Object.keys(${r}).length ${s} ${n}`)}};Ns.default=sf;var Ps={};Object.defineProperty(Ps,"__esModule",{value:!0});const Tr=de,Lr=he,of=be,af={message:({params:{missingProperty:t}})=>(0,Lr.str)`must have required property '${t}'`,params:({params:{missingProperty:t}})=>(0,Lr._)`{missingProperty: ${t}}`},lf={keyword:"required",type:"object",schemaType:"array",$data:!0,error:af,code(t){const{gen:e,schema:r,schemaCode:n,data:s,$data:o,it:i}=t,{opts:a}=i;if(!o&&r.length===0)return;const l=r.length>=a.loopRequired;if(i.allErrors?c():f(),a.strictRequired){const p=t.parentSchema.properties,{definedProperties:g}=t.it;for(const _ of r)if(p?.[_]===void 0&&!g.has(_)){const m=i.schemaEnv.baseId+i.errSchemaPath,d=`required property "${_}" is not defined at "${m}" (strictRequired)`;(0,of.checkStrictMode)(i,d,i.opts.strictRequired)}}function c(){if(l||o)t.block$data(Lr.nil,u);else for(const p of r)(0,Tr.checkReportMissingProp)(t,p)}function f(){const p=e.let("missing");if(l||o){const g=e.let("valid",!0);t.block$data(g,()=>h(p,g)),t.ok(g)}else e.if((0,Tr.checkMissingProp)(t,r,p)),(0,Tr.reportMissingProp)(t,p),e.else()}function u(){e.forOf("prop",n,p=>{t.setParams({missingProperty:p}),e.if((0,Tr.noPropertyInData)(e,s,p,a.ownProperties),()=>t.error())})}function h(p,g){t.setParams({missingProperty:p}),e.forOf(p,n,()=>{e.assign(g,(0,Tr.propertyInData)(e,s,p,a.ownProperties)),e.if((0,Lr.not)(g),()=>{t.error(),e.break()})},Lr.nil)}}};Ps.default=lf;var Os={};Object.defineProperty(Os,"__esModule",{value:!0});const Ur=he,cf={message({keyword:t,schemaCode:e}){const r=t==="maxItems"?"more":"fewer";return(0,Ur.str)`must NOT have ${r} than ${e} items`},params:({schemaCode:t})=>(0,Ur._)`{limit: ${t}}`},uf={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:cf,code(t){const{keyword:e,data:r,schemaCode:n}=t,s=e==="maxItems"?Ur.operators.GT:Ur.operators.LT;t.fail$data((0,Ur._)`${r}.length ${s} ${n}`)}};Os.default=uf;var As={},Jr={};Object.defineProperty(Jr,"__esModule",{value:!0});const Ba=ka;Ba.code='require("ajv/dist/runtime/equal").default';Jr.default=Ba;Object.defineProperty(As,"__esModule",{value:!0});const Gn=Hr,xe=he,ff=be,df=Jr,hf={message:({params:{i:t,j:e}})=>(0,xe.str)`must NOT have duplicate items (items ## ${e} and ${t} are identical)`,params:({params:{i:t,j:e}})=>(0,xe._)`{i: ${t}, j: ${e}}`},mf={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:hf,code(t){const{gen:e,data:r,$data:n,schema:s,parentSchema:o,schemaCode:i,it:a}=t;if(!n&&!s)return;const l=e.let("valid"),c=o.items?(0,Gn.getSchemaTypes)(o.items):[];t.block$data(l,f,(0,xe._)`${i} === false`),t.ok(l);function f(){const g=e.let("i",(0,xe._)`${r}.length`),_=e.let("j");t.setParams({i:g,j:_}),e.assign(l,!0),e.if((0,xe._)`${g} > 1`,()=>(u()?h:p)(g,_))}function u(){return c.length>0&&!c.some(g=>g==="object"||g==="array")}function h(g,_){const m=e.name("item"),d=(0,Gn.checkDataTypes)(c,m,a.opts.strictNumbers,Gn.DataType.Wrong),v=e.const("indices",(0,xe._)`{}`);e.for((0,xe._)`;${g}--;`,()=>{e.let(m,(0,xe._)`${r}[${g}]`),e.if(d,(0,xe._)`continue`),c.length>1&&e.if((0,xe._)`typeof ${m} == "string"`,(0,xe._)`${m} += "_"`),e.if((0,xe._)`typeof ${v}[${m}] == "number"`,()=>{e.assign(_,(0,xe._)`${v}[${m}]`),t.error(),e.assign(l,!1).break()}).code((0,xe._)`${v}[${m}] = ${g}`)})}function p(g,_){const m=(0,ff.useFunc)(e,df.default),d=e.name("outer");e.label(d).for((0,xe._)`;${g}--;`,()=>e.for((0,xe._)`${_} = ${g}; ${_}--;`,()=>e.if((0,xe._)`${m}(${r}[${g}], ${r}[${_}])`,()=>{t.error(),e.assign(l,!1).break(d)})))}}};As.default=mf;var Ts={};Object.defineProperty(Ts,"__esModule",{value:!0});const ts=he,pf=be,_f=Jr,gf={message:"must be equal to constant",params:({schemaCode:t})=>(0,ts._)`{allowedValue: ${t}}`},vf={keyword:"const",$data:!0,error:gf,code(t){const{gen:e,data:r,$data:n,schemaCode:s,schema:o}=t;n||o&&typeof o=="object"?t.fail$data((0,ts._)`!${(0,pf.useFunc)(e,_f.default)}(${r}, ${s})`):t.fail((0,ts._)`${o} !== ${r}`)}};Ts.default=vf;var js={};Object.defineProperty(js,"__esModule",{value:!0});const Rr=he,yf=be,bf=Jr,wf={message:"must be equal to one of the allowed values",params:({schemaCode:t})=>(0,Rr._)`{allowedValues: ${t}}`},$f={keyword:"enum",schemaType:"array",$data:!0,error:wf,code(t){const{gen:e,data:r,$data:n,schema:s,schemaCode:o,it:i}=t;if(!n&&s.length===0)throw new Error("enum must have non-empty array");const a=s.length>=i.opts.loopEnum;let l;const c=()=>l??(l=(0,yf.useFunc)(e,bf.default));let f;if(a||n)f=e.let("valid"),t.block$data(f,u);else{if(!Array.isArray(s))throw new Error("ajv implementation error");const p=e.const("vSchema",o);f=(0,Rr.or)(...s.map((g,_)=>h(p,_)))}t.pass(f);function u(){e.assign(f,!1),e.forOf("v",o,p=>e.if((0,Rr._)`${c()}(${r}, ${p})`,()=>e.assign(f,!0).break()))}function h(p,g){const _=s[g];return typeof _=="object"&&_!==null?(0,Rr._)`${c()}(${r}, ${p}[${g}])`:(0,Rr._)`${r} === ${_}`}}};js.default=$f;Object.defineProperty(ws,"__esModule",{value:!0});const kf=$s,Ef=ks,Sf=Es,Cf=Cs,Nf=Ns,Pf=Ps,Of=Os,Af=As,Tf=Ts,jf=js,If=[kf.default,Ef.default,Sf.default,Cf.default,Nf.default,Pf.default,Of.default,Af.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},Tf.default,jf.default];ws.default=If;var Is={},Er={};Object.defineProperty(Er,"__esModule",{value:!0});Er.validateAdditionalItems=void 0;const er=he,rs=be,Rf={message:({params:{len:t}})=>(0,er.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,er._)`{limit: ${t}}`},Df={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:Rf,code(t){const{parentSchema:e,it:r}=t,{items:n}=e;if(!Array.isArray(n)){(0,rs.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}qa(t,n)}};function qa(t,e){const{gen:r,schema:n,data:s,keyword:o,it:i}=t;i.items=!0;const a=r.const("len",(0,er._)`${s}.length`);if(n===!1)t.setParams({len:e.length}),t.pass((0,er._)`${a} <= ${e.length}`);else if(typeof n=="object"&&!(0,rs.alwaysValidSchema)(i,n)){const c=r.var("valid",(0,er._)`${a} <= ${e.length}`);r.if((0,er.not)(c),()=>l(c)),t.ok(c)}function l(c){r.forRange("i",e.length,a,f=>{t.subschema({keyword:o,dataProp:f,dataPropType:rs.Type.Num},c),i.allErrors||r.if((0,er.not)(c),()=>r.break())})}}Er.validateAdditionalItems=qa;Er.default=Df;var Rs={},Sr={};Object.defineProperty(Sr,"__esModule",{value:!0});Sr.validateTuple=void 0;const To=he,pn=be,Mf=de,Ff={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(t){const{schema:e,it:r}=t;if(Array.isArray(e))return Ka(t,"additionalItems",e);r.items=!0,!(0,pn.alwaysValidSchema)(r,e)&&t.ok((0,Mf.validateArray)(t))}};function Ka(t,e,r=t.schema){const{gen:n,parentSchema:s,data:o,keyword:i,it:a}=t;f(s),a.opts.unevaluated&&r.length&&a.items!==!0&&(a.items=pn.mergeEvaluated.items(n,r.length,a.items));const l=n.name("valid"),c=n.const("len",(0,To._)`${o}.length`);r.forEach((u,h)=>{(0,pn.alwaysValidSchema)(a,u)||(n.if((0,To._)`${c} > ${h}`,()=>t.subschema({keyword:i,schemaProp:h,dataProp:h},l)),t.ok(l))});function f(u){const{opts:h,errSchemaPath:p}=a,g=r.length,_=g===u.minItems&&(g===u.maxItems||u[e]===!1);if(h.strictTuples&&!_){const m=`"${i}" is ${g}-tuple, but minItems or maxItems/${e} are not specified or different at path "${p}"`;(0,pn.checkStrictMode)(a,m,h.strictTuples)}}}Sr.validateTuple=Ka;Sr.default=Ff;Object.defineProperty(Rs,"__esModule",{value:!0});const zf=Sr,Lf={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:t=>(0,zf.validateTuple)(t,"items")};Rs.default=Lf;var Ds={};Object.defineProperty(Ds,"__esModule",{value:!0});const jo=he,Uf=be,Vf=de,Bf=Er,qf={message:({params:{len:t}})=>(0,jo.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,jo._)`{limit: ${t}}`},Kf={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:qf,code(t){const{schema:e,parentSchema:r,it:n}=t,{prefixItems:s}=r;n.items=!0,!(0,Uf.alwaysValidSchema)(n,e)&&(s?(0,Bf.validateAdditionalItems)(t,s):t.ok((0,Vf.validateArray)(t)))}};Ds.default=Kf;var Ms={};Object.defineProperty(Ms,"__esModule",{value:!0});const vt=he,an=be,Wf={message:({params:{min:t,max:e}})=>e===void 0?(0,vt.str)`must contain at least ${t} valid item(s)`:(0,vt.str)`must contain at least ${t} and no more than ${e} valid item(s)`,params:({params:{min:t,max:e}})=>e===void 0?(0,vt._)`{minContains: ${t}}`:(0,vt._)`{minContains: ${t}, maxContains: ${e}}`},Gf={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:Wf,code(t){const{gen:e,schema:r,parentSchema:n,data:s,it:o}=t;let i,a;const{minContains:l,maxContains:c}=n;o.opts.next?(i=l===void 0?1:l,a=c):i=1;const f=e.const("len",(0,vt._)`${s}.length`);if(t.setParams({min:i,max:a}),a===void 0&&i===0){(0,an.checkStrictMode)(o,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(a!==void 0&&i>a){(0,an.checkStrictMode)(o,'"minContains" > "maxContains" is always invalid'),t.fail();return}if((0,an.alwaysValidSchema)(o,r)){let _=(0,vt._)`${f} >= ${i}`;a!==void 0&&(_=(0,vt._)`${_} && ${f} <= ${a}`),t.pass(_);return}o.items=!0;const u=e.name("valid");a===void 0&&i===1?p(u,()=>e.if(u,()=>e.break())):i===0?(e.let(u,!0),a!==void 0&&e.if((0,vt._)`${s}.length > 0`,h)):(e.let(u,!1),h()),t.result(u,()=>t.reset());function h(){const _=e.name("_valid"),m=e.let("count",0);p(_,()=>e.if(_,()=>g(m)))}function p(_,m){e.forRange("i",0,f,d=>{t.subschema({keyword:"contains",dataProp:d,dataPropType:an.Type.Num,compositeRule:!0},_),m()})}function g(_){e.code((0,vt._)`${_}++`),a===void 0?e.if((0,vt._)`${_} >= ${i}`,()=>e.assign(u,!0).break()):(e.if((0,vt._)`${_} > ${a}`,()=>e.assign(u,!1).break()),i===1?e.assign(u,!0):e.if((0,vt._)`${_} >= ${i}`,()=>e.assign(u,!0)))}}};Ms.default=Gf;var Wa={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.validateSchemaDeps=t.validatePropertyDeps=t.error=void 0;const e=he,r=be,n=de;t.error={message:({params:{property:l,depsCount:c,deps:f}})=>{const u=c===1?"property":"properties";return(0,e.str)`must have ${u} ${f} when property ${l} is present`},params:({params:{property:l,depsCount:c,deps:f,missingProperty:u}})=>(0,e._)`{property: ${l},
    missingProperty: ${u},
    depsCount: ${c},
    deps: ${f}}`};const s={keyword:"dependencies",type:"object",schemaType:"object",error:t.error,code(l){const[c,f]=o(l);i(l,c),a(l,f)}};function o({schema:l}){const c={},f={};for(const u in l){if(u==="__proto__")continue;const h=Array.isArray(l[u])?c:f;h[u]=l[u]}return[c,f]}function i(l,c=l.schema){const{gen:f,data:u,it:h}=l;if(Object.keys(c).length===0)return;const p=f.let("missing");for(const g in c){const _=c[g];if(_.length===0)continue;const m=(0,n.propertyInData)(f,u,g,h.opts.ownProperties);l.setParams({property:g,depsCount:_.length,deps:_.join(", ")}),h.allErrors?f.if(m,()=>{for(const d of _)(0,n.checkReportMissingProp)(l,d)}):(f.if((0,e._)`${m} && (${(0,n.checkMissingProp)(l,_,p)})`),(0,n.reportMissingProp)(l,p),f.else())}}t.validatePropertyDeps=i;function a(l,c=l.schema){const{gen:f,data:u,keyword:h,it:p}=l,g=f.name("valid");for(const _ in c)(0,r.alwaysValidSchema)(p,c[_])||(f.if((0,n.propertyInData)(f,u,_,p.opts.ownProperties),()=>{const m=l.subschema({keyword:h,schemaProp:_},g);l.mergeValidEvaluated(m,g)},()=>f.var(g,!0)),l.ok(g))}t.validateSchemaDeps=a,t.default=s})(Wa);var Fs={};Object.defineProperty(Fs,"__esModule",{value:!0});const Ga=he,Hf=be,Jf={message:"property name must be valid",params:({params:t})=>(0,Ga._)`{propertyName: ${t.propertyName}}`},Xf={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:Jf,code(t){const{gen:e,schema:r,data:n,it:s}=t;if((0,Hf.alwaysValidSchema)(s,r))return;const o=e.name("valid");e.forIn("key",n,i=>{t.setParams({propertyName:i}),t.subschema({keyword:"propertyNames",data:i,dataTypes:["string"],propertyName:i,compositeRule:!0},o),e.if((0,Ga.not)(o),()=>{t.error(!0),s.allErrors||e.break()})}),t.ok(o)}};Fs.default=Xf;var Rn={};Object.defineProperty(Rn,"__esModule",{value:!0});const ln=de,$t=he,Yf=jt,cn=be,Zf={message:"must NOT have additional properties",params:({params:t})=>(0,$t._)`{additionalProperty: ${t.additionalProperty}}`},Qf={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:Zf,code(t){const{gen:e,schema:r,parentSchema:n,data:s,errsCount:o,it:i}=t;if(!o)throw new Error("ajv implementation error");const{allErrors:a,opts:l}=i;if(i.props=!0,l.removeAdditional!=="all"&&(0,cn.alwaysValidSchema)(i,r))return;const c=(0,ln.allSchemaProperties)(n.properties),f=(0,ln.allSchemaProperties)(n.patternProperties);u(),t.ok((0,$t._)`${o} === ${Yf.default.errors}`);function u(){e.forIn("key",s,m=>{!c.length&&!f.length?g(m):e.if(h(m),()=>g(m))})}function h(m){let d;if(c.length>8){const v=(0,cn.schemaRefOrVal)(i,n.properties,"properties");d=(0,ln.isOwnProperty)(e,v,m)}else c.length?d=(0,$t.or)(...c.map(v=>(0,$t._)`${m} === ${v}`)):d=$t.nil;return f.length&&(d=(0,$t.or)(d,...f.map(v=>(0,$t._)`${(0,ln.usePattern)(t,v)}.test(${m})`))),(0,$t.not)(d)}function p(m){e.code((0,$t._)`delete ${s}[${m}]`)}function g(m){if(l.removeAdditional==="all"||l.removeAdditional&&r===!1){p(m);return}if(r===!1){t.setParams({additionalProperty:m}),t.error(),a||e.break();return}if(typeof r=="object"&&!(0,cn.alwaysValidSchema)(i,r)){const d=e.name("valid");l.removeAdditional==="failing"?(_(m,d,!1),e.if((0,$t.not)(d),()=>{t.reset(),p(m)})):(_(m,d),a||e.if((0,$t.not)(d),()=>e.break()))}}function _(m,d,v){const k={keyword:"additionalProperties",dataProp:m,dataPropType:cn.Type.Str};v===!1&&Object.assign(k,{compositeRule:!0,createErrors:!1,allErrors:!1}),t.subschema(k,d)}}};Rn.default=Qf;var zs={};Object.defineProperty(zs,"__esModule",{value:!0});const xf=St,Io=de,Hn=be,Ro=Rn,ed={keyword:"properties",type:"object",schemaType:"object",code(t){const{gen:e,schema:r,parentSchema:n,data:s,it:o}=t;o.opts.removeAdditional==="all"&&n.additionalProperties===void 0&&Ro.default.code(new xf.KeywordCxt(o,Ro.default,"additionalProperties"));const i=(0,Io.allSchemaProperties)(r);for(const u of i)o.definedProperties.add(u);o.opts.unevaluated&&i.length&&o.props!==!0&&(o.props=Hn.mergeEvaluated.props(e,(0,Hn.toHash)(i),o.props));const a=i.filter(u=>!(0,Hn.alwaysValidSchema)(o,r[u]));if(a.length===0)return;const l=e.name("valid");for(const u of a)c(u)?f(u):(e.if((0,Io.propertyInData)(e,s,u,o.opts.ownProperties)),f(u),o.allErrors||e.else().var(l,!0),e.endIf()),t.it.definedProperties.add(u),t.ok(l);function c(u){return o.opts.useDefaults&&!o.compositeRule&&r[u].default!==void 0}function f(u){t.subschema({keyword:"properties",schemaProp:u,dataProp:u},l)}}};zs.default=ed;var Ls={};Object.defineProperty(Ls,"__esModule",{value:!0});const Do=de,un=he,Mo=be,Fo=be,td={keyword:"patternProperties",type:"object",schemaType:"object",code(t){const{gen:e,schema:r,data:n,parentSchema:s,it:o}=t,{opts:i}=o,a=(0,Do.allSchemaProperties)(r),l=a.filter(_=>(0,Mo.alwaysValidSchema)(o,r[_]));if(a.length===0||l.length===a.length&&(!o.opts.unevaluated||o.props===!0))return;const c=i.strictSchema&&!i.allowMatchingProperties&&s.properties,f=e.name("valid");o.props!==!0&&!(o.props instanceof un.Name)&&(o.props=(0,Fo.evaluatedPropsToName)(e,o.props));const{props:u}=o;h();function h(){for(const _ of a)c&&p(_),o.allErrors?g(_):(e.var(f,!0),g(_),e.if(f))}function p(_){for(const m in c)new RegExp(_).test(m)&&(0,Mo.checkStrictMode)(o,`property ${m} matches pattern ${_} (use allowMatchingProperties)`)}function g(_){e.forIn("key",n,m=>{e.if((0,un._)`${(0,Do.usePattern)(t,_)}.test(${m})`,()=>{const d=l.includes(_);d||t.subschema({keyword:"patternProperties",schemaProp:_,dataProp:m,dataPropType:Fo.Type.Str},f),o.opts.unevaluated&&u!==!0?e.assign((0,un._)`${u}[${m}]`,!0):!d&&!o.allErrors&&e.if((0,un.not)(f),()=>e.break())})})}}};Ls.default=td;var Us={};Object.defineProperty(Us,"__esModule",{value:!0});const rd=be,nd={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(t){const{gen:e,schema:r,it:n}=t;if((0,rd.alwaysValidSchema)(n,r)){t.fail();return}const s=e.name("valid");t.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},s),t.failResult(s,()=>t.reset(),()=>t.error())},error:{message:"must NOT be valid"}};Us.default=nd;var Vs={};Object.defineProperty(Vs,"__esModule",{value:!0});const sd=de,od={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:sd.validateUnion,error:{message:"must match a schema in anyOf"}};Vs.default=od;var Bs={};Object.defineProperty(Bs,"__esModule",{value:!0});const _n=he,id=be,ad={message:"must match exactly one schema in oneOf",params:({params:t})=>(0,_n._)`{passingSchemas: ${t.passing}}`},ld={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:ad,code(t){const{gen:e,schema:r,parentSchema:n,it:s}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");if(s.opts.discriminator&&n.discriminator)return;const o=r,i=e.let("valid",!1),a=e.let("passing",null),l=e.name("_valid");t.setParams({passing:a}),e.block(c),t.result(i,()=>t.reset(),()=>t.error(!0));function c(){o.forEach((f,u)=>{let h;(0,id.alwaysValidSchema)(s,f)?e.var(l,!0):h=t.subschema({keyword:"oneOf",schemaProp:u,compositeRule:!0},l),u>0&&e.if((0,_n._)`${l} && ${i}`).assign(i,!1).assign(a,(0,_n._)`[${a}, ${u}]`).else(),e.if(l,()=>{e.assign(i,!0),e.assign(a,u),h&&t.mergeEvaluated(h,_n.Name)})})}}};Bs.default=ld;var qs={};Object.defineProperty(qs,"__esModule",{value:!0});const cd=be,ud={keyword:"allOf",schemaType:"array",code(t){const{gen:e,schema:r,it:n}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");const s=e.name("valid");r.forEach((o,i)=>{if((0,cd.alwaysValidSchema)(n,o))return;const a=t.subschema({keyword:"allOf",schemaProp:i},s);t.ok(s),t.mergeEvaluated(a)})}};qs.default=ud;var Ks={};Object.defineProperty(Ks,"__esModule",{value:!0});const Sn=he,Ha=be,fd={message:({params:t})=>(0,Sn.str)`must match "${t.ifClause}" schema`,params:({params:t})=>(0,Sn._)`{failingKeyword: ${t.ifClause}}`},dd={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:fd,code(t){const{gen:e,parentSchema:r,it:n}=t;r.then===void 0&&r.else===void 0&&(0,Ha.checkStrictMode)(n,'"if" without "then" and "else" is ignored');const s=zo(n,"then"),o=zo(n,"else");if(!s&&!o)return;const i=e.let("valid",!0),a=e.name("_valid");if(l(),t.reset(),s&&o){const f=e.let("ifClause");t.setParams({ifClause:f}),e.if(a,c("then",f),c("else",f))}else s?e.if(a,c("then")):e.if((0,Sn.not)(a),c("else"));t.pass(i,()=>t.error(!0));function l(){const f=t.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},a);t.mergeEvaluated(f)}function c(f,u){return()=>{const h=t.subschema({keyword:f},a);e.assign(i,a),t.mergeValidEvaluated(h,i),u?e.assign(u,(0,Sn._)`${f}`):t.setParams({ifClause:f})}}}};function zo(t,e){const r=t.schema[e];return r!==void 0&&!(0,Ha.alwaysValidSchema)(t,r)}Ks.default=dd;var Ws={};Object.defineProperty(Ws,"__esModule",{value:!0});const hd=be,md={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:t,parentSchema:e,it:r}){e.if===void 0&&(0,hd.checkStrictMode)(r,`"${t}" without "if" is ignored`)}};Ws.default=md;Object.defineProperty(Is,"__esModule",{value:!0});const pd=Er,_d=Rs,gd=Sr,vd=Ds,yd=Ms,bd=Wa,wd=Fs,$d=Rn,kd=zs,Ed=Ls,Sd=Us,Cd=Vs,Nd=Bs,Pd=qs,Od=Ks,Ad=Ws;function Td(t=!1){const e=[Sd.default,Cd.default,Nd.default,Pd.default,Od.default,Ad.default,wd.default,$d.default,bd.default,kd.default,Ed.default];return t?e.push(_d.default,vd.default):e.push(pd.default,gd.default),e.push(yd.default),e}Is.default=Td;var Gs={},Hs={};Object.defineProperty(Hs,"__esModule",{value:!0});const Be=he,jd={message:({schemaCode:t})=>(0,Be.str)`must match format "${t}"`,params:({schemaCode:t})=>(0,Be._)`{format: ${t}}`},Id={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:jd,code(t,e){const{gen:r,data:n,$data:s,schema:o,schemaCode:i,it:a}=t,{opts:l,errSchemaPath:c,schemaEnv:f,self:u}=a;if(!l.validateFormats)return;s?h():p();function h(){const g=r.scopeValue("formats",{ref:u.formats,code:l.code.formats}),_=r.const("fDef",(0,Be._)`${g}[${i}]`),m=r.let("fType"),d=r.let("format");r.if((0,Be._)`typeof ${_} == "object" && !(${_} instanceof RegExp)`,()=>r.assign(m,(0,Be._)`${_}.type || "string"`).assign(d,(0,Be._)`${_}.validate`),()=>r.assign(m,(0,Be._)`"string"`).assign(d,_)),t.fail$data((0,Be.or)(v(),k()));function v(){return l.strictSchema===!1?Be.nil:(0,Be._)`${i} && !${d}`}function k(){const E=f.$async?(0,Be._)`(${_}.async ? await ${d}(${n}) : ${d}(${n}))`:(0,Be._)`${d}(${n})`,I=(0,Be._)`(typeof ${d} == "function" ? ${E} : ${d}.test(${n}))`;return(0,Be._)`${d} && ${d} !== true && ${m} === ${e} && !${I}`}}function p(){const g=u.formats[o];if(!g){v();return}if(g===!0)return;const[_,m,d]=k(g);_===e&&t.pass(E());function v(){if(l.strictSchema===!1){u.logger.warn(I());return}throw new Error(I());function I(){return`unknown format "${o}" ignored in schema at path "${c}"`}}function k(I){const w=I instanceof RegExp?(0,Be.regexpCode)(I):l.code.formats?(0,Be._)`${l.code.formats}${(0,Be.getProperty)(o)}`:void 0,O=r.scopeValue("formats",{key:o,ref:I,code:w});return typeof I=="object"&&!(I instanceof RegExp)?[I.type||"string",I.validate,(0,Be._)`${O}.validate`]:["string",I,O]}function E(){if(typeof g=="object"&&!(g instanceof RegExp)&&g.async){if(!f.$async)throw new Error("async format in sync schema");return(0,Be._)`await ${d}(${n})`}return typeof m=="function"?(0,Be._)`${d}(${n})`:(0,Be._)`${d}.test(${n})`}}}};Hs.default=Id;Object.defineProperty(Gs,"__esModule",{value:!0});const Rd=Hs,Dd=[Rd.default];Gs.default=Dd;var $r={};Object.defineProperty($r,"__esModule",{value:!0});$r.contentVocabulary=$r.metadataVocabulary=void 0;$r.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];$r.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(vs,"__esModule",{value:!0});const Md=ys,Fd=ws,zd=Is,Ld=Gs,Lo=$r,Ud=[Md.default,Fd.default,(0,zd.default)(),Ld.default,Lo.metadataVocabulary,Lo.contentVocabulary];vs.default=Ud;var Js={},Ja={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DiscrError=void 0,function(e){e.Tag="tag",e.Mapping="mapping"}(t.DiscrError||(t.DiscrError={}))})(Ja);Object.defineProperty(Js,"__esModule",{value:!0});const mr=he,ns=Ja,Uo=ft,Vd=be,Bd={message:({params:{discrError:t,tagName:e}})=>t===ns.DiscrError.Tag?`tag "${e}" must be string`:`value of tag "${e}" must be in oneOf`,params:({params:{discrError:t,tag:e,tagName:r}})=>(0,mr._)`{error: ${t}, tag: ${r}, tagValue: ${e}}`},qd={keyword:"discriminator",type:"object",schemaType:"object",error:Bd,code(t){const{gen:e,data:r,schema:n,parentSchema:s,it:o}=t,{oneOf:i}=s;if(!o.opts.discriminator)throw new Error("discriminator: requires discriminator option");const a=n.propertyName;if(typeof a!="string")throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!i)throw new Error("discriminator: requires oneOf keyword");const l=e.let("valid",!1),c=e.const("tag",(0,mr._)`${r}${(0,mr.getProperty)(a)}`);e.if((0,mr._)`typeof ${c} == "string"`,()=>f(),()=>t.error(!1,{discrError:ns.DiscrError.Tag,tag:c,tagName:a})),t.ok(l);function f(){const p=h();e.if(!1);for(const g in p)e.elseIf((0,mr._)`${c} === ${g}`),e.assign(l,u(p[g]));e.else(),t.error(!1,{discrError:ns.DiscrError.Mapping,tag:c,tagName:a}),e.endIf()}function u(p){const g=e.name("valid"),_=t.subschema({keyword:"oneOf",schemaProp:p},g);return t.mergeEvaluated(_,mr.Name),g}function h(){var p;const g={},_=d(s);let m=!0;for(let E=0;E<i.length;E++){let I=i[E];I?.$ref&&!(0,Vd.schemaHasRulesButRef)(I,o.self.RULES)&&(I=Uo.resolveRef.call(o.self,o.schemaEnv.root,o.baseId,I?.$ref),I instanceof Uo.SchemaEnv&&(I=I.schema));const w=(p=I?.properties)===null||p===void 0?void 0:p[a];if(typeof w!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${a}"`);m=m&&(_||d(I)),v(w,E)}if(!m)throw new Error(`discriminator: "${a}" must be required`);return g;function d({required:E}){return Array.isArray(E)&&E.includes(a)}function v(E,I){if(E.const)k(E.const,I);else if(E.enum)for(const w of E.enum)k(w,I);else throw new Error(`discriminator: "properties/${a}" must have "const" or "enum"`)}function k(E,I){if(typeof E!="string"||E in g)throw new Error(`discriminator: "${a}" values must be unique strings`);g[E]=I}}}};Js.default=qd;const Kd="http://json-schema.org/draft-07/schema#",Wd="http://json-schema.org/draft-07/schema#",Gd="Core schema meta-schema",Hd={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},Jd=["object","boolean"],Xd={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}};var Yd={$schema:Kd,$id:Wd,title:Gd,definitions:Hd,type:Jd,properties:Xd,default:!0};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;const r=pa,n=vs,s=Js,o=Yd,i=["/properties"],a="http://json-schema.org/draft-07/schema";class l extends r.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(h=>this.addVocabulary(h)),this.opts.discriminator&&this.addKeyword(s.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const h=this.opts.$data?this.$dataMetaSchema(o,i):o;this.addMetaSchema(h,a,!1),this.refs["http://json-schema.org/schema"]=a}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(a)?a:void 0)}}t.exports=e=l,Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var c=St;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return c.KeywordCxt}});var f=he;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return f._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return f.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return f.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return f.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return f.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return f.CodeGen}})})(Zn,Zn.exports);var Zd=lc(Zn.exports);const sr="0.5",gn="File not found";function qr(t,e){return e=="0.5"||e=="0.5-dev2"?`https://raw.githubusercontent.com/ome/ngff/spec-rfc2/latest/schemas/${t}.schema`:`https://raw.githubusercontent.com/ome/ngff/main/${e}/schemas/${t}.schema`}async function Xa(t){let e=`Error Loading ${t}:`,r;try{r=await fetch(t).then(function(n){if(!n.ok)n.status==404?e+=` ${gn}`:e+=` ${n.statusText}`;else return n})}catch(n){console.log("check for CORS..."),console.log(n);try{let s=await fetch(t,{mode:"no-cors"});console.log("corsRsp",s),e+=" Failed due to CORS issues."}catch(s){console.log("Even `no-cors` request failed!",s),e+=` ${n}`}}if(r)return r;throw Error(e)}function Ya(t){return["0.1","0.2","0.3","0.4"].includes(t)?".zattrs":"zarr.json"}function Qd(t){return["0.1","0.2","0.3","0.4"].includes(t)?".zarray":"zarr.json"}async function Xr(t){return await Za(t,".zattrs")}async function xd(t){return Za(t,".zarray")}async function Za(t,e){let r;try{r=await Lt(t+"/zarr.json")}catch(n){if(console.log("getZarrJson",n),!n.message.includes(gn))throw n;try{r=await Lt(t+`/${e}`)}catch(s){throw s.message.includes(gn)?Error(`No ${e} or zarr.json at ${t}: ${gn}`):s}}if(r)return r}async function Lt(t){return Xa(t).then(e=>e.json())}async function eh(t){let e=await th(t);console.log("xmlString",e);var r=new DOMParser;let n=r.parseFromString(e,"text/xml");return console.log("dom",n),n}async function th(t){return Xa(t).then(e=>e.text())}let Jn={};async function Kr(t){if(!Jn[t]){console.log("Loading schema... "+t);const e=await Lt(t);delete e.$schema,Jn[t]=e}return Jn[t]}function lr(t){if(t.attributes?.ome){if(t.attributes.ome.version)return t.attributes.ome.version;throw Error("No version found in attributes.ome")}if(t.ome?.version)return t.ome.version;if(t.version)return t.version;let e=t.multiscales?t.multiscales[0].version:t.plate?t.plate.version:t.well?t.well.version:void 0;return console.log("version",e),e||"0.4"}function rh(t){return t[0].toUpperCase()+t.slice(1)}function Qa(t){if(t["bioformats2raw.layout"])return"bioformats2raw.layout";let e=nh(t);return e?rh(e):""}function nh(t){return xa(t)[0]}function xa(t){let e=[];return t.multiscales&&e.push("image"),t.plate&&e.push("plate"),t.well&&e.push("well"),t["image-label"]&&e.push("label"),e}function el(t){console.log("getSchemaUrlsForJson rootAttrs",t);let e=t?.attributes?.ome||t;const n=lr(e)||sr;return xa(e).map(o=>qr(o,n))}function sh(t,e,r){const n=new Zd({strict:!1}),o=r.reduce((l,c)=>l.addSchema(c),n).compile(t),i=o(e);let a=[];return i||(a=o.errors,console.log(a)),a}async function Wr(t){let e=t?.attributes?.ome||t,r=lr(e);if(t?.attributes?.ome){if(!t.attributes.ome.version)return["No version found under attributes.ome"]}else r||(r="0.4");console.log("validate VERSION",r,t);const n=el(t);if(n.length==0)return["No schemas found. Unrecognised JSON data"];r||(console.log("No version found, using: "+sr),r=sr);let s=[];r==="0.5"&&(s=[await Kr(qr("_version",r))],t=t.attributes);let o=[];for(let i=0;i<n.length;i++){let a=await Kr(n[i]),l=sh(a,t,s);o=o.concat(l)}return o.length>0&&console.log("Validation errors",o,t),o}function oh(t){var e=["Bytes","KB","MB","GB","TB"];if(t==0)return"0 Byte";var r=Math.floor(Math.log(t)/Math.log(1e3));return(t/Math.pow(1e3,r)).toFixed(2)+" "+e[r]}function or(t){if(t.chunks)return[t.chunks,void 0];const e=t.chunk_grid?.configuration?.chunk_shape,n=t.codecs?.filter(s=>s.name=="sharding_indexed")?.[0]?.configuration?.chunk_shape;return n?[n,e]:[e,void 0]}function tl(t){return t.dtype||t.data_type}function rl(t){return new URLSearchParams(window.location.search).get(t)}function Cn(t){return Array.from({length:t},(e,r)=>r)}function ih(t){let e,r=[{width:t[1]},{height:t[1]},{"stroke-width":"0"},{class:t[2]},t[0].a,t[4],{xmlns:"http://www.w3.org/2000/svg"}],n={};for(let s=0;s<r.length;s+=1)n=na(n,r[s]);return{c(){e=ua("svg"),_o(e,n)},m(s,o){T(s,e,o),e.innerHTML=t[3]},p(s,[o]){o&8&&(e.innerHTML=s[3]),_o(e,n=xl(r,[o&2&&{width:s[1]},o&2&&{height:s[1]},{"stroke-width":"0"},o&4&&{class:s[2]},o&1&&s[0].a,o&16&&s[4],{xmlns:"http://www.w3.org/2000/svg"}]))},i:L,o:L,d(s){s&&A(e)}}}function ah(t,e,r){let{src:n}=e,{size:s="1em"}=e,{color:o=void 0}=e,{title:i=void 0}=e,{className:a=""}=e,l,c;return t.$$set=f=>{"src"in f&&r(0,n=f.src),"size"in f&&r(1,s=f.size),"color"in f&&r(5,o=f.color),"title"in f&&r(6,i=f.title),"className"in f&&r(2,a=f.className)},t.$$.update=()=>{t.$$.dirty&33&&(r(4,c={}),o&&(n.a.stroke!=="none"&&r(4,c.stroke=o,c),n.a.fill!=="none"&&r(4,c.fill=o,c))),t.$$.dirty&65&&r(3,l=(i?`<title>${i}</title>`:"")+n.c)},[n,s,a,l,c,o,i]}class nl extends Ce{constructor(e){super(),Se(this,e,ah,ih,$e,{src:0,size:1,color:5,title:6,className:2})}}var lh={a:{viewBox:"0 0 16 16",fill:"currentColor"},c:'<path d="M12.14 8.753l-5.482 4.796c-.646.566-1.658.106-1.658-.753V3.204a1 1 0 0 1 1.659-.753l5.48 4.796a1 1 0 0 1 0 1.506z"></path>'};function ch(t){const e=t-1;return e*e*e+1}function uh(t,{delay:e=0,duration:r=400,easing:n=ra}={}){const s=+getComputedStyle(t).opacity;return{delay:e,duration:r,easing:n,css:o=>`opacity: ${o*s}`}}function Vo(t,{delay:e=0,duration:r=400,easing:n=ch}={}){const s=getComputedStyle(t),o=+s.opacity,i=parseFloat(s.height),a=parseFloat(s.paddingTop),l=parseFloat(s.paddingBottom),c=parseFloat(s.marginTop),f=parseFloat(s.marginBottom),u=parseFloat(s.borderTopWidth),h=parseFloat(s.borderBottomWidth);return{delay:e,duration:r,easing:n,css:p=>`overflow: hidden;opacity: ${Math.min(p*20,1)*o};height: ${p*i}px;padding-top: ${p*a}px;padding-bottom: ${p*l}px;margin-top: ${p*c}px;margin-bottom: ${p*f}px;border-top-width: ${p*u}px;border-bottom-width: ${p*h}px;`}}var fh={a:{viewBox:"0 0 16 16",fill:"currentColor"},c:'<path fill-rule="evenodd" d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm.93-9.412l-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM8 5.5a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"></path>'};function Bo(t){let e,r,n,s,o,i;return r=new nl({props:{className:"info",src:fh}}),{c(){e=N("a"),ce(r.$$.fragment),S(e,"target","_blank"),S(e,"href",t[1]),S(e,"title",n="Open ngff spec for "+t[0]+"."),S(e,"class","svelte-18a4t9w")},m(a,l){T(a,e,l),ie(r,e,null),s=!0,o||(i=He(e,"click",Dl(t[4])),o=!0)},p(a,l){(!s||l&2)&&S(e,"href",a[1]),(!s||l&1&&n!==(n="Open ngff spec for "+a[0]+"."))&&S(e,"title",n)},i(a){s||(B(r.$$.fragment,a),s=!0)},o(a){K(r.$$.fragment,a),s=!1},d(a){a&&A(e),ae(r),o=!1,i()}}}function dh(t){let e,r,n,s,o,i=t[1]&&Bo(t);return{c(){e=N("span"),r=z(t[0]),i&&i.c(),S(e,"class","key svelte-18a4t9w"),S(e,"href",t[1])},m(a,l){T(a,e,l),b(e,r),i&&i.m(e,null),n=!0,s||(o=He(e,"click",t[2]),s=!0)},p(a,[l]){(!n||l&1)&&Ee(r,a[0]),a[1]?i?(i.p(a,l),l&2&&B(i,1)):(i=Bo(a),i.c(),B(i,1),i.m(e,null)):i&&(Pe(),K(i,1,1,()=>{i=null}),Oe()),(!n||l&2)&&S(e,"href",a[1])},i(a){n||(B(i),n=!0)},o(a){K(i),n=!1},d(a){a&&A(e),i&&i.d(),s=!1,o()}}}function hh(t,e,r){const n=ha();function s(){n("toggle")}let{name:o}=e,{version:i}=e;const a={multiscales:"multiscale-md",omero:"omero-md",labels:"labels-md","image-label":"label-md",plate:"plate-md",well:"well-md"},c={"0.1":a,"0.2":a,"0.3":a,"0.4":{axes:"axes-md",coordinateTransforms:"trafo-md",...a}}[i]||{};let f="";c[o]&&(f=`https://ngff.openmicroscopy.org/${i}/index.html#${c[o]}`);function u(h){Hl.call(this,t,h)}return t.$$set=h=>{"name"in h&&r(0,o=h.name),"version"in h&&r(3,i=h.version)},[o,f,s,i,u]}class mh extends Ce{constructor(e){super(),Se(this,e,hh,dh,$e,{name:0,version:3})}}function qo(t,e,r){const n=t.slice();return n[9]=e[r],n[8]=r,n}function Ko(t,e,r){const n=t.slice();return n[6]=e[r],n[8]=r,n}function Wo(t){let e,r,n;return e=new mh({props:{name:t[1],version:t[4]}}),e.$on("toggle",t[5]),{c(){ce(e.$$.fragment),r=z(":")},m(s,o){ie(e,s,o),T(s,r,o),n=!0},p(s,o){const i={};o&2&&(i.name=s[1]),o&16&&(i.version=s[4]),e.$set(i)},i(s){n||(B(e.$$.fragment,s),n=!0)},o(s){K(e.$$.fragment,s),n=!1},d(s){ae(e,s),s&&A(r)}}}function ph(t){let e="{",r;return{c(){r=z(e)},m(n,s){T(n,r,s)},d(n){n&&A(r)}}}function _h(t){let e="[",r;return{c(){r=z(e)},m(n,s){T(n,r,s)},d(n){n&&A(r)}}}function Go(t){let e,r,n,s,o,i,a,l,c;function f(d,v){return v&4&&(n=null),n==null&&(n=!!Array.isArray(d[2])),n?vh:gh}let u=f(t,-1),h=u(t),p=!t[3]&&Ho();function g(d,v){return v&4&&(l=null),l==null&&(l=!!Array.isArray(d[2])),l?bh:yh}let _=g(t,-1),m=_(t);return{c(){e=N("span"),e.textContent="...",r=W(),h.c(),s=W(),p&&p.c(),o=W(),i=N("span"),a=z("// "),m.c(),c=z(" items"),S(e,"class","comment dots svelte-60tpry"),S(i,"class","comment svelte-60tpry")},m(d,v){T(d,e,v),T(d,r,v),h.m(d,v),T(d,s,v),p&&p.m(d,v),T(d,o,v),T(d,i,v),b(i,a),m.m(i,null),b(i,c)},p(d,v){u!==(u=f(d,v))&&(h.d(1),h=u(d),h&&(h.c(),h.m(s.parentNode,s))),d[3]?p&&(p.d(1),p=null):p||(p=Ho(),p.c(),p.m(o.parentNode,o)),_===(_=g(d,v))&&m?m.p(d,v):(m.d(1),m=_(d),m&&(m.c(),m.m(i,c)))},d(d){d&&A(e),d&&A(r),h.d(d),d&&A(s),p&&p.d(d),d&&A(o),d&&A(i),m.d()}}}function gh(t){let e="}",r;return{c(){r=z(e)},m(n,s){T(n,r,s)},d(n){n&&A(r)}}}function vh(t){let e="]",r;return{c(){r=z(e)},m(n,s){T(n,r,s)},d(n){n&&A(r)}}}function Ho(t){let e;return{c(){e=N("span"),e.textContent=",",S(e,"class","trailing-comma svelte-60tpry")},m(r,n){T(r,e,n)},d(r){r&&A(e)}}}function yh(t){let e=Object.keys(t[2]).length+"",r;return{c(){r=z(e)},m(n,s){T(n,r,s)},p(n,s){s&4&&e!==(e=Object.keys(n[2]).length+"")&&Ee(r,e)},d(n){n&&A(r)}}}function bh(t){let e=t[2].length+"",r;return{c(){r=z(e)},m(n,s){T(n,r,s)},p(n,s){s&4&&e!==(e=n[2].length+"")&&Ee(r,e)},d(n){n&&A(r)}}}function Jo(t){let e,r,n,s,o,i;const a=[$h,wh],l=[];function c(f,u){return u&4&&(r=null),r==null&&(r=!!Array.isArray(f[2])),r?0:1}return n=c(t,-1),s=l[n]=a[n](t),{c(){e=N("ul"),s.c(),S(e,"class","svelte-60tpry")},m(f,u){T(f,e,u),l[n].m(e,null),i=!0},p(f,u){let h=n;n=c(f,u),n===h?l[n].p(f,u):(Pe(),K(l[h],1,1,()=>{l[h]=null}),Oe(),s=l[n],s?s.p(f,u):(s=l[n]=a[n](f),s.c()),B(s,1),s.m(e,null))},i(f){i||(B(s),Jt(()=>{o||(o=_r(e,Vo,{duration:300},!0)),o.run(1)}),i=!0)},o(f){K(s),o||(o=_r(e,Vo,{duration:300},!1)),o.run(0),i=!1},d(f){f&&A(e),l[n].d(),f&&o&&o.end()}}}function wh(t){let e,r,n=Object.entries(t[2]),s=[];for(let i=0;i<n.length;i+=1)s[i]=Yo(qo(t,n,i));const o=i=>K(s[i],1,1,()=>{s[i]=null});return{c(){for(let i=0;i<s.length;i+=1)s[i].c();e=Ae()},m(i,a){for(let l=0;l<s.length;l+=1)s[l].m(i,a);T(i,e,a),r=!0},p(i,a){if(a&20){n=Object.entries(i[2]);let l;for(l=0;l<n.length;l+=1){const c=qo(i,n,l);s[l]?(s[l].p(c,a),B(s[l],1)):(s[l]=Yo(c),s[l].c(),B(s[l],1),s[l].m(e.parentNode,e))}for(Pe(),l=n.length;l<s.length;l+=1)o(l);Oe()}},i(i){if(!r){for(let a=0;a<n.length;a+=1)B(s[a]);r=!0}},o(i){s=s.filter(Boolean);for(let a=0;a<s.length;a+=1)K(s[a]);r=!1},d(i){Je(s,i),i&&A(e)}}}function $h(t){let e,r,n=t[2],s=[];for(let i=0;i<n.length;i+=1)s[i]=Qo(Ko(t,n,i));const o=i=>K(s[i],1,1,()=>{s[i]=null});return{c(){for(let i=0;i<s.length;i+=1)s[i].c();e=Ae()},m(i,a){for(let l=0;l<s.length;l+=1)s[l].m(i,a);T(i,e,a),r=!0},p(i,a){if(a&20){n=i[2];let l;for(l=0;l<n.length;l+=1){const c=Ko(i,n,l);s[l]?(s[l].p(c,a),B(s[l],1)):(s[l]=Qo(c),s[l].c(),B(s[l],1),s[l].m(e.parentNode,e))}for(Pe(),l=n.length;l<s.length;l+=1)o(l);Oe()}},i(i){if(!r){for(let a=0;a<n.length;a+=1)B(s[a]);r=!0}},o(i){s=s.filter(Boolean);for(let a=0;a<s.length;a+=1)K(s[a]);r=!1},d(i){Je(s,i),i&&A(e)}}}function kh(t){let e,r,n=t[9][0]+"",s,o,i,a,l=Object.keys(t[2]).length!=t[8]+1,c;function f(g,_){return typeof g[9][1]=="string"?Nh:typeof g[9][1]=="number"?Ch:Sh}let u=f(t),h=u(t),p=l&&Xo();return{c(){e=N("span"),r=z('"'),s=z(n),o=z('"'),i=z(`:

                
                `),h.c(),a=W(),p&&p.c(),c=Ae(),S(e,"class","key indent svelte-60tpry")},m(g,_){T(g,e,_),b(e,r),b(e,s),b(e,o),T(g,i,_),h.m(g,_),T(g,a,_),p&&p.m(g,_),T(g,c,_)},p(g,_){_&4&&n!==(n=g[9][0]+"")&&Ee(s,n),u===(u=f(g))&&h?h.p(g,_):(h.d(1),h=u(g),h&&(h.c(),h.m(a.parentNode,a))),_&4&&(l=Object.keys(g[2]).length!=g[8]+1),l?p||(p=Xo(),p.c(),p.m(c.parentNode,c)):p&&(p.d(1),p=null)},i:L,o:L,d(g){g&&A(e),g&&A(i),h.d(g),g&&A(a),p&&p.d(g),g&&A(c)}}}function Eh(t){let e,r;return e=new Dn({props:{name:t[9][0],version:t[4],contents:t[9][1],expanded:Object.values(t[2]).length==1,last:Object.keys(t[2]).length===t[8]+1}}),{c(){ce(e.$$.fragment)},m(n,s){ie(e,n,s),r=!0},p(n,s){const o={};s&4&&(o.name=n[9][0]),s&16&&(o.version=n[4]),s&4&&(o.contents=n[9][1]),s&4&&(o.expanded=Object.values(n[2]).length==1),s&4&&(o.last=Object.keys(n[2]).length===n[8]+1),e.$set(o)},i(n){r||(B(e.$$.fragment,n),r=!0)},o(n){K(e.$$.fragment,n),r=!1},d(n){ae(e,n)}}}function Sh(t){let e,r=t[9][1]+"",n;return{c(){e=N("span"),n=z(r),S(e,"class","null svelte-60tpry")},m(s,o){T(s,e,o),b(e,n)},p(s,o){o&4&&r!==(r=s[9][1]+"")&&Ee(n,r)},d(s){s&&A(e)}}}function Ch(t){let e,r=t[9][1]+"",n;return{c(){e=N("span"),n=z(r),S(e,"class","number svelte-60tpry")},m(s,o){T(s,e,o),b(e,n)},p(s,o){o&4&&r!==(r=s[9][1]+"")&&Ee(n,r)},d(s){s&&A(e)}}}function Nh(t){let e,r,n=t[9][1]+"",s,o;return{c(){e=N("span"),r=z('"'),s=z(n),o=z('"'),S(e,"class","string svelte-60tpry")},m(i,a){T(i,e,a),b(e,r),b(e,s),b(e,o)},p(i,a){a&4&&n!==(n=i[9][1]+"")&&Ee(s,n)},d(i){i&&A(e)}}}function Xo(t){let e;return{c(){e=N("span"),e.textContent=",",S(e,"class","trailing-comma svelte-60tpry")},m(r,n){T(r,e,n)},d(r){r&&A(e)}}}function Yo(t){let e,r,n,s,o;const i=[Eh,kh],a=[];function l(c,f){return c[9][1]&&typeof c[9][1]=="object"?0:1}return r=l(t),n=a[r]=i[r](t),{c(){e=N("li"),n.c(),s=W(),S(e,"class","svelte-60tpry")},m(c,f){T(c,e,f),a[r].m(e,null),b(e,s),o=!0},p(c,f){let u=r;r=l(c),r===u?a[r].p(c,f):(Pe(),K(a[u],1,1,()=>{a[u]=null}),Oe(),n=a[r],n?n.p(c,f):(n=a[r]=i[r](c),n.c()),B(n,1),n.m(e,s))},i(c){o||(B(n),o=!0)},o(c){K(n),o=!1},d(c){c&&A(e),a[r].d()}}}function Ph(t){let e,r;function n(a,l){return typeof a[6]=="string"?jh:typeof a[6]=="number"?Th:Ah}let s=n(t),o=s(t),i=t[2].length!=t[8]+1&&Zo();return{c(){o.c(),e=W(),i&&i.c(),r=Ae()},m(a,l){o.m(a,l),T(a,e,l),i&&i.m(a,l),T(a,r,l)},p(a,l){s===(s=n(a))&&o?o.p(a,l):(o.d(1),o=s(a),o&&(o.c(),o.m(e.parentNode,e))),a[2].length!=a[8]+1?i||(i=Zo(),i.c(),i.m(r.parentNode,r)):i&&(i.d(1),i=null)},i:L,o:L,d(a){o.d(a),a&&A(e),i&&i.d(a),a&&A(r)}}}function Oh(t){let e,r;return e=new Dn({props:{name:"",version:t[4],contents:t[6],expanded:t[2].length==1,last:t[2].length===t[8]+1}}),{c(){ce(e.$$.fragment)},m(n,s){ie(e,n,s),r=!0},p(n,s){const o={};s&16&&(o.version=n[4]),s&4&&(o.contents=n[6]),s&4&&(o.expanded=n[2].length==1),s&4&&(o.last=n[2].length===n[8]+1),e.$set(o)},i(n){r||(B(e.$$.fragment,n),r=!0)},o(n){K(e.$$.fragment,n),r=!1},d(n){ae(e,n)}}}function Ah(t){let e,r=t[6]+"",n;return{c(){e=N("span"),n=z(r),S(e,"class","null indent svelte-60tpry")},m(s,o){T(s,e,o),b(e,n)},p(s,o){o&4&&r!==(r=s[6]+"")&&Ee(n,r)},d(s){s&&A(e)}}}function Th(t){let e,r=t[6]+"",n;return{c(){e=N("span"),n=z(r),S(e,"class","number indent svelte-60tpry")},m(s,o){T(s,e,o),b(e,n)},p(s,o){o&4&&r!==(r=s[6]+"")&&Ee(n,r)},d(s){s&&A(e)}}}function jh(t){let e,r,n=t[6]+"",s,o;return{c(){e=N("span"),r=z('"'),s=z(n),o=z('"'),S(e,"class","string indent svelte-60tpry")},m(i,a){T(i,e,a),b(e,r),b(e,s),b(e,o)},p(i,a){a&4&&n!==(n=i[6]+"")&&Ee(s,n)},d(i){i&&A(e)}}}function Zo(t){let e;return{c(){e=N("span"),e.textContent=",",S(e,"class","trailing-comma svelte-60tpry")},m(r,n){T(r,e,n)},d(r){r&&A(e)}}}function Qo(t){let e,r,n,s,o;const i=[Oh,Ph],a=[];function l(c,f){return c[6]&&typeof c[6]=="object"?0:1}return r=l(t),n=a[r]=i[r](t),{c(){e=N("li"),n.c(),s=W(),S(e,"class","svelte-60tpry")},m(c,f){T(c,e,f),a[r].m(e,null),b(e,s),o=!0},p(c,f){let u=r;r=l(c),r===u?a[r].p(c,f):(Pe(),K(a[u],1,1,()=>{a[u]=null}),Oe(),n=a[r],n?n.p(c,f):(n=a[r]=i[r](c),n.c()),B(n,1),n.m(e,s))},i(c){o||(B(n),o=!0)},o(c){K(n),o=!1},d(c){c&&A(e),a[r].d()}}}function xo(t){let e,r,n;function s(l,c){return c&4&&(e=null),e==null&&(e=!!Array.isArray(l[2])),e?Rh:Ih}let o=s(t,-1),i=o(t),a=!t[3]&&ei();return{c(){i.c(),r=W(),a&&a.c(),n=Ae()},m(l,c){i.m(l,c),T(l,r,c),a&&a.m(l,c),T(l,n,c)},p(l,c){o!==(o=s(l,c))&&(i.d(1),i=o(l),i&&(i.c(),i.m(r.parentNode,r))),l[3]?a&&(a.d(1),a=null):a||(a=ei(),a.c(),a.m(n.parentNode,n))},d(l){i.d(l),l&&A(r),a&&a.d(l),l&&A(n)}}}function Ih(t){let e="}",r;return{c(){r=z(e)},m(n,s){T(n,r,s)},d(n){n&&A(r)}}}function Rh(t){let e="]",r;return{c(){r=z(e)},m(n,s){T(n,r,s)},d(n){n&&A(r)}}}function ei(t){let e;return{c(){e=N("span"),e.textContent=",",S(e,"class","trailing-comma svelte-60tpry")},m(r,n){T(r,e,n)},d(r){r&&A(e)}}}function Dh(t){let e,r,n,s,o,i,a,l,c,f,u,h,p,g;n=new nl({props:{className:"caret-toggle",src:lh}});let _=t[1]&&Wo(t);function m(w,O){return O&4&&(l=null),l==null&&(l=!!Array.isArray(w[2])),l?_h:ph}let d=m(t,-1),v=d(t),k=!t[0]&&Go(t),E=t[0]&&Jo(t),I=t[0]&&xo(t);return{c(){e=N("div"),r=N("div"),ce(n.$$.fragment),o=W(),i=N("div"),_&&_.c(),a=W(),v.c(),c=W(),k&&k.c(),f=W(),E&&E.c(),u=W(),I&&I.c(),S(r,"class",s=(t[0]?"expanded":"")+" caret svelte-60tpry"),S(i,"class","content svelte-60tpry"),S(e,"class","folder svelte-60tpry")},m(w,O){T(w,e,O),b(e,r),ie(n,r,null),b(e,o),b(e,i),_&&_.m(i,null),b(i,a),v.m(i,null),b(i,c),k&&k.m(i,null),b(i,f),E&&E.m(i,null),b(i,u),I&&I.m(i,null),h=!0,p||(g=He(r,"click",t[5]),p=!0)},p(w,[O]){(!h||O&1&&s!==(s=(w[0]?"expanded":"")+" caret svelte-60tpry"))&&S(r,"class",s),w[1]?_?(_.p(w,O),O&2&&B(_,1)):(_=Wo(w),_.c(),B(_,1),_.m(i,a)):_&&(Pe(),K(_,1,1,()=>{_=null}),Oe()),d!==(d=m(w,O))&&(v.d(1),v=d(w),v&&(v.c(),v.m(i,c))),w[0]?k&&(k.d(1),k=null):k?k.p(w,O):(k=Go(w),k.c(),k.m(i,f)),w[0]?E?(E.p(w,O),O&1&&B(E,1)):(E=Jo(w),E.c(),B(E,1),E.m(i,u)):E&&(Pe(),K(E,1,1,()=>{E=null}),Oe()),w[0]?I?I.p(w,O):(I=xo(w),I.c(),I.m(i,null)):I&&(I.d(1),I=null)},i(w){h||(B(n.$$.fragment,w),B(_),B(E),h=!0)},o(w){K(n.$$.fragment,w),K(_),K(E),h=!1},d(w){w&&A(e),ae(n),_&&_.d(),v.d(),k&&k.d(),E&&E.d(),I&&I.d(),p=!1,g()}}}function Mh(t,e,r){let{name:n}=e,{contents:s}=e,{expanded:o=!1}=e,{last:i=!0}=e,{version:a}=e;s&&Object.keys(s).length==1&&(o=!0);function l(){r(0,o=!o)}return t.$$set=c=>{"name"in c&&r(1,n=c.name),"contents"in c&&r(2,s=c.contents),"expanded"in c&&r(0,o=c.expanded),"last"in c&&r(3,i=c.last),"version"in c&&r(4,a=c.version)},[o,n,s,i,a,l]}class Dn extends Ce{constructor(e){super(),Se(this,e,Mh,Dh,$e,{name:1,contents:2,expanded:0,last:3,version:4})}}function Fh(t){let e,r=t[6].message+"",n;return{c(){e=N("span"),n=z(r),S(e,"class","error svelte-xcxanv")},m(s,o){T(s,e,o),b(e,n)},p:L,d(s){s&&A(e)}}}function zh(t){let e;function r(o,i){return o[5].length>0?Uh:Lh}let s=r(t)(t);return{c(){s.c(),e=Ae()},m(o,i){s.m(o,i),T(o,e,i)},p(o,i){s.p(o,i)},d(o){s.d(o),o&&A(e)}}}function Lh(t){let e,r,n;return{c(){e=N("span"),r=z(t[1]),n=z(": \u2713"),S(e,"class","valid svelte-xcxanv")},m(s,o){T(s,e,o),b(e,r),b(e,n)},p(s,o){o&2&&Ee(r,s[1])},d(s){s&&A(e)}}}function Uh(t){let e;return{c(){e=N("span"),e.textContent="\u2A2F Error!",S(e,"class","error svelte-xcxanv")},m(r,n){T(r,e,n)},p:L,d(r){r&&A(e)}}}function Vh(t){let e,r,n;return{c(){e=N("span"),r=z(t[1]),n=z("."),S(e,"class","svelte-xcxanv")},m(s,o){T(s,e,o),b(e,r),b(e,n)},p(s,o){o&2&&Ee(r,s[1])},d(s){s&&A(e)}}}function Bh(t){let e,r,n,s={ctx:t,current:null,token:null,hasCatch:!0,pending:Vh,then:zh,catch:Fh,value:5,error:6};return st(t[2],s),{c(){e=N("a"),s.block.c(),S(e,"title",r=t[1]+": Open Image"),S(e,"href",n=t[3]+"?source="+(t[0]+"/"+t[1])+"/"),S(e,"class","svelte-xcxanv")},m(o,i){T(o,e,i),s.block.m(e,s.anchor=null),s.mount=()=>e,s.anchor=null},p(o,[i]){t=o,dt(s,t,i),i&2&&r!==(r=t[1]+": Open Image")&&S(e,"title",r),i&3&&n!==(n=t[3]+"?source="+(t[0]+"/"+t[1])+"/")&&S(e,"href",n)},i:L,o:L,d(o){o&&A(e),s.block.d(),s.token=null,s=null}}}function qh(t,e,r){let{source:n}=e,{path:s}=e;async function o(){let l=await Xr(n+"/"+s);return await Wr(l)}const i=o(),a=window.location.origin+window.location.pathname;return t.$$set=l=>{"source"in l&&r(0,n=l.source),"path"in l&&r(1,s=l.path)},[n,s,i,a]}class sl extends Ce{constructor(e){super(),Se(this,e,qh,Bh,$e,{source:0,path:1})}}function Kh(t){let e,r,n,s,o,i,a=JSON.stringify(t[0],null,2)+"",l;return{c(){e=N("details"),r=N("summary"),n=z(t[1]),s=W(),o=N("pre"),i=N("code"),l=z(a),S(o,"class","svelte-rlnfqz"),S(e,"class","svelte-rlnfqz")},m(c,f){T(c,e,f),b(e,r),b(r,n),b(e,s),b(e,o),b(o,i),b(i,l)},p(c,[f]){f&2&&Ee(n,c[1]),f&1&&a!==(a=JSON.stringify(c[0],null,2)+"")&&Ee(l,a)},i:L,o:L,d(c){c&&A(e)}}}function Wh(t,e,r){let{jsonData:n}=e,{summary:s}=e;return t.$$set=o=>{"jsonData"in o&&r(0,n=o.jsonData),"summary"in o&&r(1,s=o.summary)},[n,s]}class ol extends Ce{constructor(e){super(),Se(this,e,Wh,Kh,$e,{jsonData:0,summary:1})}}function ti(t,e,r){const n=t.slice();return n[6]=e[r].name,n[14]=e[r].value,n[15]=e[r].level,n}function Gh(t){let e,r=t[5][t[15]]+"",n;return{c(){e=new kr(!1),n=z(" Not found"),e.a=n},m(s,o){e.m(r,s,o),T(s,n,o)},p:L,d(s){s&&e.d(),s&&A(n)}}}function Hh(t){let e,r=t[5].OK+"",n,s;function o(l,c){return l[14].startsWith("http")?Xh:Jh}let a=o(t)(t);return{c(){e=new kr(!1),n=W(),a.c(),s=Ae(),e.a=n},m(l,c){e.m(r,l,c),T(l,n,c),a.m(l,c),T(l,s,c)},p(l,c){a.p(l,c)},d(l){l&&e.d(),l&&A(n),a.d(l),l&&A(s)}}}function Jh(t){let e=t[14]+"",r;return{c(){r=z(e)},m(n,s){T(n,r,s)},p:L,d(n){n&&A(r)}}}function Xh(t){let e,r=t[14]+"",n;return{c(){e=N("a"),n=z(r),S(e,"href",t[14]),S(e,"target","_blank")},m(s,o){T(s,e,o),b(e,n)},p:L,d(s){s&&A(e)}}}function ri(t){let e,r,n=t[6]+"",s,o,i;function a(f,u){return f[14]?Hh:Gh}let c=a(t)(t);return{c(){e=N("li"),r=N("strong"),s=z(n),o=z(":"),i=W(),c.c(),S(e,"class","svelte-1fwqlx4")},m(f,u){T(f,e,u),b(e,r),b(r,s),b(r,o),b(e,i),c.m(e,null)},p(f,u){c.p(f,u)},d(f){f&&A(e),c.d()}}}function Yh(t){let e,r=t[5].SUGGESTED+"",n;return{c(){e=new kr(!1),n=z(" Not found"),e.a=n},m(s,o){e.m(r,s,o),T(s,n,o)},p:L,d(s){s&&e.d(),s&&A(n)}}}function Zh(t){let e,r=t[5].OK+"",n,s,o,i,a;return{c(){e=new kr(!1),n=W(),s=N("a"),o=z(t[2]),i=W(),a=z(t[0]),e.a=n,S(s,"href","https://www.ncbi.nlm.nih.gov/Taxonomy/Browser/wwwtax.cgi?mode=info&id="+t[2].replace("NCBI:txid","")),S(s,"target","_blank")},m(l,c){e.m(r,l,c),T(l,n,c),T(l,s,c),b(s,o),T(l,i,c),T(l,a,c)},p(l,c){c&1&&Ee(a,l[0])},d(l){l&&e.d(),l&&A(n),l&&A(s),l&&A(i),l&&A(a)}}}function Qh(t){let e,r=t[5].SUGGESTED+"",n;return{c(){e=new kr(!1),n=z(" Not found"),e.a=n},m(s,o){e.m(r,s,o),T(s,n,o)},p:L,d(s){s&&e.d(),s&&A(n)}}}function xh(t){let e,r=t[5].OK+"",n,s,o,i,a;return{c(){e=new kr(!1),n=W(),s=N("a"),o=z(t[3]),i=W(),a=z(t[1]),e.a=n,S(s,"href","https://ontobee.org/ontology/FBbi?iri=http://purl.obolibrary.org/obo/FBbi_"+t[3].replace("obo:FBbi_","")),S(s,"target","_blank")},m(l,c){e.m(r,l,c),T(l,n,c),T(l,s,c),b(s,o),T(l,i,c),T(l,a,c)},p(l,c){c&2&&Ee(a,l[1])},d(l){l&&e.d(),l&&A(n),l&&A(s),l&&A(i),l&&A(a)}}}function em(t){let e,r,n,s,o,i,a,l,c,f=t[4],u=[];for(let v=0;v<f.length;v+=1)u[v]=ri(ti(t,f,v));function h(v,k){return v[2]?Zh:Yh}let g=h(t)(t);function _(v,k){return v[3]?xh:Qh}let d=_(t)(t);return{c(){e=N("ul");for(let v=0;v<u.length;v+=1)u[v].c();r=W(),n=N("li"),s=N("strong"),s.textContent="Organism:",o=W(),g.c(),i=W(),a=N("li"),l=N("strong"),l.textContent="Imaging method:",c=W(),d.c(),S(n,"class","svelte-1fwqlx4"),S(a,"class","svelte-1fwqlx4"),S(e,"class","svelte-1fwqlx4")},m(v,k){T(v,e,k);for(let E=0;E<u.length;E+=1)u[E].m(e,null);b(e,r),b(e,n),b(n,s),b(n,o),g.m(n,null),b(e,i),b(e,a),b(a,l),b(a,c),d.m(a,null)},p(v,[k]){if(k&48){f=v[4];let E;for(E=0;E<f.length;E+=1){const I=ti(v,f,E);u[E]?u[E].p(I,k):(u[E]=ri(I),u[E].c(),u[E].m(e,r))}for(;E<u.length;E+=1)u[E].d(1);u.length=f.length}g.p(v,k),d.p(v,k)},i:L,o:L,d(v){v&&A(e),Je(u,v),g.d(),d.d()}}}function tm(t,e,r){let{jsonData:n}=e,s=n["@graph"].find(d=>d.license)?.license,o=n["@graph"].find(d=>d.name)?.name,i=n["@graph"].find(d=>d.description)?.description,l=n["@graph"].find(d=>d["@type"]==="biosample")?.organism_classification?.["@id"],f=n["@graph"].find(d=>d["@type"]==="image_acquisition")?.fbbi_id?.["@id"],u="",h="";async function p(d){const v=await Lt(`https://rest.ensembl.org/taxonomy/id/${d}?content-type=application/json`);r(0,u=v.name)}async function g(d){const v=d.replace("obo:",""),k=await Lt(`https://www.ebi.ac.uk/ols4/api/ontologies/fbbi/terms/http%253A%252F%252Fpurl.obolibrary.org%252Fobo%252F${v}`);r(1,h=k.label)}l&&p(l.replace("NCBI:txid","")),f&&g(f);const _=[{name:"License",value:s,level:"SHOULD"},{name:"Name",value:o,level:"SUGGESTED"},{name:"Description",value:i,level:"SUGGESTED"}],m={SHOULD:"<span title='Missing SHOULD metadata'>&#x274C</span>",SUGGESTED:"<span title='Missing SUGGESTED metadata' style='font-size: 20px;'>&times;</span>",RECOMMENDED:"",OK:"<span style='color: green;'>\u2713</span>"};return t.$$set=d=>{"jsonData"in d&&r(7,n=d.jsonData)},[u,h,l,f,_,m,o,n]}class rm extends Ce{constructor(e){super(),Se(this,e,tm,em,$e,{jsonData:7})}}function nm(t){let e;return{c(){e=N("p"),e.textContent="No ro-crate-metadata.json found"},m(r,n){T(r,e,n)},p:L,i:L,o:L,d(r){r&&A(e)}}}function sm(t){let e,r,n=t[2]&&om(t);return{c(){n&&n.c(),e=Ae()},m(s,o){n&&n.m(s,o),T(s,e,o),r=!0},p(s,o){s[2]&&n.p(s,o)},i(s){r||(B(n),r=!0)},o(s){K(n),r=!1},d(s){n&&n.d(s),s&&A(e)}}}function om(t){let e,r,n,s;return e=new rm({props:{jsonData:t[2]}}),n=new ol({props:{jsonData:t[2],summary:"ro-crate-metadata.json"}}),{c(){ce(e.$$.fragment),r=W(),ce(n.$$.fragment)},m(o,i){ie(e,o,i),T(o,r,i),ie(n,o,i),s=!0},p:L,i(o){s||(B(e.$$.fragment,o),B(n.$$.fragment,o),s=!0)},o(o){K(e.$$.fragment,o),K(n.$$.fragment,o),s=!1},d(o){ae(e,o),o&&A(r),ae(n,o)}}}function im(t){let e;return{c(){e=N("p"),e.textContent="Loading ro-crate-metadata.json..."},m(r,n){T(r,e,n)},p:L,i:L,o:L,d(r){r&&A(e)}}}function am(t){let e,r,n,s,o={ctx:t,current:null,token:null,hasCatch:!0,pending:im,then:sm,catch:nm,value:2,error:3,blocks:[,,,]};return st(t[0],o),{c(){e=N("div"),r=N("h1"),r.textContent="RO-Crate metadata",n=W(),o.block.c(),S(e,"class","rocrate svelte-1vtzbym")},m(i,a){T(i,e,a),b(e,r),b(e,n),o.block.m(e,o.anchor=null),o.mount=()=>e,o.anchor=null,s=!0},p(i,[a]){t=i,dt(o,t,a)},i(i){s||(B(o.block),s=!0)},o(i){for(let a=0;a<3;a+=1){const l=o.blocks[a];K(l)}s=!1},d(i){i&&A(e),o.block.d(),o.token=null,o=null}}}function lm(t,e,r){let{source:n}=e;const s=Lt(n+"/ro-crate-metadata.json");return t.$$set=o=>{"source"in o&&r(1,n=o.source)},[s,n]}class il extends Ce{constructor(e){super(),Se(this,e,lm,am,$e,{source:1})}}const cm=[{name:"vizarr",logo:"/vizarr_logo.png",href:"https://hms-dbmi.github.io/vizarr/?source="},{name:"itk-vtk-viewer",logo:"/itkvtk_logo.png",href:"https://kitware.github.io/itk-vtk-viewer/app/?rotate=false&fileToLoad="},{name:"neuroglancer",logo:"/neuroglancer.png","//":"NB: The {URL} in the href is replaced with NGFF image URL",href:"https://neuroglancer-demo.appspot.com/#!{%22layers%22:[{%22source%22:%22zarr://{URL}%22,%22name%22:%22OME-NGFF%22}]}"},{name:"Allen Cell Feature Explorer 3D viewer",logo:"/aics_website-3d-cell-viewer.png",href:"https://allen-cell-animated.github.io/website-3d-cell-viewer/?url="},{name:"napari",logo:"/napari.png",html:"<p>See <a href='https://napari.org/'>napari.org</a> for install instructions.</p><p>Then <code>napari {URL}</code>"},{name:"MoBIE",logo:"/MoBIE.jpeg",html:"<p><a href='https://github.com/mobie/mobie-viewer-fiji/'>MoBIE</a> plugin for ImageJ/Fiji. See <a href='https://omero-guides.readthedocs.io/en/latest/fiji/docs/view_mobie_zarr.html'>MoBIE guide</a> for installation. Plugins > BigDataViewer > OME ZARR > <br> Open OME ZARR from S3\u2026. <code>{URL}</code>"}];var um={viewers:cm},fm="https://ome.github.io/ome-ngff-validator/vizarr_logo.png",dm="https://ome.github.io/ome-ngff-validator/copy_icon.png";function hm(t){let e,r,n,s,o,i,a,l;return{c(){e=N("button"),r=N("img"),s=W(),o=N("img"),S(r,"class","viewer_icon svelte-mm54y3"),gr(r.src,n=t[0])||S(r,"src",n),S(r,"alt","Viewer Icon"),S(o,"class","copyIcon svelte-mm54y3"),gr(o.src,i=dm)||S(o,"src",i),S(o,"alt","Copy Icon"),gt(o,"shaking",t[2]),S(e,"class","copyBtn svelte-mm54y3"),S(e,"title",t[1])},m(c,f){T(c,e,f),b(e,r),b(e,s),b(e,o),a||(l=He(e,"click",t[3]),a=!0)},p(c,[f]){f&1&&!gr(r.src,n=c[0])&&S(r,"src",n),f&4&&gt(o,"shaking",c[2]),f&2&&S(e,"title",c[1])},i:L,o:L,d(c){c&&A(e),a=!1,l()}}}function mm(t,e,r){let{copy_text:n}=e,{button_logo:s}=e,{title:o}=e,i=!1;function a(l){console.log("copyTextToClipboard...",l.target);const c=document.createElement("textarea");c.style.position="fixed",c.value=n,document.body.appendChild(c),c.focus(),c.select();let f;try{f=document.execCommand("copy")}catch{console.log("Oops, unable to copy")}document.body.removeChild(c),f?(r(2,i=!0),setTimeout(()=>{r(2,i=!1)},1e3)):console.log("Copying failed")}return t.$$set=l=>{"copy_text"in l&&r(4,n=l.copy_text),"button_logo"in l&&r(0,s=l.button_logo),"title"in l&&r(1,o=l.title)},[s,o,i,a,n]}class pm extends Ce{constructor(e){super(),Se(this,e,mm,hm,$e,{copy_text:4,button_logo:0,title:1})}}function ni(t,e,r){const n=t.slice();return n[4]=e[r],n}function _m(t){let e,r;return e=new pm({props:{copy_text:t[0],title:"Copy URL",button_logo:t[4].logo_path}}),{c(){ce(e.$$.fragment)},m(n,s){ie(e,n,s),r=!0},p(n,s){const o={};s&1&&(o.copy_text=n[0]),s&4&&(o.button_logo=n[4].logo_path),e.$set(o)},i(n){r||(B(e.$$.fragment,n),r=!0)},o(n){K(e.$$.fragment,n),r=!1},d(n){ae(e,n)}}}function gm(t){let e,r,n,s,o;return{c(){e=N("a"),r=N("img"),S(r,"class","viewer_icon svelte-nnf93u"),gr(r.src,n=t[4].logo_path)||S(r,"src",n),S(r,"alt","Viewer logo"),S(e,"title",s="View "+t[1]+" in "+t[4].name),S(e,"target","_blank"),S(e,"href",o=t[4].href),S(e,"class","svelte-nnf93u")},m(i,a){T(i,e,a),b(e,r)},p(i,a){a&4&&!gr(r.src,n=i[4].logo_path)&&S(r,"src",n),a&6&&s!==(s="View "+i[1]+" in "+i[4].name)&&S(e,"title",s),a&4&&o!==(o=i[4].href)&&S(e,"href",o)},i:L,o:L,d(i){i&&A(e)}}}function si(t){let e,r=t[4].html.replace("{URL}",t[0])+"";return{c(){e=N("div"),S(e,"class","viewer_html svelte-nnf93u")},m(n,s){T(n,e,s),e.innerHTML=r},p(n,s){s&5&&r!==(r=n[4].html.replace("{URL}",n[0])+"")&&(e.innerHTML=r)},d(n){n&&A(e)}}}function oi(t){let e,r,n,s,o,i;const a=[gm,_m],l=[];function c(u,h){return u[4].href?0:1}r=c(t),n=l[r]=a[r](t);let f=t[4].html&&si(t);return{c(){e=N("li"),n.c(),s=W(),f&&f.c(),o=W(),S(e,"class","svelte-nnf93u")},m(u,h){T(u,e,h),l[r].m(e,null),b(e,s),f&&f.m(e,null),b(e,o),i=!0},p(u,h){let p=r;r=c(u),r===p?l[r].p(u,h):(Pe(),K(l[p],1,1,()=>{l[p]=null}),Oe(),n=l[r],n?n.p(u,h):(n=l[r]=a[r](u),n.c()),B(n,1),n.m(e,s)),u[4].html?f?f.p(u,h):(f=si(u),f.c(),f.m(e,o)):f&&(f.d(1),f=null)},i(u){i||(B(n),i=!0)},o(u){K(n),i=!1},d(u){u&&A(e),l[r].d(),f&&f.d()}}}function vm(t){let e,r,n,s,o,i=t[2],a=[];for(let c=0;c<i.length;c+=1)a[c]=oi(ni(t,i,c));const l=c=>K(a[c],1,1,()=>{a[c]=null});return{c(){e=N("div"),r=N("span"),r.textContent="Open with:",n=W(),s=N("ul");for(let c=0;c<a.length;c+=1)a[c].c();S(e,"class","openwith svelte-nnf93u")},m(c,f){T(c,e,f),b(e,r),b(e,n),b(e,s);for(let u=0;u<a.length;u+=1)a[u].m(s,null);o=!0},p(c,[f]){if(f&7){i=c[2];let u;for(u=0;u<i.length;u+=1){const h=ni(c,i,u);a[u]?(a[u].p(h,f),B(a[u],1)):(a[u]=oi(h),a[u].c(),B(a[u],1),a[u].m(s,null))}for(Pe(),u=i.length;u<a.length;u+=1)l(u);Oe()}},i(c){if(!o){for(let f=0;f<i.length;f+=1)B(a[f]);o=!0}},o(c){a=a.filter(Boolean);for(let f=0;f<a.length;f+=1)K(a[f]);o=!1},d(c){c&&A(e),Je(a,c)}}}function ym(t,e,r){let{source:n}=e,{dtype:s}=e,{version:o}=e,i=um.viewers.map(a=>{let l=a.href;l&&(l.includes("{URL}")?l=l.replace("{URL}",n):l+=n);const c=fm.replace("/vizarr_logo.png",a.logo);return{...a,href:l,logo_path:c}});return o=="0.5"&&(i=i.filter(a=>a.name=="vizarr")),t.$$set=a=>{"source"in a&&r(0,n=a.source),"dtype"in a&&r(1,s=a.dtype),"version"in a&&r(3,o=a.version)},[n,s,i,o]}class al extends Ce{constructor(e){super(),Se(this,e,ym,vm,$e,{source:0,dtype:1,version:3})}}const{Boolean:bm}=ma;function ii(t,e,r){const n=t.slice();return n[12]=e[r],n[14]=r,n}function ai(t,e,r){const n=t.slice();return n[16]=e[r],n}function wm(t){let e,r=t[19].message+"",n;return{c(){e=N("p"),n=z(r),_e(e,"color","red")},m(s,o){T(s,e,o),b(e,n)},p:L,i:L,o:L,d(s){s&&A(e)}}}function $m(t){let e,r=t[11].images.length+"",n,s,o,i,a,l,c,f,u,h,p,g,_,m={ctx:t,current:null,token:null,hasCatch:!0,pending:Sm,then:Em,catch:km,value:15,error:19,blocks:[,,,]};st(a=t[6](t[0]+"/0"),m),h=new Dn({props:{name:"",version:"",contents:t[1],expanded:!0}});let d=t[11].errors&&Cm(t);return{c(){e=N("h1"),n=z(r),s=z(" Images"),o=W(),i=N("ol"),m.block.c(),l=W(),c=N("h3"),c.textContent=`${t[7]}/${t[3]}`,f=W(),u=N("div"),ce(h.$$.fragment),p=W(),d&&d.c(),g=Ae(),S(e,"class","svelte-uqtvwm"),S(u,"class","json svelte-uqtvwm")},m(v,k){T(v,e,k),b(e,n),b(e,s),T(v,o,k),T(v,i,k),m.block.m(i,m.anchor=null),m.mount=()=>i,m.anchor=null,T(v,l,k),T(v,c,k),T(v,f,k),T(v,u,k),ie(h,u,null),T(v,p,k),d&&d.m(v,k),T(v,g,k),_=!0},p(v,k){t=v,m.ctx=t,k&1&&a!==(a=t[6](t[0]+"/0"))&&st(a,m)||dt(m,t,k);const E={};k&2&&(E.contents=t[1]),h.$set(E),t[11].errors&&d.p(t,k)},i(v){_||(B(m.block),B(h.$$.fragment,v),_=!0)},o(v){for(let k=0;k<3;k+=1){const E=m.blocks[k];K(E)}K(h.$$.fragment,v),_=!1},d(v){v&&A(e),v&&A(o),v&&A(i),m.block.d(),m.token=null,m=null,v&&A(l),v&&A(c),v&&A(f),v&&A(u),ae(h),v&&A(p),d&&d.d(v),v&&A(g)}}}function km(t){let e,r=t[19].message+"",n;return{c(){e=N("p"),n=z(r),_e(e,"color","red")},m(s,o){T(s,e,o),b(e,n)},p(s,o){o&1&&r!==(r=s[19].message+"")&&Ee(n,r)},i:L,o:L,d(s){s&&A(e)}}}function Em(t){let e,r,n=t[11].images,s=[];for(let i=0;i<n.length;i+=1)s[i]=li(ai(t,n,i));const o=i=>K(s[i],1,1,()=>{s[i]=null});return{c(){e=N("ul");for(let i=0;i<s.length;i+=1)s[i].c()},m(i,a){T(i,e,a);for(let l=0;l<s.length;l+=1)s[l].m(e,null);r=!0},p(i,a){if(a&293){n=i[11].images;let l;for(l=0;l<n.length;l+=1){const c=ai(i,n,l);s[l]?(s[l].p(c,a),B(s[l],1)):(s[l]=li(c),s[l].c(),B(s[l],1),s[l].m(e,null))}for(Pe(),l=n.length;l<s.length;l+=1)o(l);Oe()}},i(i){if(!r){for(let a=0;a<n.length;a+=1)B(s[a]);r=!0}},o(i){s=s.filter(bm);for(let a=0;a<s.length;a+=1)K(s[a]);r=!1},d(i){i&&A(e),Je(s,i)}}}function li(t){let e,r,n=t[16].path+"",s,o,i,a=t[16].name+"",l,c,f,u,h,p,g,_,m,d,v,k,E;return u=new sl({props:{source:t[0],path:t[16].path}}),v=new al({props:{source:`${t[0]}/${t[16].path}`,dtype:"image",version:t[2]}}),{c(){e=N("li"),r=z("/"),s=z(n),o=W(),i=N("a"),l=z(a),f=W(),ce(u.$$.fragment),h=W(),p=N("a"),g=z("Open in validator"),m=W(),d=N("div"),ce(v.$$.fragment),k=W(),S(i,"title","Open Image"),S(i,"href",c=t[8]+"?source="+t[0]+"/"+t[16].path+"/"),S(i,"class","svelte-uqtvwm"),S(p,"title","Open Image"),S(p,"href",_=t[8]+"?source="+t[0]+"/"+t[16].path+"/"),S(p,"class","svelte-uqtvwm"),_e(d,"margin-top","10px"),S(e,"class","image svelte-uqtvwm")},m(I,w){T(I,e,w),b(e,r),b(e,s),b(e,o),b(e,i),b(i,l),b(e,f),ie(u,e,null),b(e,h),b(e,p),b(p,g),b(e,m),b(e,d),ie(v,d,null),b(e,k),E=!0},p(I,w){(!E||w&1&&c!==(c=I[8]+"?source="+I[0]+"/"+I[16].path+"/"))&&S(i,"href",c);const O={};w&1&&(O.source=I[0]),u.$set(O),(!E||w&1&&_!==(_=I[8]+"?source="+I[0]+"/"+I[16].path+"/"))&&S(p,"href",_);const q={};w&1&&(q.source=`${I[0]}/${I[16].path}`),v.$set(q)},i(I){E||(B(u.$$.fragment,I),B(v.$$.fragment,I),E=!0)},o(I){K(u.$$.fragment,I),K(v.$$.fragment,I),E=!1},d(I){I&&A(e),ae(u),ae(v)}}}function Sm(t){let e;return{c(){e=N("div"),e.textContent="loading schema..."},m(r,n){T(r,e,n)},p:L,i:L,o:L,d(r){r&&A(e)}}}function Cm(t){let e,r,n,s=t[11].errors,o=[];for(let i=0;i<s.length;i+=1)o[i]=ci(ii(t,s,i));return{c(){e=N("div"),r=N("h3"),r.textContent="Error loading series metadata:",n=W();for(let i=0;i<o.length;i+=1)o[i].c();S(e,"class","error")},m(i,a){T(i,e,a),b(e,r),b(e,n);for(let l=0;l<o.length;l+=1)o[l].m(e,null)},p(i,a){if(a&32){s=i[11].errors;let l;for(l=0;l<s.length;l+=1){const c=ii(i,s,l);o[l]?o[l].p(c,a):(o[l]=ci(c),o[l].c(),o[l].m(e,null))}for(;l<o.length;l+=1)o[l].d(1);o.length=s.length}},d(i){i&&A(e),Je(o,i)}}}function ci(t){let e,r=t[12]+"",n;return{c(){e=N("div"),n=z(r)},m(s,o){T(s,e,o),b(e,n)},p:L,d(s){s&&A(e)}}}function Nm(t){let e;return{c(){e=N("div"),e.textContent=`loading ${t[4]}...`},m(r,n){T(r,e,n)},p:L,i:L,o:L,d(r){r&&A(e)}}}function Pm(t){let e,r;return e=new il({props:{source:t[0]}}),{c(){ce(e.$$.fragment)},m(n,s){ie(e,n,s),r=!0},p(n,s){const o={};s&1&&(o.source=n[0]),e.$set(o)},i(n){r||(B(e.$$.fragment,n),r=!0)},o(n){K(e.$$.fragment,n),r=!1},d(n){ae(e,n)}}}function Om(t){let e,r,n,s,o,i,a,l,c,f,u,h,p,g,_=!["0.1","0.2","0.3","0.4"].includes(t[2]),m,d={ctx:t,current:null,token:null,hasCatch:!0,pending:Nm,then:$m,catch:wm,value:11,error:19,blocks:[,,,]};st(t[5],d);let v=_&&Pm(t);return{c(){e=N("article"),r=z("Reading: "),n=N("a"),s=z("/"),o=z(t[7]),i=z("/"),a=z(t[3]),c=z(`

  Loading metadata:`),f=N("a"),u=z(ll),h=N("br"),p=W(),d.block.c(),g=W(),v&&v.c(),S(n,"href",l=t[0]+"/"+t[3]),S(n,"class","svelte-uqtvwm"),S(f,"href",t[4]),S(f,"class","svelte-uqtvwm")},m(k,E){T(k,e,E),b(e,r),b(e,n),b(n,s),b(n,o),b(n,i),b(n,a),b(e,c),b(e,f),b(f,u),b(e,h),b(e,p),d.block.m(e,d.anchor=null),d.mount=()=>e,d.anchor=g,b(e,g),v&&v.m(e,null),m=!0},p(k,[E]){t=k,(!m||E&1&&l!==(l=t[0]+"/"+t[3]))&&S(n,"href",l),dt(d,t,E),_&&v.p(t,E)},i(k){m||(B(d.block),B(v),m=!0)},o(k){for(let E=0;E<3;E+=1){const I=d.blocks[E];K(I)}K(v),m=!1},d(k){k&&A(e),d.block.d(),d.token=null,d=null,v&&v.d()}}}const ll="OME/METADATA.ome.xml";function Am(t){const e=t.documentElement;let r={images:[]},n=0;for(const s of e.children)console.log(s.tagName),s.tagName==="Image"&&r.images.push({name:s.getAttribute("Name"),id:s.getAttribute("ID"),path:""+n++}),s.tagName==="body"&&s.firstElementChild.tagName=="parsererror"&&(r.errors=[...s.firstElementChild.children].map(o=>o.innerHTML));return r}function Tm(t,e,r){let{source:n}=e,{rootAttrs:s}=e;const o=lr(s);console.log("BF2RAW version",o,s);const i=Ya(o);console.log("zarrAttrsFileName",i);const a=`${n}/${ll}`;async function l(g){let _;try{_=await eh(g)}catch{}let m;_&&(m=Am(_));let d={},v;try{let k=await Lt(`${n}/OME/${i}`);v=k?.attributes?.ome?.series||k.series}catch{}return v&&m&&m?.images&&v.length!==m.images.length&&(d.errors=[`Images length mismatch: series: ${v.length} != ome.xml: ${m.images.length}`]),v?d.images=v.map(k=>({name:k,path:k})):m?d=m:d.errors=["No OME/METADATA.ome.xml or /OME series found"],d}const c=l(a);async function f(g){let _=Xr(g);return console.log("preloadSchema",_),await Wr(_)}const u=n.split("/").filter(Boolean),h=u[u.length-1],p=window.location.origin+window.location.pathname;return t.$$set=g=>{"source"in g&&r(0,n=g.source),"rootAttrs"in g&&r(1,s=g.rootAttrs)},[n,s,o,i,a,c,f,h,p]}class jm extends Ce{constructor(e){super(),Se(this,e,Tm,Om,$e,{source:0,rootAttrs:1})}}function Im(t){let e,r,n,s,o,i,a,l,c,f,u,h,p,g,_,m,d,v,k,E;return{c(){e=N("div"),r=N("div"),n=N("div"),s=N("div"),o=N("div"),o.textContent=`${t[6]}`,i=W(),a=N("div"),a.textContent=`${t[7]}`,l=W(),c=N("div"),f=W(),u=N("div"),h=W(),p=N("div"),g=N("div"),g.textContent=`${t[8]}`,_=W(),m=N("div"),d=W(),v=N("div"),S(o,"class","sizeX svelte-1lfjwoy"),S(a,"class","sizeY svelte-1lfjwoy"),S(s,"class","face front svelte-1lfjwoy"),S(c,"class","face back svelte-1lfjwoy"),S(u,"class","face right svelte-1lfjwoy"),S(g,"class","sizeX svelte-1lfjwoy"),S(p,"class","face left svelte-1lfjwoy"),S(m,"class","face top svelte-1lfjwoy"),S(v,"class","face bottom svelte-1lfjwoy"),S(n,"class","cube svelte-1lfjwoy"),S(r,"class","container svelte-1lfjwoy"),_e(r,"--size-x",t[9]+"px"),_e(r,"--size-y",t[10]+"px"),_e(r,"--size-z",t[11]+"px"),_e(r,"--chunkX",t[12]+"px"),_e(r,"--chunkY",t[13]+"px"),_e(r,"--chunkZ",t[14]+"px"),_e(r,"--shardX",t[1]+"px"),_e(r,"--shardY",t[2]+"px"),_e(r,"--shardZ",t[3]+"px"),_e(r,"--shardColor",t[4]),_e(r,"--scrollX",t[0]+"deg"),S(e,"class","parent svelte-1lfjwoy")},m(I,w){T(I,e,w),b(e,r),b(r,n),b(n,s),b(s,o),b(s,i),b(s,a),b(n,l),b(n,c),b(n,f),b(n,u),b(n,h),b(n,p),b(p,g),b(n,_),b(n,m),b(n,d),b(n,v),k||(E=He(e,"mousemove",t[5]),k=!0)},p(I,[w]){w&2&&_e(r,"--shardX",I[1]+"px"),w&4&&_e(r,"--shardY",I[2]+"px"),w&8&&_e(r,"--shardZ",I[3]+"px"),w&16&&_e(r,"--shardColor",I[4]),w&1&&_e(r,"--scrollX",I[0]+"deg")},i:L,o:L,d(I){I&&A(e),k=!1,E()}}}function Rm(t,e,r){let{zarray:n}=e,s=50;function o(O){r(0,s=O.offsetX/6+20)}const i=n.shape,a=i[i.length-1],l=i[i.length-2],c=i.length<3?1:i[i.length-3],f=300/Math.max(a,l,c),u=a*f,h=l*f,p=c*f,[g,_]=or(n);let m=g[g.length-1]*f,d=g[g.length-2]*f,v=g[g.length-3]*f,k=100,E=100,I=100,w="transparent";return _&&(k=_[_.length-1]*f,E=_[_.length-2]*f,I=_[_.length-3]*f,w="var(--omeLinkBlue)"),t.$$set=O=>{"zarray"in O&&r(15,n=O.zarray)},[s,k,E,I,w,o,a,l,c,u,h,p,m,d,v,n]}class Dm extends Ce{constructor(e){super(),Se(this,e,Rm,Im,$e,{zarray:15})}}const hr=[];function ui(t,e=L){let r;const n=new Set;function s(a){if($e(t,a)&&(t=a,r)){const l=!hr.length;for(const c of n)c[1](),hr.push(c,t);if(l){for(let c=0;c<hr.length;c+=2)hr[c][0](hr[c+1]);hr.length=0}}}function o(a){s(a(t))}function i(a,l=L){const c=[a,l];return n.add(c),n.size===1&&(r=e(s)||L),a(t),()=>{n.delete(c),n.size===0&&(r(),r=null)}}return{set:s,update:o,subscribe:i}}class Yr extends Error{constructor(e,r={}){super(`Node not found: ${e}`,r),this.name="NodeNotFoundError"}}class Xs extends Error{constructor(e){super(`Missing key: ${e}`),this.name="KeyError"}}const Mm="modulepreload",fi={},Fm="https://ome.github.io/ome-ngff-validator/",jr=function(e,r){return!r||r.length===0?e():Promise.all(r.map(n=>{if(n=`${Fm}${n}`,n in fi)return;fi[n]=!0;const s=n.endsWith(".css"),o=s?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${n}"]${o}`))return;const i=document.createElement("link");if(i.rel=s?"stylesheet":Mm,s||(i.as="script",i.crossOrigin=""),i.href=n,document.head.appendChild(i),s)return new Promise((a,l)=>{i.addEventListener("load",a),i.addEventListener("error",()=>l(new Error(`Unable to preload CSS for ${n}`)))})})).then(()=>e())};class cl{#e;constructor(e,r,n){typeof e=="number"?this.#e=new Uint8Array(e):e instanceof ArrayBuffer?this.#e=new Uint8Array(e,r,n):this.#e=new Uint8Array(Array.from(e,s=>s?1:0))}get BYTES_PER_ELEMENT(){return 1}get byteOffset(){return this.#e.byteOffset}get byteLength(){return this.#e.byteLength}get buffer(){return this.#e.buffer}get length(){return this.#e.length}get(e){let r=this.#e[e];return typeof r=="number"?r!==0:r}set(e,r){this.#e[e]=r?1:0}fill(e){this.#e.fill(e?1:0)}*[Symbol.iterator](){for(let e=0;e<this.length;e++)yield this.get(e)}}class Ys{_data;chars;#e;constructor(e,r,n,s){if(this.chars=e,this.#e=new TextEncoder,typeof r=="number")this._data=new Uint8Array(r*e);else if(r instanceof ArrayBuffer)s&&(s=s*e),this._data=new Uint8Array(r,n,s);else{let o=Array.from(r);this._data=new Uint8Array(o.length*e);for(let i=0;i<o.length;i++)this.set(i,o[i])}}get BYTES_PER_ELEMENT(){return this.chars}get byteOffset(){return this._data.byteOffset}get byteLength(){return this._data.byteLength}get buffer(){return this._data.buffer}get length(){return this.byteLength/this.BYTES_PER_ELEMENT}get(e){const r=new Uint8Array(this.buffer,this.byteOffset+this.chars*e,this.chars);return new TextDecoder().decode(r).replace(/\x00/g,"")}set(e,r){const n=new Uint8Array(this.buffer,this.byteOffset+this.chars*e,this.chars);n.fill(0),n.set(this.#e.encode(r))}fill(e){const r=this.#e.encode(e);for(let n=0;n<this.length;n++)this._data.set(r,n*this.chars)}*[Symbol.iterator](){for(let e=0;e<this.length;e++)yield this.get(e)}}class Zr{#e;chars;constructor(e,r,n,s){if(this.chars=e,typeof r=="number")this.#e=new Int32Array(r*e);else if(r instanceof ArrayBuffer)s&&(s*=e),this.#e=new Int32Array(r,n,s);else{const o=r,i=new Zr(e,1);this.#e=new Int32Array(function*(){for(let a of o)i.set(0,a),yield*i.#e}())}}get BYTES_PER_ELEMENT(){return this.#e.BYTES_PER_ELEMENT*this.chars}get byteLength(){return this.#e.byteLength}get byteOffset(){return this.#e.byteOffset}get buffer(){return this.#e.buffer}get length(){return this.#e.length/this.chars}get(e){const r=this.chars*e;let n="";for(let s=0;s<this.chars;s++)n+=String.fromCodePoint(this.#e[r+s]);return n.replace(/\u0000/g,"")}set(e,r){const n=this.chars*e,s=this.#e.subarray(n,n+this.chars);s.fill(0);for(let o=0;o<this.chars;o++)s[o]=r.codePointAt(o)??0}fill(e){this.set(0,e);let r=this.#e.subarray(0,this.chars);for(let n=1;n<this.length;n++)this.#e.set(r,n*this.chars)}*[Symbol.iterator](){for(let e=0;e<this.length;e++)yield this.get(e)}}function Qr(t){const e=new TextDecoder().decode(t);return JSON.parse(e)}function di(t,e){const r=e/2,n=e-1;let s=0;for(let o=0;o<t.length;o+=e)for(let i=0;i<r;i+=1)s=t[o+i],t[o+i]=t[o+n-i],t[o+n-i]=s}const zm={int8:Int8Array,int16:Int16Array,int32:Int32Array,int64:globalThis.BigInt64Array,uint8:Uint8Array,uint16:Uint16Array,uint32:Uint32Array,uint64:globalThis.BigUint64Array,float32:Float32Array,float64:Float64Array,bool:cl},Lm=/v2:([US])(\d+)/;function ul(t){if(t==="v2:object")return globalThis.Array;let e=t.match(Lm);if(e){let[,n,s]=e;return(n==="U"?Zr:Ys).bind(null,Number(s))}let r=zm[t];if(!r)throw new Error(`Unknown or unsupported data_type: ${t}`);return r}function ir(t,e){return(e==="C"?Um:Vm)(t)}function Um(t){const e=t.length,r=globalThis.Array(e);for(let n=e-1,s=1;n>=0;n--)r[n]=s,s*=t[n];return r}function Vm(t){const e=t.length,r=globalThis.Array(e);for(let n=0,s=1;n<e;n++)r[n]=s,s*=t[n];return r}function Bm({name:t,configuration:e}){if(t==="default"){const r=e?.separator??"/";return n=>["c",...n].join(r)}if(t==="v2"){const r=e?.separator??".";return n=>n.join(r)||"0"}throw new Error(`Unknown chunk key encoding: ${t}`)}function ss(t){return t.find(r=>r.name==="transpose")?.configuration?.order==="F"?"F":"C"}const qm=/^([<|>])(.*)$/;function Km(t){if(t==="|O")return{data_type:"v2:object"};let e=t.match(qm);if(!e)throw new Error(`Invalid dtype: ${t}`);let[,r,n]=e,s={b1:"bool",i1:"int8",u1:"uint8",i2:"int16",u2:"uint16",i4:"int32",u4:"uint32",i8:"int64",u8:"uint64",f4:"float32",f8:"float64"}[n]??(n.startsWith("S")||n.startsWith("U")?`v2:${n}`:void 0);if(!s)throw new Error(`Unsupported or unknown dtype: ${t}`);return r==="|"?{data_type:s}:{data_type:s,endian:r==="<"?"little":"big"}}function Wm(t,e={}){let r=[],n=Km(t.dtype);t.order==="F"&&r.push({name:"transpose",configuration:{order:"F"}}),"endian"in n&&n.endian==="big"&&r.push({name:"bytes",configuration:{endian:"big"}});for(let{id:s,...o}of t.filters??[])r.push({name:s,configuration:o});if(t.compressor){let{id:s,...o}=t.compressor;r.push({name:s,configuration:o})}return{zarr_format:3,node_type:"array",shape:t.shape,data_type:n.data_type,chunk_grid:{name:"regular",configuration:{chunk_shape:t.chunks}},chunk_key_encoding:{name:"v2",configuration:{separator:t.dimension_separator??"."}},codecs:r,fill_value:t.fill_value,attributes:e}}function Gm(t,e={}){return{zarr_format:3,node_type:"group",attributes:e}}function Hm(t,e){if(e!=="number"&&e!=="bigint"&&e!=="boolean"&&e!=="object"&&e!=="string")return t===e;let r=t==="bool";if(e==="boolean")return r;let n=t.startsWith("v2:U")||t.startsWith("v2:S");if(e==="string")return n;let s=t==="int64"||t==="uint64";if(e==="bigint")return s;let o=t==="v2:object";return e==="object"?o:!n&&!s&&!r&&!o}function Jm(t){return t?.name==="sharding_indexed"}function fl(t){return(t.data_type==="uint64"||t.data_type==="int64")&&t.fill_value!=null?BigInt(t.fill_value):t.fill_value}const hi=Xm();function Xm(){const t=new Uint32Array([305419896]);return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)[0]!==18}function mi(t){return"BYTES_PER_ELEMENT"in t?t.BYTES_PER_ELEMENT:4}class Mn{kind="array_to_bytes";#e;#t;#r;#s;#n;constructor(e,r){this.#n=e?.endian,this.#t=ul(r.data_type),this.#s=r.shape,this.#e=ir(r.shape,ss(r.codecs));const n=new this.#t(0);this.#r=n.BYTES_PER_ELEMENT}static fromConfig(e,r){return new Mn(e,r)}encode(e){let r=new Uint8Array(e.data.buffer);return hi&&this.#n==="big"&&di(r,mi(this.#t)),r}decode(e){return hi&&this.#n==="big"&&di(e,mi(this.#t)),{data:new this.#t(e.buffer,e.byteOffset,e.byteLength/this.#r),shape:this.#s,stride:this.#e}}}class Zs{kind="bytes_to_bytes";static fromConfig(){return new Zs}encode(e){throw new Error("Not implemented")}decode(e){return new Uint8Array(e.buffer,e.byteOffset,e.byteLength-4)}}function Ym(t,e){if(Number.isNaN(e))throw new Error("JsonCodec allow_nan is false but NaN was encountered during encoding.");if(e===Number.POSITIVE_INFINITY)throw new Error("JsonCodec allow_nan is false but Infinity was encountered during encoding.");if(e===Number.NEGATIVE_INFINITY)throw new Error("JsonCodec allow_nan is false but -Infinity was encountered during encoding.");return e}function Zm(t,e){return e instanceof Object&&!Array.isArray(e)?Object.keys(e).sort().reduce((r,n)=>(r[n]=e[n],r),{}):e}class Qs{configuration;kind="array_to_bytes";#e;#t;constructor(e={}){this.configuration=e;const{encoding:r="utf-8",skipkeys:n=!1,ensure_ascii:s=!0,check_circular:o=!0,allow_nan:i=!0,sort_keys:a=!0,indent:l,strict:c=!0}=e;let f=e.separators;f||(l?f=[", ",": "]:f=[",",":"]),this.#e={encoding:r,skipkeys:n,ensure_ascii:s,check_circular:o,allow_nan:i,indent:l,separators:f,sort_keys:a},this.#t={strict:c}}static fromConfig(e){return new Qs(e)}encode(e){const{indent:r,encoding:n,ensure_ascii:s,check_circular:o,allow_nan:i,sort_keys:a}=this.#e;if(n!=="utf-8")throw new Error("JsonCodec does not yet support non-utf-8 encoding.");const l=[];if(!o)throw new Error("JsonCodec does not yet support skipping the check for circular references during encoding.");i||l.push(Ym),a&&l.push(Zm);const c=Array.from(e.data);c.push("|O"),c.push(e.shape);let f;l.length&&(f=(h,p)=>{let g=p;for(let _ of l)g=_(h,g);return g});let u=JSON.stringify(c,f,r);return s&&(u=u.replace(/[\u007F-\uFFFF]/g,h=>{const p=`0000${h.charCodeAt(0).toString(16)}`;return`\\u${p.substring(p.length-4)}`})),new TextEncoder().encode(u)}decode(e){const{strict:r}=this.#t;if(!r)throw new Error("JsonCodec does not yet support non-strict decoding.");const n=Qr(e),s=n.pop();if(n.pop(),!s)throw new Error("0D not implemented for JsonCodec.");const o=ir(s,"C");return{data:n,shape:s,stride:o}}}function pi(t){return t instanceof cl||t instanceof Ys||t instanceof Zr?new Proxy(t,{get(r,n){return r.get(Number(n))},set(r,n,s){return r.set(Number(n),s),!0}}):t}function Qm(t,e){let r;return t.data instanceof Ys||t.data instanceof Zr?r=new t.constructor(t.data.length,t.data.chars):r=new t.constructor(t.data.length),{data:r,shape:t.shape,stride:ir(t.shape,e)}}function xm(t,e){let r=Qm(t,e),n=t.shape.length,s=t.data.length,o=Array(n).fill(0),i=pi(t.data),a=pi(r.data);for(let l=0;l<s;l++){let c=0;for(let f=0;f<n;f++)c+=o[f]*r.stride[f];a[c]=i[l],o[0]+=1;for(let f=0;f<n;f++)if(o[f]===t.shape[f]){if(f+1===n)break;o[f]=0,o[f+1]+=1}}return r}function ep(t){if(!t.stride)return"C";let e=ir(t.shape,"C");return t.stride.every((r,n)=>r===e[n])?"C":"F"}class xs{configuration;kind="array_to_array";constructor(e){this.configuration=e}static fromConfig(e){return new xs(e)}encode(e){return ep(e)===this.configuration?.order?e:xm(e,this.configuration?.order??"C")}decode(e){return e}}class eo{kind="array_to_bytes";#e;#t;constructor(e){this.#e=e,this.#t=ir(e,"C")}static fromConfig(e,r){return new eo(r.shape)}encode(e){throw new Error("Method not implemented.")}decode(e){let r=new TextDecoder,n=new DataView(e.buffer),s=Array(n.getUint32(0,!0)),o=4;for(let i=0;i<s.length;i++){let a=n.getUint32(o,!0);o+=4,s[i]=r.decode(e.buffer.slice(o,o+a)),o+=a}return{data:s,shape:this.#e,stride:this.#t}}}function tp(){return new Map().set("blosc",()=>jr(()=>import("./blosc.fa4c298a.js"),["assets/blosc.fa4c298a.js","assets/chunk-INHXZS53.78a39109.js"]).then(t=>t.default)).set("gzip",()=>jr(()=>import("./gzip.d52f2dc6.js"),["assets/gzip.d52f2dc6.js","assets/browser.22f8ba56.js"]).then(t=>t.default)).set("lz4",()=>jr(()=>import("./lz4.c0715343.js"),["assets/lz4.c0715343.js","assets/chunk-INHXZS53.78a39109.js"]).then(t=>t.default)).set("zlib",()=>jr(()=>import("./zlib.004e6a4a.js"),["assets/zlib.004e6a4a.js","assets/browser.22f8ba56.js"]).then(t=>t.default)).set("zstd",()=>jr(()=>import("./zstd.d17692d1.js"),["assets/zstd.d17692d1.js","assets/chunk-INHXZS53.78a39109.js"]).then(t=>t.default)).set("transpose",()=>xs).set("bytes",()=>Mn).set("crc32c",()=>Zs).set("vlen-utf8",()=>eo).set("json2",()=>Qs)}const rp=tp();function os(t){let e;return{async encode(r){e||(e=await _i(t));for(const s of e.array_to_array)r=await s.encode(r);let n=await e.array_to_bytes.encode(r);for(const s of e.bytes_to_bytes)n=await s.encode(n);return n},async decode(r){e||(e=await _i(t));for(let s=e.bytes_to_bytes.length-1;s>=0;s--)r=await e.bytes_to_bytes[s].decode(r);let n=await e.array_to_bytes.decode(r);for(let s=e.array_to_array.length-1;s>=0;s--)n=await e.array_to_array[s].decode(n);return n}}}async function _i(t){let e=t.codecs.map(async o=>{let i=await rp.get(o.name)?.();if(!i)throw new Error(`Unknown codec: ${o.name}`);return{Codec:i,meta:o}}),r=[],n,s=[];for await(let{Codec:o,meta:i}of e){let a=o.fromConfig(i.configuration,t);switch(a.kind){case"array_to_array":r.push(a);break;case"array_to_bytes":n=a;break;default:s.push(a)}}if(!n){if(!np(t))throw new Error(`Cannot encode ${t.data_type} to bytes without a codec`);n=Mn.fromConfig({endian:"little"},t)}return{array_to_array:r,array_to_bytes:n,bytes_to_bytes:s}}function np(t){return t.data_type!=="v2:object"}const gi=18446744073709551615n;function sp(t,e,r,n){if(t.store.getRange===void 0)throw new Error("Store does not support range requests");let s=t.store.getRange.bind(t.store),o=e.map((l,c)=>l/n.chunk_shape[c]),i=os({data_type:"uint64",shape:[...o,2],codecs:n.index_codecs}),a={};return async l=>{let c=l.map((v,k)=>Math.floor(v/o[k])),f=t.resolve(r(c)).path,u;if(f in a)u=a[f];else{let v=4,k=16*o.reduce((I,w)=>I*w,1),E=await s(f,{suffixLength:k+v});u=a[f]=E?await i.decode(E):null}if(u===null)return;let{data:h,shape:p,stride:g}=u,_=l.map((v,k)=>v%p[k]).reduce((v,k,E)=>v+k*g[E],0),m=h[_],d=h[_+1];if(!(m===gi&&d===gi))return s(f,{offset:Number(m),length:Number(d)})}}class Cr{store;path;constructor(e,r="/"){this.store=e,this.path=r}resolve(e){let r=new URL(`file://${this.path.endsWith("/")?this.path:`${this.path}/`}`);return new Cr(this.store,new URL(e,r).pathname)}}class to extends Cr{kind="group";#e;constructor(e,r,n){super(e,r),this.#e=n}get attrs(){return this.#e.attributes}}const Dr=Symbol("zarrita.context");function op(t){return t[Dr]}function ip(t,e){let{configuration:r}=e.codecs.find(Jm)??{},n={encode_chunk_key:Bm(e.chunk_key_encoding),TypedArray:ul(e.data_type),fill_value:e.fill_value};if(r){let o=ss(r.codecs);return{...n,kind:"sharded",chunk_shape:r.chunk_shape,codec:os({data_type:e.data_type,shape:r.chunk_shape,codecs:r.codecs}),get_strides(i,a){return ir(i,a??o)},get_chunk_bytes:sp(t,e.chunk_grid.configuration.chunk_shape,n.encode_chunk_key,r)}}let s=ss(e.codecs);return{...n,kind:"regular",chunk_shape:e.chunk_grid.configuration.chunk_shape,codec:os({data_type:e.data_type,shape:e.chunk_grid.configuration.chunk_shape,codecs:e.codecs}),get_strides(o,i){return ir(o,i??s)},async get_chunk_bytes(o,i){let a=n.encode_chunk_key(o),l=t.resolve(a).path;return t.store.get(l,i)}}}class Nn extends Cr{kind="array";#e;[Dr];constructor(e,r,n){super(e,r),this.#e={...n,fill_value:fl(n)},this[Dr]=ip(this,n)}get attrs(){return this.#e.attributes}get shape(){return this.#e.shape}get chunks(){return this[Dr].chunk_shape}get dtype(){return this.#e.data_type}async getChunk(e,r){let n=this[Dr],s=await n.get_chunk_bytes(e,r);if(!s){let o=n.chunk_shape.reduce((a,l)=>a*l,1),i=new n.TypedArray(o);return i.fill(n.fill_value),{data:i,shape:n.chunk_shape,stride:n.get_strides(n.chunk_shape)}}return n.codec.decode(s)}is(e){return Hm(this.dtype,e)}}let Fn=ap();function ap(){let t=new WeakMap;function e(r){let n=t.get(r)??{v2:0,v3:0};return t.set(r,n),n}return{increment(r,n){e(r)[n]+=1},version_max(r){let n=e(r);return n.v3>n.v2?"v3":"v2"}}}async function lp(t){let e=await t.store.get(t.resolve(".zattrs").path);return e?Qr(e):{}}async function cp(t,e={}){let r="store"in t?t:new Cr(t),n={};return(e.attrs??!0)&&(n=await lp(r)),e.kind==="array"?vi(r,n):e.kind==="group"?yi(r,n):vi(r,n).catch(s=>{if(s instanceof Yr)return yi(r,n);throw s})}async function vi(t,e){let{path:r}=t.resolve(".zarray"),n=await t.store.get(r);if(!n)throw new Yr("v2 array",{cause:new Xs(r)});return Fn.increment(t.store,"v2"),new Nn(t.store,t.path,Wm(Qr(n),e))}async function yi(t,e){let{path:r}=t.resolve(".zgroup"),n=await t.store.get(r);if(!n)throw new Yr("v2 group",{cause:new Xs(r)});return Fn.increment(t.store,"v2"),new to(t.store,t.path,Gm(Qr(n),e))}async function up(t){let{store:e,path:r}=t.resolve("zarr.json"),n=await t.store.get(r);if(!n)throw new Yr("v3 array or group",{cause:new Xs(r)});let s=Qr(n);return s.node_type==="array"&&(s.fill_value=fl(s)),s.node_type==="array"?new Nn(e,t.path,s):new to(e,t.path,s)}async function fp(t,e={}){let r="store"in t?t:new Cr(t),n=await up(r);if(Fn.increment(r.store,"v3"),e.kind===void 0||e.kind==="array"&&n instanceof Nn||e.kind==="group"&&n instanceof to)return n;let s=n instanceof Nn?"array":"group";throw new Error(`Expected node of kind ${e.kind}, found ${s}.`)}async function tr(t,e){let r="store"in t?t.store:t,n=Fn.version_max(r),s=n==="v2"?tr.v2:tr.v3,o=n==="v2"?tr.v3:tr.v2;return s(t,e).catch(i=>{if(i instanceof Yr)return o(t,e);throw i})}tr.v2=cp;tr.v3=fp;function*dp(t,e,r=1){e===void 0&&(e=t,t=0);for(let n=t;n<e;n+=r)yield n}function*hp(...t){if(t.length===0)return;const e=t.map(n=>n[Symbol.iterator]()),r=e.map(n=>n.next());if(r.some(n=>n.done))throw new Error("Input contains an empty iterator.");for(let n=0;;){if(r[n].done){if(e[n]=t[n][Symbol.iterator](),r[n]=e[n].next(),++n>=e.length)return}else yield r.map(({value:s})=>s),n=0;r[n]=e[n].next()}}function mp({start:t,stop:e,step:r},n){if(r===0)throw new Error("slice step cannot be zero");r=r??1;const s=r<0,[o,i]=s?[-1,n-1]:[0,n];return t===null?t=s?i:o:t<0?(t+=n,t<o&&(t=o)):t>i&&(t=i),e===null?e=s?o:i:e<0?(e+=n,e<o&&(e=o)):e>i&&(e=i),[t,e,r]}function is(t,e,r=null){return e===void 0&&(e=t,t=null),{start:t,stop:e,step:r}}function pp(){const t=[];return{add:e=>t.push(e()),onIdle:()=>Promise.all(t)}}class ro extends Error{constructor(e){super(e),this.name="IndexError"}}function _p(t,e){throw new ro(`too many indicies for array; expected ${e.length}, got ${t.length}`)}function gp(t){throw new ro(`index out of bounds for dimension with length ${t}`)}function vp(){throw new ro("only slices with step >= 1 are supported")}function yp(t,e){t.length>e.length&&_p(t,e)}function bp(t,e){return t=Math.trunc(t),t<0&&(t=e+t),(t>=e||t<0)&&gp(e),t}class wp{dim_sel;dim_len;dim_chunk_len;nitems;constructor({dim_sel:e,dim_len:r,dim_chunk_len:n}){e=bp(e,r),this.dim_sel=e,this.dim_len=r,this.dim_chunk_len=n,this.nitems=1}*[Symbol.iterator](){const e=Math.floor(this.dim_sel/this.dim_chunk_len),r=e*this.dim_chunk_len,n=this.dim_sel-r;yield{dim_chunk_ix:e,dim_chunk_sel:n}}}class bi{start;stop;step;dim_len;dim_chunk_len;nitems;nchunks;constructor({dim_sel:e,dim_len:r,dim_chunk_len:n}){const[s,o,i]=mp(e,r);this.start=s,this.stop=o,this.step=i,this.step<1&&vp(),this.dim_len=r,this.dim_chunk_len=n,this.nitems=Math.max(0,Math.ceil((this.stop-this.start)/this.step)),this.nchunks=Math.ceil(this.dim_len/this.dim_chunk_len)}*[Symbol.iterator](){const e=Math.floor(this.start/this.dim_chunk_len),r=Math.ceil(this.stop/this.dim_chunk_len);for(const n of dp(e,r)){const s=n*this.dim_chunk_len,o=Math.min(this.dim_len,(n+1)*this.dim_chunk_len),i=o-s;let a=0,l=0;if(this.start<s){const p=(s-this.start)%this.step;p&&(l+=this.step-p),a=Math.ceil((s-this.start)/this.step)}else l=this.start-s;const c=this.stop>o?i:this.stop-s,f=[l,c,this.step],u=Math.ceil((c-l)/this.step),h=[a,a+u,1];yield{dim_chunk_ix:n,dim_chunk_sel:f,dim_out_sel:h}}}}function $p(t,e){let r=[];return t===null?r=e.map(n=>is(null)):Array.isArray(t)&&(r=t.map(n=>n??is(null))),yp(r,e),r}class kp{dim_indexers;shape;constructor({selection:e,shape:r,chunk_shape:n}){this.dim_indexers=$p(e,r).map((s,o)=>new(typeof s=="number"?wp:bi)({dim_sel:s,dim_len:r[o],dim_chunk_len:n[o]})),this.shape=this.dim_indexers.filter(s=>s instanceof bi).map(s=>s.nitems)}*[Symbol.iterator](){for(const e of hp(...this.dim_indexers)){const r=e.map(s=>s.dim_chunk_ix),n=e.map(s=>"dim_out_sel"in s?{from:s.dim_chunk_sel,to:s.dim_out_sel}:{from:s.dim_chunk_sel,to:null});yield{chunk_coords:r,mapping:n}}}}function Ep(t,e){return"get"in t?t.get(e):t[e]}async function Sp(t,e,r,n){let s=op(t),o=new kp({selection:e,shape:t.shape,chunk_shape:t.chunks}),i=n.prepare(new s.TypedArray(o.shape.reduce((l,c)=>l*c,1)),o.shape,s.get_strides(o.shape,r.order)),a=r.create_queue?.()??pp();for(const{chunk_coords:l,mapping:c}of o)a.add(async()=>{let{data:f,shape:u,stride:h}=await t.getChunk(l,r.opts),p=n.prepare(f,u,h);n.set_from_chunk(i,p,c)});return await a.onIdle(),o.shape.length===0?Ep(i.data,0):i}function no(t,e=0,r){let n=r??t.length-e;return{length:n,subarray(s,o=n){return no(t,e+s,o-s)},set(s,o=0){for(let i=0;i<s.length;i++)t[e+o+i]=s.get(i)},get(s){return t[e+s]}}}function Xn(t){return globalThis.Array.isArray(t.data)?{data:no(t.data),stride:t.stride,bytes_per_element:1}:{data:new Uint8Array(t.data.buffer,t.data.byteOffset,t.data.byteLength),stride:t.stride,bytes_per_element:t.data.BYTES_PER_ELEMENT}}function Cp(t){return"chars"in t?t.constructor.bind(null,t.chars):t.constructor}function Np(t,e){if(globalThis.Array.isArray(t.data))return no([e]);let r=Cp(t.data),n=new r([e]);return new Uint8Array(n.buffer,n.byteOffset,n.byteLength)}const Pp={prepare(t,e,r){return{data:t,shape:e,stride:r}},set_scalar(t,e,r){let n=Xn(t);as(n,e,Np(t,r),n.bytes_per_element)},set_from_chunk(t,e,r){let n=Xn(t);vn(n,Xn(e),n.bytes_per_element,r)}};async function Op(t,e=null,r={}){return Sp(t,e,r,Pp)}function dl(t,e,r){return r<0&&e<t?Math.floor((t-e-1)/-r)+1:t<e?Math.floor((e-t-1)/r)+1:0}function as(t,e,r,n){if(e.length===0){t.data.set(r,0);return}const[s,...o]=e,[i,...a]=t.stride;if(typeof s=="number"){const h=t.data.subarray(i*s*n);as({data:h,stride:a},o,r,n);return}const[l,c,f]=s,u=dl(l,c,f);if(o.length===0){for(let h=0;h<u;h++)t.data.set(r,i*(l+f*h)*n);return}for(let h=0;h<u;h++){const p=t.data.subarray(i*(l+f*h)*n);as({data:p,stride:a},o,r,n)}}function vn(t,e,r,n){const[s,...o]=n,[i,...a]=t.stride,[l,...c]=e.stride;if(s.from===null){if(o.length===0){t.data.set(e.data.subarray(0,r),s.to*r);return}vn({data:t.data.subarray(i*s.to*r),stride:a},e,r,o);return}if(s.to===null){if(o.length===0){let d=s.from*r;t.data.set(e.data.subarray(d,d+r),0);return}vn(t,{data:e.data.subarray(l*s.from*r),stride:c},r,o);return}const[f,u,h]=s.to,[p,g,_]=s.from,m=dl(f,u,h);if(o.length===0){if(h===1&&_===1&&i===1&&l===1){let d=p*r,v=m*r;t.data.set(e.data.subarray(d,d+v),f*r);return}for(let d=0;d<m;d++){let v=l*(p+_*d)*r;t.data.set(e.data.subarray(v,v+r),i*(f+h*d)*r)}return}for(let d=0;d<m;d++)vn({data:t.data.subarray(i*(f+d*h)*r),stride:a},{data:e.data.subarray(l*(p+d*_)*r),stride:c},r,o)}function Ap(t){for(var e=new Array(t),r=0;r<t;++r)e[r]=r;return e}var Tp=Ap;/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var jp=function(t){return t!=null&&(hl(t)||Ip(t)||!!t._isBuffer)};function hl(t){return!!t.constructor&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function Ip(t){return typeof t.readFloatLE=="function"&&typeof t.slice=="function"&&hl(t.slice(0,0))}var Rp=Tp,Dp=jp,Mp=typeof Float64Array<"u";function Fp(t,e){return t[0]-e[0]}function zp(){var t=this.stride,e=new Array(t.length),r;for(r=0;r<e.length;++r)e[r]=[Math.abs(t[r]),r];e.sort(Fp);var n=new Array(e.length);for(r=0;r<n.length;++r)n[r]=e[r][1];return n}function Lp(t,e){var r=["View",e,"d",t].join("");e<0&&(r="View_Nil"+t);var n=t==="generic";if(e===-1){var s="function "+r+"(a){this.data=a;};var proto="+r+".prototype;proto.dtype='"+t+"';proto.index=function(){return -1};proto.size=0;proto.dimension=-1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function(){return new "+r+"(this.data);};proto.get=proto.set=function(){};proto.pick=function(){return null};return function construct_"+r+"(a){return new "+r+"(a);}",_=new Function(s);return _()}else if(e===0){var s="function "+r+"(a,d) {this.data = a;this.offset = d};var proto="+r+".prototype;proto.dtype='"+t+"';proto.index=function(){return this.offset};proto.dimension=0;proto.size=1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function "+r+"_copy() {return new "+r+"(this.data,this.offset)};proto.pick=function "+r+"_pick(){return TrivialArray(this.data);};proto.valueOf=proto.get=function "+r+"_get(){return "+(n?"this.data.get(this.offset)":"this.data[this.offset]")+"};proto.set=function "+r+"_set(v){return "+(n?"this.data.set(this.offset,v)":"this.data[this.offset]=v")+"};return function construct_"+r+"(a,b,c,d){return new "+r+"(a,d)}",_=new Function("TrivialArray",s);return _(Pn[t][0])}var s=["'use strict'"],o=Rp(e),i=o.map(function(m){return"i"+m}),a="this.offset+"+o.map(function(m){return"this.stride["+m+"]*i"+m}).join("+"),l=o.map(function(m){return"b"+m}).join(","),c=o.map(function(m){return"c"+m}).join(",");s.push("function "+r+"(a,"+l+","+c+",d){this.data=a","this.shape=["+l+"]","this.stride=["+c+"]","this.offset=d|0}","var proto="+r+".prototype","proto.dtype='"+t+"'","proto.dimension="+e),s.push("Object.defineProperty(proto,'size',{get:function "+r+"_size(){return "+o.map(function(m){return"this.shape["+m+"]"}).join("*"),"}})"),e===1?s.push("proto.order=[0]"):(s.push("Object.defineProperty(proto,'order',{get:"),e<4?(s.push("function "+r+"_order(){"),e===2?s.push("return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})"):e===3&&s.push("var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);if(s0>s1){if(s1>s2){return [2,1,0];}else if(s0>s2){return [1,2,0];}else{return [1,0,2];}}else if(s0>s2){return [2,0,1];}else if(s2>s1){return [0,1,2];}else{return [0,2,1];}}})")):s.push("ORDER})")),s.push("proto.set=function "+r+"_set("+i.join(",")+",v){"),n?s.push("return this.data.set("+a+",v)}"):s.push("return this.data["+a+"]=v}"),s.push("proto.get=function "+r+"_get("+i.join(",")+"){"),n?s.push("return this.data.get("+a+")}"):s.push("return this.data["+a+"]}"),s.push("proto.index=function "+r+"_index(",i.join(),"){return "+a+"}"),s.push("proto.hi=function "+r+"_hi("+i.join(",")+"){return new "+r+"(this.data,"+o.map(function(m){return["(typeof i",m,"!=='number'||i",m,"<0)?this.shape[",m,"]:i",m,"|0"].join("")}).join(",")+","+o.map(function(m){return"this.stride["+m+"]"}).join(",")+",this.offset)}");var f=o.map(function(m){return"a"+m+"=this.shape["+m+"]"}),u=o.map(function(m){return"c"+m+"=this.stride["+m+"]"});s.push("proto.lo=function "+r+"_lo("+i.join(",")+"){var b=this.offset,d=0,"+f.join(",")+","+u.join(","));for(var h=0;h<e;++h)s.push("if(typeof i"+h+"==='number'&&i"+h+">=0){d=i"+h+"|0;b+=c"+h+"*d;a"+h+"-=d}");s.push("return new "+r+"(this.data,"+o.map(function(m){return"a"+m}).join(",")+","+o.map(function(m){return"c"+m}).join(",")+",b)}"),s.push("proto.step=function "+r+"_step("+i.join(",")+"){var "+o.map(function(m){return"a"+m+"=this.shape["+m+"]"}).join(",")+","+o.map(function(m){return"b"+m+"=this.stride["+m+"]"}).join(",")+",c=this.offset,d=0,ceil=Math.ceil");for(var h=0;h<e;++h)s.push("if(typeof i"+h+"==='number'){d=i"+h+"|0;if(d<0){c+=b"+h+"*(a"+h+"-1);a"+h+"=ceil(-a"+h+"/d)}else{a"+h+"=ceil(a"+h+"/d)}b"+h+"*=d}");s.push("return new "+r+"(this.data,"+o.map(function(m){return"a"+m}).join(",")+","+o.map(function(m){return"b"+m}).join(",")+",c)}");for(var p=new Array(e),g=new Array(e),h=0;h<e;++h)p[h]="a[i"+h+"]",g[h]="b[i"+h+"]";s.push("proto.transpose=function "+r+"_transpose("+i+"){"+i.map(function(m,d){return m+"=("+m+"===undefined?"+d+":"+m+"|0)"}).join(";"),"var a=this.shape,b=this.stride;return new "+r+"(this.data,"+p.join(",")+","+g.join(",")+",this.offset)}"),s.push("proto.pick=function "+r+"_pick("+i+"){var a=[],b=[],c=this.offset");for(var h=0;h<e;++h)s.push("if(typeof i"+h+"==='number'&&i"+h+">=0){c=(c+this.stride["+h+"]*i"+h+")|0}else{a.push(this.shape["+h+"]);b.push(this.stride["+h+"])}");s.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}"),s.push("return function construct_"+r+"(data,shape,stride,offset){return new "+r+"(data,"+o.map(function(m){return"shape["+m+"]"}).join(",")+","+o.map(function(m){return"stride["+m+"]"}).join(",")+",offset)}");var _=new Function("CTOR_LIST","ORDER",s.join(`
`));return _(Pn[t],zp)}function Up(t){if(Dp(t))return"buffer";if(Mp)switch(Object.prototype.toString.call(t)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(t)?"array":"generic"}var Pn={float32:[],float64:[],int8:[],int16:[],int32:[],uint8:[],uint16:[],uint32:[],array:[],uint8_clamped:[],bigint64:[],biguint64:[],buffer:[],generic:[]};function Vp(t,e,r,n){if(t===void 0){var c=Pn.array[0];return c([])}else typeof t=="number"&&(t=[t]);e===void 0&&(e=[t.length]);var s=e.length;if(r===void 0){r=new Array(s);for(var o=s-1,i=1;o>=0;--o)r[o]=i,i*=e[o]}if(n===void 0){n=0;for(var o=0;o<s;++o)r[o]<0&&(n-=(e[o]-1)*r[o])}for(var a=Up(t),l=Pn[a];l.length<=s+1;)l.push(Lp(a,l.length-1));var c=l[s+1];return c(t,e,r,n)}var Bp=Vp;function qp(t){let e,r,n,s;return{c(){e=N("p"),r=z(t[1]),n=W(),s=N("canvas"),S(s,"width",t[3]),S(s,"height",t[4]),S(s,"class","svelte-9rac9u")},m(o,i){T(o,e,i),b(e,r),T(o,n,i),T(o,s,i),t[8](s)},p(o,i){i&2&&Ee(r,o[1])},d(o){o&&A(e),o&&A(n),o&&A(s),t[8](null)}}}function Kp(t){let e,r;return{c(){e=N("p"),r=z(t[0])},m(n,s){T(n,e,s),b(e,r)},p(n,s){s&1&&Ee(r,n[0])},d(n){n&&A(e)}}}function Wp(t){let e;function r(o,i){return o[0]?Kp:qp}let n=r(t),s=n(t);return{c(){s.c(),e=Ae()},m(o,i){s.m(o,i),T(o,e,i)},p(o,[i]){n===(n=r(o))&&s?s.p(o,i):(s.d(1),s=n(o),s&&(s.c(),s.m(e.parentNode,e)))},i:L,o:L,d(o){s.d(o),o&&A(e)}}}function ml(t){const e=t.shape,r=e[0],n=e[1];let s=0,o=1/0;for(let i=0;i<r;i++)for(let a=0;a<n;a++){let l=t.get(i,a);s=Math.max(s,l),o=Math.min(o,l)}return[o,s]}function ls(t,e){const r=t[0].shape,n=r[0],s=r[1];e||(e=t.map(ml));let o=[255,255,255];const i=new Uint8ClampedArray(4*n*s).fill(0);let a=0;for(let l=0;l<n;l++)for(let c=0;c<s;c++){for(let f=0;f<t.length;f++){let u=e[f],p=(t[f].get(l,c)-u[0])/(u[1]-u[0]);for(let g=0;g<3;g++){let _=p*o[g]<<0;i[a*4+g]=Math.max(i[a*4+g],_)}}i[a*4+3]=255,a+=1}return i}function Gp(t,e,r){let{chunk:n}=e,{chunkSlice:s}=e,o,i,a,l;const c=n.shape[n.shape.length-1],f=n.shape[n.shape.length-2];function u(g,_){let m=[..._];m[m.length-1]=null,m[m.length-2]=null;let d=Bp(g.data,g.shape,g.stride);console.log(d.shape);let v=d.pick(...m);return console.log("nddata",v),v}function h(){let g=n;if(s)try{console.log("renderImageToCanvas...",n.shape),g=u(n,s),r(0,o=void 0)}catch{r(0,o=`Slicing (${n.shape}) failed with slice (${s})`)}if(!o){let _=ml(g);console.log("minMax",_),r(1,i=`Min: ${_[0]} Max: ${_[1]}`);let m=ls([g],[_]);l.putImageData(new ImageData(m,c,f),0,0)}}da(()=>{l=a.getContext("2d"),h()}),ql(h);function p(g){yr[g?"unshift":"push"](()=>{a=g,r(2,a)})}return t.$$set=g=>{"chunk"in g&&r(5,n=g.chunk),"chunkSlice"in g&&r(6,s=g.chunkSlice)},[o,i,a,c,f,n,s,ls,p]}class Hp extends Ce{constructor(e){super(),Se(this,e,Gp,Wp,$e,{chunk:5,chunkSlice:6,renderTo8bitArray:7})}get renderTo8bitArray(){return ls}}function pl(t,e,r,n={}){return e!==void 0&&r!==void 0&&(n={...n,headers:{...n.headers,Range:`bytes=${e}-${e+r-1}`}}),fetch(t,n)}function Jp(t,e){return{...t,...e,headers:{...t.headers,...e.headers}}}function wi(t,e){const r=typeof t=="string"?new URL(t):t;r.pathname.endsWith("/")||(r.pathname+="/");const n=new URL(e.slice(1),r);return n.search=r.search,n}async function $i(t){if(!(t.status===404||t.status===403)){if(t.status===200||t.status===206)return new Uint8Array(await t.arrayBuffer());throw new Error(`Unexpected response status ${t.status} ${t.statusText}`)}}async function Xp(t,e,r,n){if(n)return fetch(t,{...r,headers:{...r.headers,Range:`bytes=-${e}`}});let s=await fetch(t,{...r,method:"HEAD"});if(!s.ok)return s;let o=s.headers.get("Content-Length"),i=Number(o);return pl(t,i-e,i,r)}class Yp{url;#e;#t;constructor(e,r={}){this.url=e,this.#e=r.overrides??{},this.#t=r.useSuffixRequest??!1}#r(e){return Jp(this.#e,e)}async get(e,r={}){let n=wi(this.url,e).href,s=await fetch(n,this.#r(r));return $i(s)}async getRange(e,r,n={}){let s=wi(this.url,e),o=this.#r(n),i;return"suffixLength"in r?i=await Xp(s,r.suffixLength,o,this.#t):i=await pl(s,r.offset,r.length,o),$i(i)}}var Zp=Yp;function ki(t,e,r){const n=t.slice();return n[20]=e[r],n[21]=e,n[22]=r,n}function Ei(t,e,r){const n=t.slice();return n[20]=e[r],n[23]=e,n[22]=r,n}function Si(t,e,r){const n=t.slice();return n[24]=e[r],n}function Ci(t){let e,r=t[24]+"",n,s;return{c(){e=N("option"),n=z(r),e.__value=s=t[24],e.value=e.__value},m(o,i){T(o,e,i),b(e,n)},p:L,d(o){o&&A(e)}}}function Ni(t){let e,r,n,s,o,i=Cn(t[20]),a=[];for(let c=0;c<i.length;c+=1)a[c]=Ci(Si(t,i,c));function l(){t[15].call(e,t[22])}return{c(){e=N("select");for(let c=0;c<a.length;c+=1)a[c].c();e.disabled=r=t[20]==1,S(e,"name",n="dim_"+t[22]),S(e,"class","svelte-17w95lj"),t[3][t[22]]===void 0&&Jt(l)},m(c,f){T(c,e,f);for(let u=0;u<a.length;u+=1)a[u].m(e,null);vo(e,t[3][t[22]]),s||(o=He(e,"change",l),s=!0)},p(c,f){if(t=c,f&32){i=Cn(t[20]);let u;for(u=0;u<i.length;u+=1){const h=Si(t,i,u);a[u]?a[u].p(h,f):(a[u]=Ci(h),a[u].c(),a[u].m(e,null))}for(;u<a.length;u+=1)a[u].d(1);a.length=i.length}f&40&&vo(e,t[3][t[22]])},d(c){c&&A(e),Je(a,c),s=!1,o()}}}function Pi(t){let e,r,n,s,o,i=t[2].slice(0,-2)+"",a,l,c=t[2].slice(0,-2),f=[];for(let u=0;u<c.length;u+=1)f[u]=Oi(ki(t,c,u));return{c(){e=N("div"),r=z(`Slice chunk to 2D:
      `);for(let u=0;u<f.length;u+=1)f[u].c();n=W(),s=N("br"),o=z(`
      Slice: [`),a=z(i),l=z(",:,:]"),S(e,"class","sliceControls svelte-17w95lj")},m(u,h){T(u,e,h),b(e,r);for(let p=0;p<f.length;p+=1)f[p].m(e,null);b(e,n),b(e,s),b(e,o),b(e,a),b(e,l)},p(u,h){if(h&276){c=u[2].slice(0,-2);let p;for(p=0;p<c.length;p+=1){const g=ki(u,c,p);f[p]?f[p].p(g,h):(f[p]=Oi(g),f[p].c(),f[p].m(e,n))}for(;p<f.length;p+=1)f[p].d(1);f.length=c.length}h&4&&i!==(i=u[2].slice(0,-2)+"")&&Ee(a,i)},d(u){u&&A(e),Je(f,u)}}}function Oi(t){let e,r,n;function s(){t[16].call(e,t[22])}return{c(){e=N("input"),S(e,"title","Dimension:"+t[22]),S(e,"type","range"),S(e,"min","0"),S(e,"max",t[8][t[22]]-1)},m(o,i){T(o,e,i),go(e,t[4][t[22]]),r||(n=[He(e,"change",s),He(e,"input",s)],r=!0)},p(o,i){t=o,i&16&&go(e,t[4][t[22]])},d(o){o&&A(e),r=!1,Ut(n)}}}function Ai(t){let e,r,n,s;const o=[xp,Qp],i=[];function a(l,c){return l[1]?0:1}return e=a(t),r=i[e]=o[e](t),{c(){r.c(),n=Ae()},m(l,c){i[e].m(l,c),T(l,n,c),s=!0},p(l,c){let f=e;e=a(l),e===f?i[e].p(l,c):(Pe(),K(i[f],1,1,()=>{i[f]=null}),Oe(),r=i[e],r?r.p(l,c):(r=i[e]=o[e](l),r.c()),B(r,1),r.m(n.parentNode,n))},i(l){s||(B(r),s=!0)},o(l){K(r),s=!1},d(l){i[e].d(l),l&&A(n)}}}function Qp(t){let e;return{c(){e=N("p"),e.textContent="Loading chunk..."},m(r,n){T(r,e,n)},p:L,i:L,o:L,d(r){r&&A(e)}}}function xp(t){let e,r;return e=new Hp({props:{chunk:t[1],chunkSlice:t[2]}}),{c(){ce(e.$$.fragment)},m(n,s){ie(e,n,s),r=!0},p(n,s){const o={};s&2&&(o.chunk=n[1]),s&4&&(o.chunkSlice=n[2]),e.$set(o)},i(n){r||(B(e.$$.fragment,n),r=!0)},o(n){K(e.$$.fragment,n),r=!1},d(n){ae(e,n)}}}function e_(t){let e,r,n,s,o,i,a,l,c,f,u=t[5],h=[];for(let _=0;_<u.length;_+=1)h[_]=Ni(Ei(t,u,_));let p=t[0]&&t[7]&&Pi(t),g=t[0]&&Ai(t);return{c(){e=N("div"),r=z(`Load chunk:
  `),n=N("input"),s=W();for(let _=0;_<h.length;_+=1)h[_].c();o=W(),p&&p.c(),i=W(),g&&g.c(),a=Ae(),S(n,"type","checkbox"),S(e,"class","chunkLoader svelte-17w95lj")},m(_,m){T(_,e,m),b(e,r),b(e,n),n.checked=t[0],b(e,s);for(let d=0;d<h.length;d+=1)h[d].m(e,null);b(e,o),p&&p.m(e,null),T(_,i,m),g&&g.m(_,m),T(_,a,m),l=!0,c||(f=[He(n,"change",t[14]),He(n,"change",t[10])],c=!0)},p(_,[m]){if(m&1&&(n.checked=_[0]),m&40){u=_[5];let d;for(d=0;d<u.length;d+=1){const v=Ei(_,u,d);h[d]?h[d].p(v,m):(h[d]=Ni(v),h[d].c(),h[d].m(e,o))}for(;d<h.length;d+=1)h[d].d(1);h.length=u.length}_[0]&&_[7]?p?p.p(_,m):(p=Pi(_),p.c(),p.m(e,null)):p&&(p.d(1),p=null),_[0]?g?(g.p(_,m),m&1&&B(g,1)):(g=Ai(_),g.c(),B(g,1),g.m(a.parentNode,a)):g&&(Pe(),K(g,1,1,()=>{g=null}),Oe())},i(_){l||(B(g),l=!0)},o(_){K(g),l=!1},d(_){_&&A(e),Je(h,_),p&&p.d(),_&&A(i),g&&g.d(_),_&&A(a),c=!1,Ut(f)}}}function t_(t,e,r){let n,s,{source:o}=e,{path:i}=e,{zarray:a}=e,l=i.replace("/zarr.json","").replace("/.zarray",""),c=!1,f;const[u,h]=or(a),p=a.shape.map((O,q)=>Math.ceil(O/u[q])),g=ui(p.map(O=>0));po(t,g,O=>r(3,n=O));const _=u.slice(0,-2).some(O=>O>1);let m=u.filter(O=>O>1),d=m.map(O=>0);const v=ui(u.filter(O=>O>1).map(O=>0));po(t,v,O=>r(4,s=O));async function k(){if(!c)return;r(1,f=void 0);let O=o+"/"+l;const q=new Zp(O),Y=await tr(q,{kind:"array"});let x=Y.chunks,te=mo(g).map((ye,me)=>x[me]>1?is(ye*x[me],(ye+1)*x[me]):ye);console.log("loading chunk",te),r(1,f=await Op(Y,te))}g.subscribe(function(){k()}),v.subscribe(function(O){r(2,d=mo(v))});function E(){c=this.checked,r(0,c)}function I(O){n[O]=zl(this),g.set(n),r(5,p)}function w(O){s[O]=Ml(this.value),v.set(s)}return t.$$set=O=>{"source"in O&&r(11,o=O.source),"path"in O&&r(12,i=O.path),"zarray"in O&&r(13,a=O.zarray)},[c,f,d,n,s,p,g,_,m,v,k,o,i,a,E,I,w]}class r_ extends Ce{constructor(e){super(),Se(this,e,t_,e_,$e,{source:11,path:12,zarray:13})}}function Ti(t){const e=or(t[8])[1];t[9]=e}function n_(t){let e,r=t[10].message+"",n;return{c(){e=N("p"),n=z(r),_e(e,"color","red")},m(s,o){T(s,e,o),b(e,n)},p:L,i:L,o:L,d(s){s&&A(e)}}}function s_(t){Ti(t);let e,r,n,s,o,i,a,l,c,f,u,h,p,g=t[6](t[8].shape,t[8])+"",_,m,d,v=t[6](or(t[8])[0],t[8])+"",k,E,I,w,O,q,Y,x=JSON.stringify(t[8].shape)+"",fe,te,ye,me=JSON.stringify(or(t[8])[0])+"",ke,Ne,we,ne,qe,H,D,V=t[5](t[8])+"",R,y,C,M=t[3](t[8])+"",J,X,le,ue,ge,Xe,pt,ht,It=tl(t[8])+"",Fe,yt,mt,ot,Ye,lt,Ke,Me,Ze,Qe,tt=t[9]&&o_(),it=t[9]&&i_(t),ct=t[9]&&a_(t),ze=t[9]&&l_(t);return Ye=new r_({props:{zarray:t[8],source:t[0],path:t[1]}}),Ke=new Dm({props:{zarray:t[8]}}),Ze=new ol({props:{jsonData:t[8],summary:t[1]}}),{c(){e=N("table"),r=N("tr"),n=N("th"),s=W(),o=N("th"),o.textContent="Array",i=W(),a=N("th"),a.textContent="Chunk",l=W(),tt&&tt.c(),c=W(),f=N("tr"),u=N("th"),u.textContent="Bytes",h=W(),p=N("td"),_=z(g),m=W(),d=N("td"),k=z(v),E=W(),it&&it.c(),I=W(),w=N("tr"),O=N("th"),O.textContent="Shape",q=W(),Y=N("td"),fe=z(x),te=W(),ye=N("td"),ke=z(me),Ne=W(),ct&&ct.c(),we=W(),ne=N("tr"),qe=N("th"),qe.textContent="Counts",H=W(),D=N("td"),R=z(V),y=W(),C=N("td"),J=z(M),X=z(" Chunks"),le=W(),ze&&ze.c(),ue=W(),ge=N("tr"),Xe=N("th"),Xe.textContent="Type",pt=W(),ht=N("td"),Fe=z(It),yt=W(),mt=N("td"),mt.textContent="numpy.ndarray",ot=W(),ce(Ye.$$.fragment),lt=W(),ce(Ke.$$.fragment),Me=W(),ce(Ze.$$.fragment),S(n,"class","svelte-1a72or7"),S(o,"class","svelte-1a72or7"),S(a,"class","svelte-1a72or7"),S(r,"class","svelte-1a72or7"),S(u,"class","svelte-1a72or7"),S(p,"class","svelte-1a72or7"),S(d,"class","svelte-1a72or7"),S(f,"class","svelte-1a72or7"),S(O,"class","svelte-1a72or7"),S(Y,"class","svelte-1a72or7"),S(ye,"class","svelte-1a72or7"),S(w,"class","svelte-1a72or7"),S(qe,"class","svelte-1a72or7"),S(D,"class","svelte-1a72or7"),S(C,"class","svelte-1a72or7"),S(ne,"class","svelte-1a72or7"),S(Xe,"class","svelte-1a72or7"),S(ht,"class","svelte-1a72or7"),S(mt,"class","svelte-1a72or7"),S(ge,"class","svelte-1a72or7"),S(e,"class","svelte-1a72or7")},m(se,Le){T(se,e,Le),b(e,r),b(r,n),b(r,s),b(r,o),b(r,i),b(r,a),b(r,l),tt&&tt.m(r,null),b(e,c),b(e,f),b(f,u),b(f,h),b(f,p),b(p,_),b(f,m),b(f,d),b(d,k),b(f,E),it&&it.m(f,null),b(e,I),b(e,w),b(w,O),b(w,q),b(w,Y),b(Y,fe),b(w,te),b(w,ye),b(ye,ke),b(w,Ne),ct&&ct.m(w,null),b(e,we),b(e,ne),b(ne,qe),b(ne,H),b(ne,D),b(D,R),b(ne,y),b(ne,C),b(C,J),b(C,X),b(ne,le),ze&&ze.m(ne,null),b(e,ue),b(e,ge),b(ge,Xe),b(ge,pt),b(ge,ht),b(ht,Fe),b(ge,yt),b(ge,mt),T(se,ot,Le),ie(Ye,se,Le),T(se,lt,Le),ie(Ke,se,Le),T(se,Me,Le),ie(Ze,se,Le),Qe=!0},p(se,Le){Ti(se),se[9]&&it.p(se,Le),se[9]&&ct.p(se,Le),se[9]&&ze.p(se,Le);const Vt={};Le&1&&(Vt.source=se[0]),Le&2&&(Vt.path=se[1]),Ye.$set(Vt);const Ct={};Le&2&&(Ct.summary=se[1]),Ze.$set(Ct)},i(se){Qe||(B(Ye.$$.fragment,se),B(Ke.$$.fragment,se),B(Ze.$$.fragment,se),Qe=!0)},o(se){K(Ye.$$.fragment,se),K(Ke.$$.fragment,se),K(Ze.$$.fragment,se),Qe=!1},d(se){se&&A(e),tt&&tt.d(),it&&it.d(),ct&&ct.d(),ze&&ze.d(),se&&A(ot),ae(Ye,se),se&&A(lt),ae(Ke,se),se&&A(Me),ae(Ze,se)}}}function o_(t){let e;return{c(){e=N("th"),e.textContent="Shard",S(e,"class","svelte-1a72or7"),_e(e,"border-color","var(--omeLinkBlue)",!1)},m(r,n){T(r,e,n)},d(r){r&&A(e)}}}function i_(t){let e,r=t[6](t[9],t[8])+"",n;return{c(){e=N("td"),n=z(r),S(e,"class","svelte-1a72or7")},m(s,o){T(s,e,o),b(e,n)},p:L,d(s){s&&A(e)}}}function a_(t){let e,r=JSON.stringify(t[9])+"",n;return{c(){e=N("td"),n=z(r),S(e,"class","svelte-1a72or7")},m(s,o){T(s,e,o),b(e,n)},p:L,d(s){s&&A(e)}}}function l_(t){let e,r=t[4](t[8])+"",n,s;return{c(){e=N("td"),n=z(r),s=z(" Shards"),S(e,"class","svelte-1a72or7")},m(o,i){T(o,e,i),b(e,n),b(e,s)},p:L,d(o){o&&A(e)}}}function c_(t){let e;return{c(){e=N("div"),e.textContent="loading array data ..."},m(r,n){T(r,e,n)},p:L,i:L,o:L,d(r){r&&A(e)}}}function u_(t){let e,r,n,s,o,i,a,l,c={ctx:t,current:null,token:null,hasCatch:!0,pending:c_,then:s_,catch:n_,value:8,error:10,blocks:[,,,]};return st(t[2],c),{c(){e=N("div"),r=N("p"),n=z("Path "),s=N("a"),o=z(t[1]),a=W(),c.block.c(),S(s,"href",i=t[0]+"/"+t[1]+" "),S(s,"class","svelte-1a72or7"),S(e,"class","array svelte-1a72or7")},m(f,u){T(f,e,u),b(e,r),b(r,n),b(r,s),b(s,o),b(e,a),c.block.m(e,c.anchor=null),c.mount=()=>e,c.anchor=null,l=!0},p(f,[u]){t=f,(!l||u&2)&&Ee(o,t[1]),(!l||u&3&&i!==(i=t[0]+"/"+t[1]+" "))&&S(s,"href",i),dt(c,t,u)},i(f){l||(B(c.block),l=!0)},o(f){for(let u=0;u<3;u+=1){const h=c.blocks[u];K(h)}l=!1},d(f){f&&A(e),c.block.d(),c.token=null,c=null}}}function f_(t,e,r){let{source:n}=e,{path:s}=e;const o=Lt(n+"/"+s);function i(u){return l(u).reduce((h,p)=>h*p,1)}function a(u){return c(u).reduce((h,p)=>h*p,1)}function l(u){const[h,p]=or(u);return u.shape.map((g,_)=>Math.ceil(g/h[_]))}function c(u){const[h,p]=or(u);return p?u.shape.map((g,_)=>Math.ceil(g/p[_])):[]}function f(u,h){let p=tl(h),g;if(p.includes("int")||p.includes("float")?g=parseInt(p.match(/\d+/)[0])/8:g=[1,2,4,8].find(m=>p.includes(m)),!g)return"";let _=u.reduce((m,d)=>m*d,1);return oh(g*_)}return t.$$set=u=>{"source"in u&&r(0,n=u.source),"path"in u&&r(1,s=u.path)},[n,s,o,i,a,l,f]}class d_ extends Ce{constructor(e){super(),Se(this,e,f_,u_,$e,{source:0,path:1})}}function h_(t){let e;return{c(){e=N("div"),e.textContent="\xD7",S(e,"class","invalid svelte-13ogotb")},m(r,n){T(r,e,n)},d(r){r&&A(e)}}}function m_(t){let e;return{c(){e=N("div"),e.textContent="\u2713",S(e,"class","valid svelte-13ogotb")},m(r,n){T(r,e,n)},d(r){r&&A(e)}}}function p_(t){let e;function r(o,i){return o[0]?m_:h_}let n=r(t),s=n(t);return{c(){s.c(),e=Ae()},m(o,i){s.m(o,i),T(o,e,i)},p(o,[i]){n!==(n=r(o))&&(s.d(1),s=n(o),s&&(s.c(),s.m(e.parentNode,e)))},i:L,o:L,d(o){s.d(o),o&&A(e)}}}function __(t,e,r){let{valid:n}=e;return t.$$set=s=>{"valid"in s&&r(0,n=s.valid)},[n]}class zn extends Ce{constructor(e){super(),Se(this,e,__,p_,$e,{valid:0})}}function ji(t,e,r){const n=t.slice();return n[12]=e[r],n}function g_(t){let e,r=t[15].message+"",n;return{c(){e=N("p"),n=z(r),_e(e,"color","red")},m(s,o){T(s,e,o),b(e,n)},p:L,i:L,o:L,d(s){s&&A(e)}}}function v_(t){let e,r,n,s,o;const i=[b_,y_],a=[];function l(u,h){return S_(u[11])?0:1}e=l(t),r=a[e]=i[e](t);let c=t[11],f=[];for(let u=0;u<c.length;u+=1)f[u]=Ii(ji(t,c,u));return{c(){r.c(),n=W();for(let u=0;u<f.length;u+=1)f[u].c();s=Ae()},m(u,h){a[e].m(u,h),T(u,n,h);for(let p=0;p<f.length;p+=1)f[p].m(u,h);T(u,s,h),o=!0},p(u,h){if(r.p(u,h),h&4){c=u[11];let p;for(p=0;p<c.length;p+=1){const g=ji(u,c,p);f[p]?f[p].p(g,h):(f[p]=Ii(g),f[p].c(),f[p].m(s.parentNode,s))}for(;p<f.length;p+=1)f[p].d(1);f.length=c.length}},i(u){o||(B(r),o=!0)},o(u){K(r),o=!1},d(u){a[e].d(u),u&&A(n),Je(f,u),u&&A(s)}}}function y_(t){let e,r=t[1].length+"",n,s,o;return{c(){e=N("p"),n=z(r),s=z(" Datasets checked "),o=N("span"),o.textContent="\u2713",_e(o,"color","green"),S(e,"title",t[0])},m(i,a){T(i,e,a),b(e,n),b(e,s),b(e,o)},p(i,a){a&1&&S(e,"title",i[0])},i:L,o:L,d(i){i&&A(e)}}}function b_(t){let e,r;return e=new zn({props:{valid:!1}}),{c(){ce(e.$$.fragment)},m(n,s){ie(e,n,s),r=!0},p:L,i(n){r||(B(e.$$.fragment,n),r=!0)},o(n){K(e.$$.fragment,n),r=!1},d(n){ae(e,n)}}}function w_(t){let e,r,n=t[12].msg+"",s;return{c(){e=N("p"),r=z("Error: "),s=z(n),_e(e,"color","red")},m(o,i){T(o,e,i),b(e,r),b(e,s)},p:L,d(o){o&&A(e)}}}function $_(t){let e,r,n=t[12].msg+"",s;return{c(){e=N("p"),r=z("Warning: "),s=z(n),_e(e,"color","orange")},m(o,i){T(o,e,i),b(e,r),b(e,s)},p:L,d(o){o&&A(e)}}}function Ii(t){let e;function r(o,i){return o[12].status=="warning"?$_:w_}let s=r(t)(t);return{c(){s.c(),e=Ae()},m(o,i){s.m(o,i),T(o,e,i)},p(o,i){s.p(o,i)},d(o){s.d(o),o&&A(e)}}}function k_(t){let e;return{c(){e=N("p"),e.textContent="loading..."},m(r,n){T(r,e,n)},p:L,i:L,o:L,d(r){r&&A(e)}}}function E_(t){let e,r,n={ctx:t,current:null,token:null,hasCatch:!0,pending:k_,then:v_,catch:g_,value:11,error:15,blocks:[,,,]};return st(t[2],n),{c(){e=Ae(),n.block.c()},m(s,o){T(s,e,o),n.block.m(s,n.anchor=o),n.mount=()=>e.parentNode,n.anchor=e,r=!0},p(s,[o]){t=s,dt(n,t,o)},i(s){r||(B(n.block),r=!0)},o(s){for(let o=0;o<3;o+=1){const i=n.blocks[o];K(i)}r=!1},d(s){s&&A(e),n.block.d(s),n.token=null,n=null}}}const _l="warning";function Ri(t){return t.every(e=>e==t[0])}function S_(t){return t.some(e=>e.status!=_l)}function C_(t,e,r){let{source:n}=e,{multiscale:s}=e;const{axes:o,datasets:i,version:a}=s,l=["0.1","0.2","0.3","0.4"].includes(a),c=["0.2","0.3","0.4"].includes(a),f=["0.1","0.2","0.3","0.4"].includes(a);let u="dtypes match and shapes are consistent";f||(u="dimension_names checked, "+u);async function h(){let g=[],_=[],m=[],d=[],v=[];for(let E=0;E<i.length;E++){let I=i[E],w=await xd(n+"/"+I.path);v.push(w),_.push(w.shape.length),g.push(w.dtype||w.data_type),m.push(w.shape),d.push(w.dimension_separator||w.chunk_key_encoding?.configuration?.separator)}let k=[];if(g.length===0&&k.push({msg:"No multiscale datasets"}),Ri(g)||(l?k.push({msg:`dtypes mismatch: ${g.join(", ")} not valid after version 0.4`,status:_l}):k.push({msg:`dtypes mismatch: ${g.join(", ")}`})),Ri(_)||k.push({msg:`number of dimensions mismatch: ${_.join(", ")}`}),o&&(m.forEach(E=>{E.length!=o.length&&k.push({msg:`Shape (${E.join(", ")}) doesn't match axes length: ${o.length}`})}),!f)){let E=JSON.stringify(o.map(I=>I.name));v.forEach((I,w)=>{let O;if(!I.dimension_names)O=`No dimension_names found for dataset ${w}`;else{let q=JSON.stringify(I.dimension_names);q!=E&&(O=`dimension_names: ${q} don't match axes names: ${E}`)}O&&k.push({msg:O})})}return c&&d.forEach(E=>{E!="/"&&k.push({msg:`Dimension separator must be / for version ${a}`})}),k}const p=h();return t.$$set=g=>{"source"in g&&r(3,n=g.source),"multiscale"in g&&r(4,s=g.multiscale)},[u,i,p,n,s]}class N_ extends Ce{constructor(e){super(),Se(this,e,C_,E_,$e,{source:3,multiscale:4})}}function Di(t,e,r){const n=t.slice();return n[4]=e[r],n[6]=r,n}function Mi(t,e,r){const n=t.slice();return n[7]=e[r],n}function Fi(t){let e,r;return e=new d_({props:{source:t[0],path:t[7].path+"/"+t[2]}}),{c(){ce(e.$$.fragment)},m(n,s){ie(e,n,s),r=!0},p(n,s){const o={};s&1&&(o.source=n[0]),s&2&&(o.path=n[7].path+"/"+n[2]),e.$set(o)},i(n){r||(B(e.$$.fragment,n),r=!0)},o(n){K(e.$$.fragment,n),r=!1},d(n){ae(e,n)}}}function zi(t){let e,r,n,s,o,i,a,l,c;i=new N_({props:{source:t[0],multiscale:t[4]}});let f=t[4].datasets,u=[];for(let p=0;p<f.length;p+=1)u[p]=Fi(Mi(t,f,p));const h=p=>K(u[p],1,1,()=>{u[p]=null});return{c(){e=N("article"),r=N("h2"),n=z("Multiscale "),s=z(t[6]),o=W(),ce(i.$$.fragment),a=W();for(let p=0;p<u.length;p+=1)u[p].c();l=W(),S(r,"class","svelte-1u2mha0"),S(e,"class","svelte-1u2mha0")},m(p,g){T(p,e,g),b(e,r),b(r,n),b(r,s),b(e,o),ie(i,e,null),b(e,a);for(let _=0;_<u.length;_+=1)u[_].m(e,null);b(e,l),c=!0},p(p,g){const _={};if(g&1&&(_.source=p[0]),g&2&&(_.multiscale=p[4]),i.$set(_),g&7){f=p[4].datasets;let m;for(m=0;m<f.length;m+=1){const d=Mi(p,f,m);u[m]?(u[m].p(d,g),B(u[m],1)):(u[m]=Fi(d),u[m].c(),B(u[m],1),u[m].m(e,l))}for(Pe(),m=f.length;m<u.length;m+=1)h(m);Oe()}},i(p){if(!c){B(i.$$.fragment,p);for(let g=0;g<f.length;g+=1)B(u[g]);c=!0}},o(p){K(i.$$.fragment,p),u=u.filter(Boolean);for(let g=0;g<u.length;g+=1)K(u[g]);c=!1},d(p){p&&A(e),ae(i),Je(u,p)}}}function P_(t){let e,r,n=t[1].multiscales,s=[];for(let i=0;i<n.length;i+=1)s[i]=zi(Di(t,n,i));const o=i=>K(s[i],1,1,()=>{s[i]=null});return{c(){for(let i=0;i<s.length;i+=1)s[i].c();e=Ae()},m(i,a){for(let l=0;l<s.length;l+=1)s[l].m(i,a);T(i,e,a),r=!0},p(i,[a]){if(a&7){n=i[1].multiscales;let l;for(l=0;l<n.length;l+=1){const c=Di(i,n,l);s[l]?(s[l].p(c,a),B(s[l],1)):(s[l]=zi(c),s[l].c(),B(s[l],1),s[l].m(e.parentNode,e))}for(Pe(),l=n.length;l<s.length;l+=1)o(l);Oe()}},i(i){if(!r){for(let a=0;a<n.length;a+=1)B(s[a]);r=!0}},o(i){s=s.filter(Boolean);for(let a=0;a<s.length;a+=1)K(s[a]);r=!1},d(i){Je(s,i),i&&A(e)}}}function O_(t,e,r){let{source:n}=e,{rootAttrs:s}=e;const o=lr(s),i=Qd(o);return t.$$set=a=>{"source"in a&&r(0,n=a.source),"rootAttrs"in a&&r(1,s=a.rootAttrs)},[n,s,i]}class A_ extends Ce{constructor(e){super(),Se(this,e,O_,P_,$e,{source:0,rootAttrs:1})}}function T_(t){let e,r=t[14].message+"",n;return{c(){e=N("td"),n=z(r),_e(e,"color","red"),S(e,"class","svelte-bgaf62")},m(s,o){T(s,e,o),b(e,n)},p:L,d(s){s&&A(e)}}}function j_(t){let e,r,n,s,o={ctx:t,current:null,token:null,hasCatch:!0,pending:F_,then:R_,catch:I_,value:13,error:14};return st(t[5],o),{c(){e=N("td"),r=N("a"),o.block.c(),S(r,"title",n=t[1]+": Open Well"),S(r,"href",s=t[6]+"?source="+(t[0]+"/"+t[1])+"/"),S(r,"class","svelte-bgaf62"),S(e,"class",kt(t[12].length===0?"valid":"invalid")+" svelte-bgaf62")},m(i,a){T(i,e,a),b(e,r),o.block.m(r,o.anchor=null),o.mount=()=>r,o.anchor=null},p(i,a){t=i,dt(o,t,a),a&2&&n!==(n=t[1]+": Open Well")&&S(r,"title",n),a&3&&s!==(s=t[6]+"?source="+(t[0]+"/"+t[1])+"/")&&S(r,"href",s)},d(i){i&&A(e),o.block.d(),o.token=null,o=null}}}function I_(t){let e;return{c(){e=N("span"),e.textContent="X",_e(e,"color","red")},m(r,n){T(r,e,n)},p:L,d(r){r&&A(e)}}}function R_(t){let e;function r(o,i){return o[13].length===0?M_:D_}let s=r(t)(t);return{c(){s.c(),e=Ae()},m(o,i){s.m(o,i),T(o,e,i)},p(o,i){s.p(o,i)},d(o){s.d(o),o&&A(e)}}}function D_(t){let e,r;return{c(){e=N("span"),r=z("X"),S(e,"title",t[13].join(", ")),_e(e,"color","red")},m(n,s){T(n,e,s),b(e,r)},p:L,d(n){n&&A(e)}}}function M_(t){let e;return{c(){e=z("\u2713")},m(r,n){T(r,e,n)},p:L,d(r){r&&A(e)}}}function F_(t){let e,r=t[3]=="all"&&z_(t);return{c(){r&&r.c(),e=Ae()},m(n,s){r&&r.m(n,s),T(n,e,s)},p(n,s){n[3]=="all"&&r.p(n,s)},d(n){r&&r.d(n),n&&A(e)}}}function z_(t){let e,r,n;return{c(){e=N("span"),r=z(t[2]),S(e,"title",n="Loading Well index: "+t[2]),_e(e,"color","rgba(0,0,0,0.2)")},m(s,o){T(s,e,o),b(e,r)},p(s,o){o&4&&Ee(r,s[2]),o&4&&n!==(n="Loading Well index: "+s[2])&&S(e,"title",n)},d(s){s&&A(e)}}}function L_(t){let e;return{c(){e=N("td"),e.textContent="...",S(e,"class","svelte-bgaf62")},m(r,n){T(r,e,n)},p:L,d(r){r&&A(e)}}}function U_(t){let e,r={ctx:t,current:null,token:null,hasCatch:!0,pending:L_,then:j_,catch:T_,value:12,error:14};return st(t[4],r),{c(){e=Ae(),r.block.c()},m(n,s){T(n,e,s),r.block.m(n,r.anchor=s),r.mount=()=>e.parentNode,r.anchor=e},p(n,[s]){t=n,dt(r,t,s)},i:L,o:L,d(n){n&&A(e),r.block.d(n),r.token=null,r=null}}}function V_(t,e,r){let{wellAttrs:n}=e,{source:s}=e,{path:o}=e,i=n;n=n.attributes?.ome||n;const a=rl("well");let l=parseInt(a),c=[0];isNaN(l)?a=="all"&&(c=Cn(n.well.images.length)):c=[l];let f=0;async function u(){let _=[];console.log("loadAndValidate wellAttrs",n);const m=n.well.images;for(let d=0;d<c.length;d++){let v=c[d];if(v>=m.length)return["Invalid Well index: "+v];r(2,f=v);let k=await Xr(s+"/"+o+"/"+m[v].path);_=_.concat(await Wr(k)),console.log("PlateWell imgAttrs errs",_)}return _}let h=Wr(i),p=u();const g=window.location.origin+window.location.pathname;return t.$$set=_=>{"wellAttrs"in _&&r(7,n=_.wellAttrs),"source"in _&&r(0,s=_.source),"path"in _&&r(1,o=_.path)},[s,o,f,a,h,p,g,n]}class B_ extends Ce{constructor(e){super(),Se(this,e,V_,U_,$e,{wellAttrs:7,source:0,path:1})}}function q_(t){let e,r=t[4].message+"",n;return{c(){e=N("td"),n=z(r),_e(e,"color","red"),S(e,"class","svelte-zadp2s")},m(s,o){T(s,e,o),b(e,n)},p:L,i:L,o:L,d(s){s&&A(e)}}}function K_(t){let e,r;return e=new B_({props:{wellAttrs:t[3],source:t[0],path:t[1]}}),{c(){ce(e.$$.fragment)},m(n,s){ie(e,n,s),r=!0},p(n,s){const o={};s&1&&(o.source=n[0]),s&2&&(o.path=n[1]),e.$set(o)},i(n){r||(B(e.$$.fragment,n),r=!0)},o(n){K(e.$$.fragment,n),r=!1},d(n){ae(e,n)}}}function W_(t){let e;return{c(){e=N("td"),e.textContent=".",S(e,"class","svelte-zadp2s")},m(r,n){T(r,e,n)},p:L,i:L,o:L,d(r){r&&A(e)}}}function G_(t){let e,r,n={ctx:t,current:null,token:null,hasCatch:!0,pending:W_,then:K_,catch:q_,value:3,error:4,blocks:[,,,]};return st(t[2],n),{c(){e=Ae(),n.block.c()},m(s,o){T(s,e,o),n.block.m(s,n.anchor=o),n.mount=()=>e.parentNode,n.anchor=e,r=!0},p(s,[o]){t=s,dt(n,t,o)},i(s){r||(B(n.block),r=!0)},o(s){for(let o=0;o<3;o+=1){const i=n.blocks[o];K(i)}r=!1},d(s){s&&A(e),n.block.d(s),n.token=null,n=null}}}function H_(t,e,r){let{source:n}=e,{path:s}=e;const o=Xr(n+"/"+s);return t.$$set=i=>{"source"in i&&r(0,n=i.source),"path"in i&&r(1,s=i.path)},[n,s,o]}class J_ extends Ce{constructor(e){super(),Se(this,e,H_,G_,$e,{source:0,path:1})}}function Li(t,e,r){const n=t.slice();return n[15]=e[r],n}function Ui(t,e,r){const n=t.slice();return n[18]=e[r],n}function Vi(t,e,r){const n=t.slice();return n[21]=e[r],n}function X_(t){let e,r=t[24].message+"",n;return{c(){e=N("p"),n=z(r),_e(e,"color","red")},m(s,o){T(s,e,o),b(e,n)},p:L,i:L,o:L,d(s){s&&A(e)}}}function Y_(t){let e,r,n=t[4].length+"",s,o,i,a,l,c,f,u,h,p,g,_=t[5],m=[];for(let E=0;E<_.length;E+=1)m[E]=Bi(Vi(t,_,E));let d=t[3].rows,v=[];for(let E=0;E<d.length;E+=1)v[E]=Ki(Li(t,d,E));const k=E=>K(v[E],1,1,()=>{v[E]=null});return{c(){e=N("p"),r=z("Validating "),s=z(n),o=z(` Wells and
      `),i=N("select");for(let E=0;E<m.length;E+=1)m[E].c();a=N("option"),l=z("ALL Images"),c=z(`
      in each Well.`),f=W(),u=N("table");for(let E=0;E<v.length;E+=1)v[E].c();a.__value="all",a.value=a.__value,a.selected=t[2]=="all",S(i,"class","svelte-16dnxz2"),S(u,"class","svelte-16dnxz2")},m(E,I){T(E,e,I),b(e,r),b(e,s),b(e,o),b(e,i);for(let w=0;w<m.length;w+=1)m[w].m(i,null);b(i,a),b(a,l),b(e,c),T(E,f,I),T(E,u,I);for(let w=0;w<v.length;w+=1)v[w].m(u,null);h=!0,p||(g=He(i,"change",t[7]),p=!0)},p(E,I){if(I&34){_=E[5];let w;for(w=0;w<_.length;w+=1){const O=Vi(E,_,w);m[w]?m[w].p(O,I):(m[w]=Bi(O),m[w].c(),m[w].m(i,a))}for(;w<m.length;w+=1)m[w].d(1);m.length=_.length}if(I&25){d=E[3].rows;let w;for(w=0;w<d.length;w+=1){const O=Li(E,d,w);v[w]?(v[w].p(O,I),B(v[w],1)):(v[w]=Ki(O),v[w].c(),B(v[w],1),v[w].m(u,null))}for(Pe(),w=d.length;w<v.length;w+=1)k(w);Oe()}},i(E){if(!h){for(let I=0;I<d.length;I+=1)B(v[I]);h=!0}},o(E){v=v.filter(Boolean);for(let I=0;I<v.length;I+=1)K(v[I]);h=!1},d(E){E&&A(e),Je(m,E),E&&A(f),E&&A(u),Je(v,E),p=!1,g()}}}function Bi(t){let e,r,n=t[21]+"",s,o,i,a;return{c(){e=N("option"),r=z("Image at index: "),s=z(n),o=W(),e.__value=i=t[21],e.value=e.__value,e.selected=a=t[1]==t[21]},m(l,c){T(l,e,c),b(e,r),b(e,s),b(e,o)},p(l,c){c&2&&a!==(a=l[1]==l[21])&&(e.selected=a)},d(l){l&&A(e)}}}function Z_(t){let e;return{c(){e=N("td"),S(e,"class","svelte-16dnxz2")},m(r,n){T(r,e,n)},p:L,i:L,o:L,d(r){r&&A(e)}}}function Q_(t){let e,r;return e=new J_({props:{path:`${t[15].name}/${t[18].name}`,source:t[0]}}),{c(){ce(e.$$.fragment)},m(n,s){ie(e,n,s),r=!0},p(n,s){const o={};s&1&&(o.source=n[0]),e.$set(o)},i(n){r||(B(e.$$.fragment,n),r=!0)},o(n){K(e.$$.fragment,n),r=!1},d(n){ae(e,n)}}}function qi(t){let e,r,n,s;const o=[Q_,Z_],i=[];function a(l,c){return l[4].indexOf(`${l[15].name}/${l[18].name}`)>-1?0:1}return e=a(t),r=i[e]=o[e](t),{c(){r.c(),n=Ae()},m(l,c){i[e].m(l,c),T(l,n,c),s=!0},p(l,c){r.p(l,c)},i(l){s||(B(r),s=!0)},o(l){K(r),s=!1},d(l){i[e].d(l),l&&A(n)}}}function Ki(t){let e,r,n,s=t[3].columns,o=[];for(let a=0;a<s.length;a+=1)o[a]=qi(Ui(t,s,a));const i=a=>K(o[a],1,1,()=>{o[a]=null});return{c(){e=N("tr");for(let a=0;a<o.length;a+=1)o[a].c();r=W()},m(a,l){T(a,e,l);for(let c=0;c<o.length;c+=1)o[c].m(e,null);b(e,r),n=!0},p(a,l){if(l&25){s=a[3].columns;let c;for(c=0;c<s.length;c+=1){const f=Ui(a,s,c);o[c]?(o[c].p(f,l),B(o[c],1)):(o[c]=qi(f),o[c].c(),B(o[c],1),o[c].m(e,r))}for(Pe(),c=s.length;c<o.length;c+=1)i(c);Oe()}},i(a){if(!n){for(let l=0;l<s.length;l+=1)B(o[l]);n=!0}},o(a){o=o.filter(Boolean);for(let l=0;l<o.length;l+=1)K(o[l]);n=!1},d(a){a&&A(e),Je(o,a)}}}function x_(t){let e;return{c(){e=N("div"),e.textContent="loading schemas..."},m(r,n){T(r,e,n)},p:L,i:L,o:L,d(r){r&&A(e)}}}function eg(t){let e,r,n={ctx:t,current:null,token:null,hasCatch:!0,pending:x_,then:Y_,catch:X_,value:14,error:24,blocks:[,,,]};return st(t[6],n),{c(){e=N("article"),n.block.c()},m(s,o){T(s,e,o),n.block.m(e,n.anchor=null),n.mount=()=>e,n.anchor=null,r=!0},p(s,[o]){t=s,dt(n,t,o)},i(s){r||(B(n.block),r=!0)},o(s){for(let o=0;o<3;o+=1){const i=n.blocks[o];K(i)}r=!1},d(s){s&&A(e),n.block.d(),n.token=null,n=null}}}function tg(t,e,r){let{source:n}=e,{rootAttrs:s}=e;const o=rl("well");let i=parseInt(o),a=0;isNaN(i)||(a=i);const l=new URLSearchParams(window.location.search);function c(d){return l.set("well",""+d),window.location.origin+window.location.pathname+"?"+l}let f=s.plate,u=f.wells.map(d=>d.path);const h=lr(s)||sr,p=f.field_count||a+1,g=Cn(p);let _=Promise.all([Kr(qr("well",h)),Kr(qr("image",h))]);function m(d){window.location.href=c(d.target.value)}return t.$$set=d=>{"source"in d&&r(0,n=d.source),"rootAttrs"in d&&r(8,s=d.rootAttrs)},[n,a,o,f,u,g,_,m,s]}class rg extends Ce{constructor(e){super(),Se(this,e,tg,eg,$e,{source:0,rootAttrs:8})}}function Wi(t,e,r){const n=t.slice();return n[7]=e[r],n}function ng(t){let e,r=t[10].message+"",n;return{c(){e=N("p"),n=z(r),_e(e,"color","red")},m(s,o){T(s,e,o),b(e,n)},p:L,i:L,o:L,d(s){s&&A(e)}}}function sg(t){let e,r,n=t[1],s=[];for(let i=0;i<n.length;i+=1)s[i]=Gi(Wi(t,n,i));const o=i=>K(s[i],1,1,()=>{s[i]=null});return{c(){e=N("ul");for(let i=0;i<s.length;i+=1)s[i].c();S(e,"class","svelte-6aehlv")},m(i,a){T(i,e,a);for(let l=0;l<s.length;l+=1)s[l].m(e,null);r=!0},p(i,a){if(a&3){n=i[1];let l;for(l=0;l<n.length;l+=1){const c=Wi(i,n,l);s[l]?(s[l].p(c,a),B(s[l],1)):(s[l]=Gi(c),s[l].c(),B(s[l],1),s[l].m(e,null))}for(Pe(),l=n.length;l<s.length;l+=1)o(l);Oe()}},i(i){if(!r){for(let a=0;a<n.length;a+=1)B(s[a]);r=!0}},o(i){s=s.filter(Boolean);for(let a=0;a<s.length;a+=1)K(s[a]);r=!1},d(i){i&&A(e),Je(s,i)}}}function Gi(t){let e,r,n;return r=new sl({props:{source:t[0],path:t[7]}}),{c(){e=N("li"),ce(r.$$.fragment),S(e,"class","svelte-6aehlv")},m(s,o){T(s,e,o),ie(r,e,null),n=!0},p(s,o){const i={};o&1&&(i.source=s[0]),r.$set(i)},i(s){n||(B(r.$$.fragment,s),n=!0)},o(s){K(r.$$.fragment,s),n=!1},d(s){s&&A(e),ae(r)}}}function og(t){let e;return{c(){e=N("div"),e.textContent="loading schema..."},m(r,n){T(r,e,n)},p:L,i:L,o:L,d(r){r&&A(e)}}}function ig(t){let e,r,n,s={ctx:t,current:null,token:null,hasCatch:!0,pending:og,then:sg,catch:ng,value:6,error:10,blocks:[,,,]};return st(t[2],s),{c(){e=N("article"),r=z(`Images:
  `),s.block.c()},m(o,i){T(o,e,i),b(e,r),s.block.m(e,s.anchor=null),s.mount=()=>e,s.anchor=null,n=!0},p(o,[i]){t=o,dt(s,t,i)},i(o){n||(B(s.block),n=!0)},o(o){for(let i=0;i<3;i+=1){const a=s.blocks[i];K(a)}n=!1},d(o){o&&A(e),s.block.d(),s.token=null,s=null}}}function ag(t,e,r){let{source:n}=e,{rootAttrs:s}=e,i=s.well.images.map(c=>c.path);const a=lr(s)||sr;let l=Kr(qr("image",a));return t.$$set=c=>{"source"in c&&r(0,n=c.source),"rootAttrs"in c&&r(3,s=c.rootAttrs)},[n,i,l,s]}class lg extends Ce{constructor(e){super(),Se(this,e,ag,ig,$e,{source:0,rootAttrs:3})}}function Hi(t,e,r){const n=t.slice();return n[5]=e[r],n}function cg(t){let e,r,n,s;return{c(){e=N("div"),r=z("labels/"),n=z(t[2]),s=z(" has no 'labels' list"),_e(e,"color","red"),S(e,"class","svelte-1l767ay")},m(o,i){T(o,e,i),b(e,r),b(e,n),b(e,s)},p(o,i){i&4&&Ee(n,o[2])},d(o){o&&A(e)}}}function ug(t){let e,r=t[3],n=[];for(let s=0;s<r.length;s+=1)n[s]=Ji(Hi(t,r,s));return{c(){e=N("ul");for(let s=0;s<n.length;s+=1)n[s].c();S(e,"class","svelte-1l767ay")},m(s,o){T(s,e,o);for(let i=0;i<n.length;i+=1)n[i].m(e,null)},p(s,o){if(o&25){r=s[3];let i;for(i=0;i<r.length;i+=1){const a=Hi(s,r,i);n[i]?n[i].p(a,o):(n[i]=Ji(a),n[i].c(),n[i].m(e,null))}for(;i<n.length;i+=1)n[i].d(1);n.length=r.length}},d(s){s&&A(e),Je(n,s)}}}function Ji(t){let e,r,n,s=t[5]+"",o,i;return{c(){e=N("li"),r=N("a"),n=z("labels/"),o=z(s),S(r,"title","Open Labels"),S(r,"href",i=t[4]+"?source="+t[0]+"/labels/"+t[5]+"/"),S(r,"class","svelte-1l767ay")},m(a,l){T(a,e,l),b(e,r),b(r,n),b(r,o)},p(a,l){l&8&&s!==(s=a[5]+"")&&Ee(o,s),l&9&&i!==(i=a[4]+"?source="+a[0]+"/labels/"+a[5]+"/")&&S(r,"href",i)},d(a){a&&A(e)}}}function fg(t){let e,r,n,s,o,i,a,l,c,f,u=JSON.stringify(t[1],null,2)+"",h;function p(m,d){return m[3]?ug:cg}let g=p(t),_=g(t);return{c(){e=N("div"),r=z(`Labels:
  
    `),_.c(),n=W(),s=N("details"),o=N("summary"),i=z("labels/"),a=z(t[2]),l=W(),c=N("pre"),f=N("code"),h=z(u),S(c,"class","svelte-1l767ay"),S(e,"class","labels svelte-1l767ay")},m(m,d){T(m,e,d),b(e,r),_.m(e,null),b(e,n),b(e,s),b(s,o),b(o,i),b(o,a),b(s,l),b(s,c),b(c,f),b(f,h)},p(m,[d]){g===(g=p(m))&&_?_.p(m,d):(_.d(1),_=g(m),_&&(_.c(),_.m(e,n))),d&4&&Ee(a,m[2]),d&2&&u!==(u=JSON.stringify(m[1],null,2)+"")&&Ee(h,u)},i:L,o:L,d(m){m&&A(e),_.d()}}}function dg(t,e,r){let{source:n}=e,{labelsAttrs:s}=e,{zarrAttrsFileName:o}=e;console.log("labelsAttrs:",s);const i=window.location.origin+window.location.pathname;let a;return s.labels?a=s.labels:s?.attributes?.ome?.labels&&(a=s.attributes.ome.labels),t.$$set=l=>{"source"in l&&r(0,n=l.source),"labelsAttrs"in l&&r(1,s=l.labelsAttrs),"zarrAttrsFileName"in l&&r(2,o=l.zarrAttrsFileName)},[n,s,o,a,i]}class hg extends Ce{constructor(e){super(),Se(this,e,dg,fg,$e,{source:0,labelsAttrs:1,zarrAttrsFileName:2})}}function Xi(t,e,r){const n=t.slice();return n[13]=e[r],n}function Yi(t,e,r){const n=t.slice();return n[17]=e[r],n[19]=r,n}function Zi(t){let e=t[19]>0?" and ":"",r,n,s,o=t[17].split("ngff")[1]+"",i,a;return{c(){r=z(e),n=W(),s=N("a"),i=z(o),S(s,"href",a=t[17]),S(s,"target","_blank"),S(s,"class","svelte-2r4esh")},m(l,c){T(l,r,c),T(l,n,c),T(l,s,c),b(s,i)},p:L,d(l){l&&A(r),l&&A(n),l&&A(s)}}}function mg(t){let e,r,n,s=t[13].message+"",o,i;return e=new zn({props:{valid:!1}}),{c(){ce(e.$$.fragment),r=W(),n=N("p"),o=z(s),_e(n,"color","red")},m(a,l){ie(e,a,l),T(a,r,l),T(a,n,l),b(n,o),i=!0},p:L,i(a){i||(B(e.$$.fragment,a),i=!0)},o(a){K(e.$$.fragment,a),i=!1},d(a){ae(e,a),a&&A(r),a&&A(n)}}}function pg(t){let e,r,n,s;e=new zn({props:{valid:t[14].length==0}});let o=t[14].length>0&&_g(t);return{c(){ce(e.$$.fragment),r=W(),o&&o.c(),n=Ae()},m(i,a){ie(e,i,a),T(i,r,a),o&&o.m(i,a),T(i,n,a),s=!0},p(i,a){i[14].length>0&&o.p(i,a)},i(i){s||(B(e.$$.fragment,i),s=!0)},o(i){K(e.$$.fragment,i),s=!1},d(i){ae(e,i),i&&A(r),o&&o.d(i),i&&A(n)}}}function _g(t){let e,r,n=t[14],s=[];for(let o=0;o<n.length;o+=1)s[o]=Qi(Xi(t,n,o));return{c(){e=N("div"),r=z(`Errors:
        `);for(let o=0;o<s.length;o+=1)s[o].c();S(e,"class","error svelte-2r4esh")},m(o,i){T(o,e,i),b(e,r);for(let a=0;a<s.length;a+=1)s[a].m(e,null)},p(o,i){if(i&128){n=o[14];let a;for(a=0;a<n.length;a+=1){const l=Xi(o,n,a);s[a]?s[a].p(l,i):(s[a]=Qi(l),s[a].c(),s[a].m(e,null))}for(;a<s.length;a+=1)s[a].d(1);s.length=n.length}},d(o){o&&A(e),Je(s,o)}}}function Qi(t){let e,r,n=JSON.stringify(t[13],null,2)+"",s;return{c(){e=N("pre"),r=N("code"),s=z(n),S(e,"class","svelte-2r4esh")},m(o,i){T(o,e,i),b(e,r),b(r,s)},p:L,d(o){o&&A(e)}}}function gg(t){let e;return{c(){e=N("div"),e.textContent="loading schema..."},m(r,n){T(r,e,n)},p:L,i:L,o:L,d(r){r&&A(e)}}}function xi(t){let e,r;return e=new il({props:{source:t[0]}}),{c(){ce(e.$$.fragment)},m(n,s){ie(e,n,s),r=!0},p(n,s){const o={};s&1&&(o.source=n[0]),e.$set(o)},i(n){r||(B(e.$$.fragment,n),r=!0)},o(n){K(e.$$.fragment,n),r=!1},d(n){ae(e,n)}}}function vg(t){return{c:L,m:L,p:L,i:L,o:L,d:L}}function yg(t){let e,r;return e=new hg({props:{labelsAttrs:t[12],source:t[0],zarrAttrsFileName:t[9]}}),{c(){ce(e.$$.fragment)},m(n,s){ie(e,n,s),r=!0},p(n,s){const o={};s&1&&(o.source=n[0]),e.$set(o)},i(n){r||(B(e.$$.fragment,n),r=!0)},o(n){K(e.$$.fragment,n),r=!1},d(n){ae(e,n)}}}function bg(t){let e;return{c(){e=N("p"),e.textContent="checking for labels..."},m(r,n){T(r,e,n)},p:L,i:L,o:L,d(r){r&&A(e)}}}function wg(t){let e,r;return e=new lg({props:{source:t[0],rootAttrs:t[4]}}),{c(){ce(e.$$.fragment)},m(n,s){ie(e,n,s),r=!0},p(n,s){const o={};s&1&&(o.source=n[0]),e.$set(o)},i(n){r||(B(e.$$.fragment,n),r=!0)},o(n){K(e.$$.fragment,n),r=!1},d(n){ae(e,n)}}}function $g(t){let e,r;return e=new rg({props:{source:t[0],rootAttrs:t[4]}}),{c(){ce(e.$$.fragment)},m(n,s){ie(e,n,s),r=!0},p(n,s){const o={};s&1&&(o.source=n[0]),e.$set(o)},i(n){r||(B(e.$$.fragment,n),r=!0)},o(n){K(e.$$.fragment,n),r=!1},d(n){ae(e,n)}}}function kg(t){let e,r;return e=new A_({props:{source:t[0],rootAttrs:t[4]}}),{c(){ce(e.$$.fragment)},m(n,s){ie(e,n,s),r=!0},p(n,s){const o={};s&1&&(o.source=n[0]),e.$set(o)},i(n){r||(B(e.$$.fragment,n),r=!0)},o(n){K(e.$$.fragment,n),r=!1},d(n){ae(e,n)}}}function Eg(t){let e,r,n,s,o,i,a,l,c,f,u,h,p=t[6].length>1?"s":"",g,_,m,d,v,k,E,I,w,O=!["0.1","0.2","0.3","0.4"].includes(t[3]),q,Y,x,fe,te,ye,me=t[6],ke=[];for(let V=0;V<me.length;V+=1)ke[V]=Zi(Yi(t,me,V));let Ne={ctx:t,current:null,token:null,hasCatch:!0,pending:gg,then:pg,catch:mg,value:14,error:13,blocks:[,,,]};st(t[7],Ne),v=new al({props:{source:t[0],dtype:t[5],version:t[3]}}),I=new Dn({props:{name:"",version:t[3]||sr,contents:t[1],expanded:!0}});let we=O&&xi(t),ne={ctx:t,current:null,token:null,hasCatch:!0,pending:bg,then:yg,catch:vg,value:12,error:13,blocks:[,,,]};st(t[10],ne);const qe=[kg,$g,wg],H=[];function D(V,R){return V[4].multiscales?0:V[4].plate?1:V[4].well?2:-1}return~(x=D(t))&&(fe=H[x]=qe[x](t)),{c(){e=N("article"),r=N("p"),n=z("Validating: "),s=N("a"),o=z("/"),i=z(t[8]),a=z("/"),l=z(t[9]),f=W(),u=z(t[2]),h=z(`

  Using schema`),g=z(p),_=z(`: 
  `);for(let V=0;V<ke.length;V+=1)ke[V].c();m=W(),Ne.block.c(),d=W(),ce(v.$$.fragment),k=W(),E=N("div"),ce(I.$$.fragment),w=W(),we&&we.c(),q=W(),ne.block.c(),Y=W(),fe&&fe.c(),te=Ae(),S(s,"href",c=t[0]+"/"+t[9]),S(s,"class","svelte-2r4esh"),S(E,"class","json svelte-2r4esh")},m(V,R){T(V,e,R),b(e,r),b(r,n),b(r,s),b(s,o),b(s,i),b(s,a),b(s,l),b(e,f),b(e,u),b(e,h),b(e,g),b(e,_);for(let y=0;y<ke.length;y+=1)ke[y].m(e,null);b(e,m),Ne.block.m(e,Ne.anchor=null),Ne.mount=()=>e,Ne.anchor=d,b(e,d),ie(v,e,null),b(e,k),b(e,E),ie(I,E,null),b(e,w),we&&we.m(e,null),b(e,q),ne.block.m(e,ne.anchor=null),ne.mount=()=>e,ne.anchor=null,T(V,Y,R),~x&&H[x].m(V,R),T(V,te,R),ye=!0},p(V,[R]){if(t=V,(!ye||R&1&&c!==(c=t[0]+"/"+t[9]))&&S(s,"href",c),(!ye||R&4)&&Ee(u,t[2]),R&64){me=t[6];let M;for(M=0;M<me.length;M+=1){const J=Yi(t,me,M);ke[M]?ke[M].p(J,R):(ke[M]=Zi(J),ke[M].c(),ke[M].m(e,m))}for(;M<ke.length;M+=1)ke[M].d(1);ke.length=me.length}dt(Ne,t,R);const y={};R&1&&(y.source=t[0]),R&8&&(y.version=t[3]),v.$set(y);const C={};R&8&&(C.version=t[3]||sr),R&2&&(C.contents=t[1]),I.$set(C),R&8&&(O=!["0.1","0.2","0.3","0.4"].includes(t[3])),O?we?(we.p(t,R),R&8&&B(we,1)):(we=xi(t),we.c(),B(we,1),we.m(e,q)):we&&(Pe(),K(we,1,1,()=>{we=null}),Oe()),dt(ne,t,R),fe&&fe.p(t,R)},i(V){ye||(B(Ne.block),B(v.$$.fragment,V),B(I.$$.fragment,V),B(we),B(ne.block),B(fe),ye=!0)},o(V){for(let R=0;R<3;R+=1){const y=Ne.blocks[R];K(y)}K(v.$$.fragment,V),K(I.$$.fragment,V),K(we);for(let R=0;R<3;R+=1){const y=ne.blocks[R];K(y)}K(fe),ye=!1},d(V){V&&A(e),Je(ke,V),Ne.block.d(),Ne.token=null,Ne=null,ae(v),ae(I),we&&we.d(),ne.block.d(),ne.token=null,ne=null,V&&A(Y),~x&&H[x].d(V),V&&A(te)}}}function Sg(t,e,r){let{source:n}=e,{rootAttrs:s}=e,o="",i=null;s?.attributes?.ome?s.attributes.ome.version?(i=s.attributes.ome.version,o=`Using version ${i}.`):o="Missing 'version' field under attributes.ome.":(i=lr(s),i?o=`Using version ${i}.`:(o="No version found. Using version 0.4.",i="0.4"));const a=s?.attributes?.ome||s,l=Qa(a),c=el(a);console.log("index.svelte schemaUrls",c);const f=Wr(s),u=n.split("/").filter(Boolean),h=u[u.length-1],p=Ya(i),g=Lt(n+"/labels/"+p);return t.$$set=_=>{"source"in _&&r(0,n=_.source),"rootAttrs"in _&&r(1,s=_.rootAttrs)},[n,s,o,i,a,l,c,f,h,p,g]}class Cg extends Ce{constructor(e){super(),Se(this,e,Sg,Eg,$e,{source:0,rootAttrs:1})}}function Ng(t){let e,r,n,s;return{c(){e=N("h1"),r=z(t[1]),n=z(": "),s=z(t[0]),S(e,"class","svelte-v2a59y")},m(o,i){T(o,e,i),b(e,r),b(e,n),b(e,s)},p(o,[i]){i&1&&Ee(s,o[0])},i:L,o:L,d(o){o&&A(e)}}}function Pg(t,e,r){let{zattrs:n}=e,{source:s}=e;const o=s.split("/").filter(Boolean);let i=o[o.length-1],a=Qa(n);return"well"in n&&(i=o[o.length-2]+"/"+o[o.length-1]),t.$$set=l=>{"zattrs"in l&&r(2,n=l.zattrs),"source"in l&&r(3,s=l.source)},[i,a,n,s]}class Og extends Ce{constructor(e){super(),Se(this,e,Pg,Ng,$e,{zattrs:2,source:3})}}const{window:Ag}=ma;function ea(t){let e,r,n,s,o,i,a,l,c,f,u,h,p,g,_,m,d,v=t[1].closeButton&&ta(t);var k=t[2];function E(I){return{}}return k&&(i=new k(E())),{c(){e=N("div"),r=N("div"),n=N("div"),v&&v.c(),s=W(),o=N("div"),i&&ce(i.$$.fragment),S(o,"class",a=kt(t[1].classContent)+" svelte-g4wg3a"),S(o,"style",t[9]),gt(o,"content",!t[0]),S(n,"class",l=kt(t[1].classWindow)+" svelte-g4wg3a"),S(n,"role","dialog"),S(n,"aria-modal","true"),S(n,"aria-label",c=t[1].ariaLabelledBy?null:t[1].ariaLabel||null),S(n,"aria-labelledby",f=t[1].ariaLabelledBy||null),S(n,"style",t[8]),gt(n,"window",!t[0]),S(r,"class",h=kt(t[1].classWindowWrap)+" svelte-g4wg3a"),S(r,"style",t[7]),gt(r,"wrap",!t[0]),S(e,"class",p=kt(t[1].classBg)+" svelte-g4wg3a"),S(e,"style",t[6]),gt(e,"bg",!t[0])},m(I,w){T(I,e,w),b(e,r),b(r,n),v&&v.m(n,null),b(n,s),b(n,o),i&&ie(i,o,null),t[49](n),t[50](r),t[51](e),_=!0,m||(d=[He(n,"introstart",function(){pr(t[13])&&t[13].apply(this,arguments)}),He(n,"outrostart",function(){pr(t[14])&&t[14].apply(this,arguments)}),He(n,"introend",function(){pr(t[15])&&t[15].apply(this,arguments)}),He(n,"outroend",function(){pr(t[16])&&t[16].apply(this,arguments)}),He(e,"mousedown",t[20]),He(e,"mouseup",t[21])],m=!0)},p(I,w){if(t=I,t[1].closeButton?v?(v.p(t,w),w[0]&2&&B(v,1)):(v=ta(t),v.c(),B(v,1),v.m(n,s)):v&&(Pe(),K(v,1,1,()=>{v=null}),Oe()),k!==(k=t[2])){if(i){Pe();const O=i;K(O.$$.fragment,1,0,()=>{ae(O,1)}),Oe()}k?(i=new k(E()),ce(i.$$.fragment),B(i.$$.fragment,1),ie(i,o,null)):i=null}(!_||w[0]&2&&a!==(a=kt(t[1].classContent)+" svelte-g4wg3a"))&&S(o,"class",a),(!_||w[0]&512)&&S(o,"style",t[9]),w[0]&3&&gt(o,"content",!t[0]),(!_||w[0]&2&&l!==(l=kt(t[1].classWindow)+" svelte-g4wg3a"))&&S(n,"class",l),(!_||w[0]&2&&c!==(c=t[1].ariaLabelledBy?null:t[1].ariaLabel||null))&&S(n,"aria-label",c),(!_||w[0]&2&&f!==(f=t[1].ariaLabelledBy||null))&&S(n,"aria-labelledby",f),(!_||w[0]&256)&&S(n,"style",t[8]),w[0]&3&&gt(n,"window",!t[0]),(!_||w[0]&2&&h!==(h=kt(t[1].classWindowWrap)+" svelte-g4wg3a"))&&S(r,"class",h),(!_||w[0]&128)&&S(r,"style",t[7]),w[0]&3&&gt(r,"wrap",!t[0]),(!_||w[0]&2&&p!==(p=kt(t[1].classBg)+" svelte-g4wg3a"))&&S(e,"class",p),(!_||w[0]&64)&&S(e,"style",t[6]),w[0]&3&&gt(e,"bg",!t[0])},i(I){_||(B(v),i&&B(i.$$.fragment,I),Jt(()=>{u||(u=_r(n,t[12],t[1].transitionWindowProps,!0)),u.run(1)}),Jt(()=>{g||(g=_r(e,t[11],t[1].transitionBgProps,!0)),g.run(1)}),_=!0)},o(I){K(v),i&&K(i.$$.fragment,I),u||(u=_r(n,t[12],t[1].transitionWindowProps,!1)),u.run(0),g||(g=_r(e,t[11],t[1].transitionBgProps,!1)),g.run(0),_=!1},d(I){I&&A(e),v&&v.d(),i&&ae(i),t[49](null),I&&u&&u.end(),t[50](null),t[51](null),I&&g&&g.end(),m=!1,Ut(d)}}}function ta(t){let e,r,n,s,o;const i=[jg,Tg],a=[];function l(c,f){return f[0]&2&&(e=null),e==null&&(e=!!c[17](c[1].closeButton)),e?0:1}return r=l(t,[-1,-1,-1]),n=a[r]=i[r](t),{c(){n.c(),s=Ae()},m(c,f){a[r].m(c,f),T(c,s,f),o=!0},p(c,f){let u=r;r=l(c,f),r===u?a[r].p(c,f):(Pe(),K(a[u],1,1,()=>{a[u]=null}),Oe(),n=a[r],n?n.p(c,f):(n=a[r]=i[r](c),n.c()),B(n,1),n.m(s.parentNode,s))},i(c){o||(B(n),o=!0)},o(c){K(n),o=!1},d(c){a[r].d(c),c&&A(s)}}}function Tg(t){let e,r,n,s;return{c(){e=N("button"),S(e,"class",r=kt(t[1].classCloseButton)+" svelte-g4wg3a"),S(e,"aria-label","Close modal"),S(e,"style",t[10]),S(e,"type","button"),gt(e,"close",!t[0])},m(o,i){T(o,e,i),n||(s=He(e,"click",t[18]),n=!0)},p(o,i){i[0]&2&&r!==(r=kt(o[1].classCloseButton)+" svelte-g4wg3a")&&S(e,"class",r),i[0]&1024&&S(e,"style",o[10]),i[0]&3&&gt(e,"close",!o[0])},i:L,o:L,d(o){o&&A(e),n=!1,s()}}}function jg(t){let e,r,n;var s=t[1].closeButton;function o(i){return{props:{onClose:i[18]}}}return s&&(e=new s(o(t))),{c(){e&&ce(e.$$.fragment),r=Ae()},m(i,a){e&&ie(e,i,a),T(i,r,a),n=!0},p(i,a){if(s!==(s=i[1].closeButton)){if(e){Pe();const l=e;K(l.$$.fragment,1,0,()=>{ae(l,1)}),Oe()}s?(e=new s(o(i)),ce(e.$$.fragment),B(e.$$.fragment,1),ie(e,r.parentNode,r)):e=null}},i(i){n||(e&&B(e.$$.fragment,i),n=!0)},o(i){e&&K(e.$$.fragment,i),n=!1},d(i){i&&A(r),e&&ae(e,i)}}}function Ig(t){let e,r,n,s,o=t[2]&&ea(t);const i=t[48].default,a=Nl(i,t,t[47],null);return{c(){o&&o.c(),e=W(),a&&a.c()},m(l,c){o&&o.m(l,c),T(l,e,c),a&&a.m(l,c),r=!0,n||(s=He(Ag,"keydown",t[19]),n=!0)},p(l,c){l[2]?o?(o.p(l,c),c[0]&4&&B(o,1)):(o=ea(l),o.c(),B(o,1),o.m(e.parentNode,e)):o&&(Pe(),K(o,1,1,()=>{o=null}),Oe()),a&&a.p&&(!r||c[1]&65536)&&Ol(a,i,l,l[47],r?Pl(i,l[47],c,null):Al(l[47]),null)},i(l){r||(B(o),B(a,l),r=!0)},o(l){K(o),K(a,l),r=!1},d(l){o&&o.d(l),l&&A(e),a&&a.d(l),n=!1,s()}}}function Rg(t,e={}){return function(n){return new t({...n,props:{...e,...n.props}})}}function Dg(t,e,r){let{$$slots:n={},$$scope:s}=e;const o=ha(),i=Wl,a=G=>G.tabIndex>=0&&!G.hidden&&!G.disabled&&G.style.display!=="none"&&G.type!=="hidden"&&Boolean(G.offsetWidth||G.offsetHeight||G.getClientRects().length);let{isTabbable:l=a}=e,{show:c=null}=e,{key:f="simple-modal"}=e,{ariaLabel:u=null}=e,{ariaLabelledBy:h=null}=e,{closeButton:p=!0}=e,{closeOnEsc:g=!0}=e,{closeOnOuterClick:_=!0}=e,{styleBg:m={}}=e,{styleWindowWrap:d={}}=e,{styleWindow:v={}}=e,{styleContent:k={}}=e,{styleCloseButton:E={}}=e,{classBg:I=null}=e,{classWindowWrap:w=null}=e,{classWindow:O=null}=e,{classContent:q=null}=e,{classCloseButton:Y=null}=e,{unstyled:x=!1}=e,{setContext:fe=i}=e,{transitionBg:te=uh}=e,{transitionBgProps:ye={duration:250}}=e,{transitionWindow:me=te}=e,{transitionWindowProps:ke=ye}=e,{disableFocusTrap:Ne=!1}=e;const we={ariaLabel:u,ariaLabelledBy:h,closeButton:p,closeOnEsc:g,closeOnOuterClick:_,styleBg:m,styleWindowWrap:d,styleWindow:v,styleContent:k,styleCloseButton:E,classBg:I,classWindowWrap:w,classWindow:O,classContent:q,classCloseButton:Y,transitionBg:te,transitionBgProps:ye,transitionWindow:me,transitionWindowProps:ke,disableFocusTrap:Ne,isTabbable:l,unstyled:x};let ne={...we},qe=null,H,D,V,R,y,C,M,J,X,le,ue,ge,Xe,pt,ht;const It=G=>G.replace(/([a-zA-Z])(?=[A-Z])/g,"$1-").toLowerCase(),Fe=G=>G?Object.keys(G).reduce((Bt,We)=>`${Bt}; ${It(We)}: ${G[We]}`,""):"",yt=G=>!!(G&&G.constructor&&G.call&&G.apply),mt=()=>{r(6,y=Fe(Object.assign({},{width:window.innerWidth,height:window.innerHeight},ne.styleBg))),r(7,C=Fe(ne.styleWindowWrap)),r(8,M=Fe(ne.styleWindow)),r(9,J=Fe(ne.styleContent)),r(10,X=Fe(ne.styleCloseButton)),r(11,le=ne.transitionBg),r(12,ue=ne.transitionWindow)},ot=()=>{};let Ye=ot,lt=ot,Ke=ot,Me=ot;const Ze=(G,Bt={},We={},rt={})=>{r(2,qe=Rg(G,Bt)),r(1,ne={...we,...We}),mt(),ze(),r(13,Ye=bt=>{rt.onOpen&&rt.onOpen(bt),o("open"),o("opening")}),r(14,lt=bt=>{rt.onClose&&rt.onClose(bt),o("close"),o("closing")}),r(15,Ke=bt=>{rt.onOpened&&rt.onOpened(bt),o("opened")}),r(16,Me=bt=>{rt.onClosed&&rt.onClosed(bt),o("closed")})},Qe=(G={})=>{!qe||(r(14,lt=G.onClose||lt),r(16,Me=G.onClosed||Me),r(2,qe=null),se())},tt=G=>{if(ne.closeOnEsc&&qe&&G.key==="Escape"&&(G.preventDefault(),Qe()),qe&&G.key==="Tab"&&!ne.disableFocusTrap){const Bt=V.querySelectorAll("*"),We=Array.from(Bt).filter(ne.isTabbable).sort((bt,Ln)=>bt.tabIndex-Ln.tabIndex);let rt=We.indexOf(document.activeElement);rt===-1&&G.shiftKey&&(rt=0),rt+=We.length+(G.shiftKey?-1:1),rt%=We.length,We[rt].focus(),G.preventDefault()}},it=G=>{ne.closeOnOuterClick&&(G.target===H||G.target===D)&&(ht=G.target)},ct=G=>{ne.closeOnOuterClick&&G.target===ht&&(G.preventDefault(),Qe())},ze=()=>{R=window.scrollY,ge=document.body.style.position,Xe=document.body.style.overflow,pt=document.body.style.width,document.body.style.position="fixed",document.body.style.top=`-${R}px`,document.body.style.overflow="hidden",document.body.style.width="100%"},se=()=>{document.body.style.position=ge||"",document.body.style.top="",document.body.style.overflow=Xe||"",document.body.style.width=pt||"",window.scrollTo(0,R)};fe(f,{open:Ze,close:Qe});let Le=!1;Kl(()=>{Le&&Qe()}),da(()=>{r(46,Le=!0)});function Vt(G){yr[G?"unshift":"push"](()=>{V=G,r(5,V)})}function Ct(G){yr[G?"unshift":"push"](()=>{D=G,r(4,D)})}function xr(G){yr[G?"unshift":"push"](()=>{H=G,r(3,H)})}return t.$$set=G=>{"isTabbable"in G&&r(22,l=G.isTabbable),"show"in G&&r(23,c=G.show),"key"in G&&r(24,f=G.key),"ariaLabel"in G&&r(25,u=G.ariaLabel),"ariaLabelledBy"in G&&r(26,h=G.ariaLabelledBy),"closeButton"in G&&r(27,p=G.closeButton),"closeOnEsc"in G&&r(28,g=G.closeOnEsc),"closeOnOuterClick"in G&&r(29,_=G.closeOnOuterClick),"styleBg"in G&&r(30,m=G.styleBg),"styleWindowWrap"in G&&r(31,d=G.styleWindowWrap),"styleWindow"in G&&r(32,v=G.styleWindow),"styleContent"in G&&r(33,k=G.styleContent),"styleCloseButton"in G&&r(34,E=G.styleCloseButton),"classBg"in G&&r(35,I=G.classBg),"classWindowWrap"in G&&r(36,w=G.classWindowWrap),"classWindow"in G&&r(37,O=G.classWindow),"classContent"in G&&r(38,q=G.classContent),"classCloseButton"in G&&r(39,Y=G.classCloseButton),"unstyled"in G&&r(0,x=G.unstyled),"setContext"in G&&r(40,fe=G.setContext),"transitionBg"in G&&r(41,te=G.transitionBg),"transitionBgProps"in G&&r(42,ye=G.transitionBgProps),"transitionWindow"in G&&r(43,me=G.transitionWindow),"transitionWindowProps"in G&&r(44,ke=G.transitionWindowProps),"disableFocusTrap"in G&&r(45,Ne=G.disableFocusTrap),"$$scope"in G&&r(47,s=G.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&8388608|t.$$.dirty[1]&32768&&Le&&(yt(c)?Ze(c):Qe())},[x,ne,qe,H,D,V,y,C,M,J,X,le,ue,Ye,lt,Ke,Me,yt,Qe,tt,it,ct,l,c,f,u,h,p,g,_,m,d,v,k,E,I,w,O,q,Y,fe,te,ye,me,ke,Ne,Le,s,n,Vt,Ct,xr]}class Mg extends Ce{constructor(e){super(),Se(this,e,Dg,Ig,$e,{isTabbable:22,show:23,key:24,ariaLabel:25,ariaLabelledBy:26,closeButton:27,closeOnEsc:28,closeOnOuterClick:29,styleBg:30,styleWindowWrap:31,styleWindow:32,styleContent:33,styleCloseButton:34,classBg:35,classWindowWrap:36,classWindow:37,classContent:38,classCloseButton:39,unstyled:0,setContext:40,transitionBg:41,transitionBgProps:42,transitionWindow:43,transitionWindowProps:44,disableFocusTrap:45},null,[-1,-1,-1])}}function Fg(t){let e,r,n,s,o,i,a,l,c,f,u,h,p,g,_,m,d,v;return{c(){e=N("article"),r=N("p"),r.textContent="To validate an OME-NGFF file, use ?source=URL to open a sample. For example:",n=W(),s=N("ul"),o=N("li"),i=z(`A single image:
      `),a=N("a"),l=z("?source=https://uk1s3.embassy.ebi.ac.uk/idr/zarr/v0.4/idr0062A/6001240.zarr"),c=W(),f=N("li"),u=z(`A bioformats2raw.layout collection:
      `),h=N("a"),p=z("?source=https://uk1s3.embassy.ebi.ac.uk/idr/zarr/v0.2/idr0070A/9838562.zarr"),g=W(),_=N("li"),m=z(`A plate:
      `),d=N("a"),v=z("?source=https://uk1s3.embassy.ebi.ac.uk/idr/zarr/v0.4/idr0001A/2551.zarr"),S(a,"href",location+"?source=https://uk1s3.embassy.ebi.ac.uk/idr/zarr/v0.4/idr0062A/6001240.zarr"),S(o,"class","svelte-auhxmj"),S(h,"href",location+"?source=https://uk1s3.embassy.ebi.ac.uk/idr/zarr/v0.2/idr0070A/9838562.zarr"),S(f,"class","svelte-auhxmj"),S(d,"href",location+"?source=https://uk1s3.embassy.ebi.ac.uk/idr/zarr/v0.4/idr0001A/2551.zarr"),S(_,"class","svelte-auhxmj"),S(e,"class","svelte-auhxmj")},m(k,E){T(k,e,E),b(e,r),b(e,n),b(e,s),b(s,o),b(o,i),b(o,a),b(a,l),b(s,c),b(s,f),b(f,u),b(f,h),b(h,p),b(s,g),b(s,_),b(_,m),b(_,d),b(d,v)},p:L,i:L,o:L,d(k){k&&A(e)}}}class zg extends Ce{constructor(e){super(),Se(this,e,null,Fg,$e,{})}}function Lg(t){let e,r;return e=new zg({}),{c(){ce(e.$$.fragment)},m(n,s){ie(e,n,s),r=!0},p:L,i(n){r||(B(e.$$.fragment,n),r=!0)},o(n){K(e.$$.fragment,n),r=!1},d(n){ae(e,n)}}}function Ug(t){let e,r,n,s={ctx:t,current:null,token:null,hasCatch:!0,pending:Wg,then:Bg,catch:Vg,value:3,error:4,blocks:[,,,]};return st(r=t[1],s),{c(){e=Ae(),s.block.c()},m(o,i){T(o,e,i),s.block.m(o,s.anchor=i),s.mount=()=>e.parentNode,s.anchor=e,n=!0},p(o,i){t=o,s.ctx=t,i&2&&r!==(r=t[1])&&st(r,s)||dt(s,t,i)},i(o){n||(B(s.block),n=!0)},o(o){for(let i=0;i<3;i+=1){const a=s.blocks[i];K(a)}n=!1},d(o){o&&A(e),s.block.d(o),s.token=null,s=null}}}function Vg(t){let e,r,n,s=t[4].message+"",o,i;return e=new zn({props:{valid:!1}}),{c(){ce(e.$$.fragment),r=W(),n=N("p"),o=z(s),S(n,"class","error svelte-1hk3eul")},m(a,l){ie(e,a,l),T(a,r,l),T(a,n,l),b(n,o),i=!0},p(a,l){(!i||l&2)&&s!==(s=a[4].message+"")&&Ee(o,s)},i(a){i||(B(e.$$.fragment,a),i=!0)},o(a){K(e.$$.fragment,a),i=!1},d(a){ae(e,a),a&&A(r),a&&A(n)}}}function Bg(t){let e,r,n,s,o,i,a;e=new Og({props:{source:t[0],zattrs:t[3]}});const l=[Kg,qg],c=[];function f(u,h){return h&2&&(s=null),s==null&&(s=!!Jg(u[3])),s?0:1}return o=f(t,-1),i=c[o]=l[o](t),{c(){ce(e.$$.fragment),r=W(),n=N("div"),i.c(),S(n,"class","svelte-1hk3eul")},m(u,h){ie(e,u,h),T(u,r,h),T(u,n,h),c[o].m(n,null),a=!0},p(u,h){const p={};h&1&&(p.source=u[0]),h&2&&(p.zattrs=u[3]),e.$set(p);let g=o;o=f(u,h),o===g?c[o].p(u,h):(Pe(),K(c[g],1,1,()=>{c[g]=null}),Oe(),i=c[o],i?i.p(u,h):(i=c[o]=l[o](u),i.c()),B(i,1),i.m(n,null))},i(u){a||(B(e.$$.fragment,u),B(i),a=!0)},o(u){K(e.$$.fragment,u),K(i),a=!1},d(u){ae(e,u),u&&A(r),u&&A(n),c[o].d()}}}function qg(t){let e,r;return e=new Cg({props:{rootAttrs:t[3],source:t[0]}}),{c(){ce(e.$$.fragment)},m(n,s){ie(e,n,s),r=!0},p(n,s){const o={};s&2&&(o.rootAttrs=n[3]),s&1&&(o.source=n[0]),e.$set(o)},i(n){r||(B(e.$$.fragment,n),r=!0)},o(n){K(e.$$.fragment,n),r=!1},d(n){ae(e,n)}}}function Kg(t){let e,r;return e=new jm({props:{rootAttrs:t[3],source:t[0]}}),{c(){ce(e.$$.fragment)},m(n,s){ie(e,n,s),r=!0},p(n,s){const o={};s&2&&(o.rootAttrs=n[3]),s&1&&(o.source=n[0]),e.$set(o)},i(n){r||(B(e.$$.fragment,n),r=!0)},o(n){K(e.$$.fragment,n),r=!1},d(n){ae(e,n)}}}function Wg(t){let e;return{c(){e=N("div"),e.textContent="loading...",S(e,"class","svelte-1hk3eul")},m(r,n){T(r,e,n)},p:L,i:L,o:L,d(r){r&&A(e)}}}function Gg(t){let e,r,n,s,o,i,a,l;n=new ic({});const c=[Ug,Lg],f=[];function u(h,p){return h[0]?0:1}return i=u(t),a=f[i]=c[i](t),{c(){e=N("main"),r=N("nav"),ce(n.$$.fragment),s=W(),o=N("section"),a.c(),S(r,"class","svelte-1hk3eul"),S(o,"class","svelte-1hk3eul"),S(e,"class","svelte-1hk3eul")},m(h,p){T(h,e,p),b(e,r),ie(n,r,null),b(e,s),b(e,o),f[i].m(o,null),l=!0},p(h,p){let g=i;i=u(h),i===g?f[i].p(h,p):(Pe(),K(f[g],1,1,()=>{f[g]=null}),Oe(),a=f[i],a?a.p(h,p):(a=f[i]=c[i](h),a.c()),B(a,1),a.m(o,null))},i(h){l||(B(n.$$.fragment,h),B(a),l=!0)},o(h){K(n.$$.fragment,h),K(a),l=!1},d(h){h&&A(e),ae(n),f[i].d()}}}function Hg(t){let e,r;return e=new Mg({props:{$$slots:{default:[Gg]},$$scope:{ctx:t}}}),{c(){ce(e.$$.fragment)},m(n,s){ie(e,n,s),r=!0},p(n,[s]){const o={};s&35&&(o.$$scope={dirty:s,ctx:n}),e.$set(o)},i(n){r||(B(e.$$.fragment,n),r=!0)},o(n){K(e.$$.fragment,n),r=!1},d(n){ae(e,n)}}}function Jg(t){let e=t?.attributes?.ome||t;return e["bioformats2raw.layout"]===3&&!e.plate}function Xg(t,e,r){let s=new URLSearchParams(window.location.search).get("source");s&&s.endsWith("/")&&(s=s.slice(0,-1));let o;return s&&(console.log("Loading JSON... "+s),o=Xr(s)),[s,o]}class Yg extends Ce{constructor(e){super(),Se(this,e,Xg,Hg,$e,{})}}new Yg({target:document.getElementById("app")});
