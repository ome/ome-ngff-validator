var Qa=Object.defineProperty,xa=Object.defineProperties;var ei=Object.getOwnPropertyDescriptors;var Ds=Object.getOwnPropertySymbols;var ti=Object.prototype.hasOwnProperty,ri=Object.prototype.propertyIsEnumerable;var Ms=(t,e,r)=>e in t?Qa(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Oe=(t,e)=>{for(var r in e||(e={}))ti.call(e,r)&&Ms(t,r,e[r]);if(Ds)for(var r of Ds(e))ri.call(e,r)&&Ms(t,r,e[r]);return t},jt=(t,e)=>xa(t,ei(e));const ni=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerpolicy&&(o.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?o.credentials="include":s.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}};ni();function K(){}const Ho=t=>t;function Go(t,e){for(const r in e)t[r]=e[r];return t}function si(t){return t&&typeof t=="object"&&typeof t.then=="function"}function Jo(t){return t()}function zs(){return Object.create(null)}function nr(t){t.forEach(Jo)}function ur(t){return typeof t=="function"}function Le(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let Kr;function Xo(t,e){return Kr||(Kr=document.createElement("a")),Kr.href=e,t===Kr.href}function oi(t){return Object.keys(t).length===0}function ai(t,e,r,n){if(t){const s=Yo(t,e,r,n);return t[0](s)}}function Yo(t,e,r,n){return t[1]&&n?Go(r.ctx.slice(),t[1](n(e))):r.ctx}function ii(t,e,r,n){if(t[2]&&n){const s=t[2](n(r));if(e.dirty===void 0)return s;if(typeof s=="object"){const o=[],a=Math.max(e.dirty.length,s.length);for(let i=0;i<a;i+=1)o[i]=e.dirty[i]|s[i];return o}return e.dirty|s}return e.dirty}function li(t,e,r,n,s,o){if(s){const a=Yo(e,r,n,o);t.p(a,s)}}function ci(t){if(t.ctx.length>32){const e=[],r=t.ctx.length/32;for(let n=0;n<r;n++)e[n]=-1;return e}return-1}function yt(t){return t==null?"":t}const Zo=typeof window!="undefined";let ui=Zo?()=>window.performance.now():()=>Date.now(),Fn=Zo?t=>requestAnimationFrame(t):K;const dr=new Set;function Qo(t){dr.forEach(e=>{e.c(t)||(dr.delete(e),e.f())}),dr.size!==0&&Fn(Qo)}function fi(t){let e;return dr.size===0&&Fn(Qo),{promise:new Promise(r=>{dr.add(e={c:t,f:r})}),abort(){dr.delete(e)}}}function C(t,e){t.appendChild(e)}function xo(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function di(t){const e=R("style");return hi(xo(t),e),e.sheet}function hi(t,e){C(t.head||t,e)}function D(t,e,r){t.insertBefore(e,r||null)}function I(t){t.parentNode.removeChild(t)}function dt(t,e){for(let r=0;r<t.length;r+=1)t[r]&&t[r].d(e)}function R(t){return document.createElement(t)}function mi(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function q(t){return document.createTextNode(t)}function X(){return q(" ")}function je(){return q("")}function nt(t,e,r,n){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r,n)}function pi(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function N(t,e,r){r==null?t.removeAttribute(e):t.getAttribute(e)!==r&&t.setAttribute(e,r)}function Vs(t,e){for(const r in e)N(t,r,e[r])}function _i(t){return Array.from(t.childNodes)}function Ke(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function Ce(t,e,r,n){r===null?t.style.removeProperty(e):t.style.setProperty(e,r,n?"important":"")}function St(t,e,r){t.classList[r?"add":"remove"](e)}function ea(t,e,{bubbles:r=!1,cancelable:n=!1}={}){const s=document.createEvent("CustomEvent");return s.initCustomEvent(t,r,n,e),s}const nn=new Map;let sn=0;function gi(t){let e=5381,r=t.length;for(;r--;)e=(e<<5)-e^t.charCodeAt(r);return e>>>0}function vi(t,e){const r={stylesheet:di(e),rules:{}};return nn.set(t,r),r}function Fs(t,e,r,n,s,o,a,i=0){const l=16.666/n;let c=`{
`;for(let _=0;_<=1;_+=l){const d=e+(r-e)*o(_);c+=_*100+`%{${a(d,1-d)}}
`}const u=c+`100% {${a(r,1-r)}}
}`,f=`__svelte_${gi(u)}_${i}`,m=xo(t),{stylesheet:b,rules:v}=nn.get(m)||vi(m,t);v[f]||(v[f]=!0,b.insertRule(`@keyframes ${f} ${u}`,b.cssRules.length));const g=t.style.animation||"";return t.style.animation=`${g?`${g}, `:""}${f} ${n}ms linear ${s}ms 1 both`,sn+=1,f}function yi(t,e){const r=(t.style.animation||"").split(", "),n=r.filter(e?o=>o.indexOf(e)<0:o=>o.indexOf("__svelte")===-1),s=r.length-n.length;s&&(t.style.animation=n.join(", "),sn-=s,sn||bi())}function bi(){Fn(()=>{sn||(nn.forEach(t=>{const{stylesheet:e}=t;let r=e.cssRules.length;for(;r--;)e.deleteRule(r);t.rules={}}),nn.clear())})}let jr;function Rt(t){jr=t}function gr(){if(!jr)throw new Error("Function called outside component initialization");return jr}function $i(t){gr().$$.on_mount.push(t)}function wi(t){gr().$$.on_destroy.push(t)}function ta(){const t=gr();return(e,r,{cancelable:n=!1}={})=>{const s=t.$$.callbacks[e];if(s){const o=ea(e,r,{cancelable:n});return s.slice().forEach(a=>{a.call(t,o)}),!o.defaultPrevented}return!0}}function ki(t,e){return gr().$$.context.set(t,e),e}function Ei(t){return gr().$$.context.get(t)}function Si(t,e){const r=t.$$.callbacks[e.type];r&&r.slice().forEach(n=>n.call(this,e))}const Sr=[],hr=[],Zr=[],Ls=[],Pi=Promise.resolve();let An=!1;function Ci(){An||(An=!0,Pi.then(Ln))}function xt(t){Zr.push(t)}const wn=new Set;let Wr=0;function Ln(){const t=jr;do{for(;Wr<Sr.length;){const e=Sr[Wr];Wr++,Rt(e),Ni(e.$$)}for(Rt(null),Sr.length=0,Wr=0;hr.length;)hr.pop()();for(let e=0;e<Zr.length;e+=1){const r=Zr[e];wn.has(r)||(wn.add(r),r())}Zr.length=0}while(Sr.length);for(;Ls.length;)Ls.pop()();An=!1,wn.clear(),Rt(t)}function Ni(t){if(t.fragment!==null){t.update(),nr(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(xt)}}let wr;function Oi(){return wr||(wr=Promise.resolve(),wr.then(()=>{wr=null})),wr}function kn(t,e,r){t.dispatchEvent(ea(`${e?"intro":"outro"}${r}`))}const Qr=new Set;let It;function Te(){It={r:0,c:[],p:It}}function Ae(){It.r||nr(It.c),It=It.p}function B(t,e){t&&t.i&&(Qr.delete(t),t.i(e))}function H(t,e,r,n){if(t&&t.o){if(Qr.has(t))return;Qr.add(t),It.c.push(()=>{Qr.delete(t),n&&(r&&t.d(1),n())}),t.o(e)}}const Ti={duration:0};function fr(t,e,r,n){let s=e(t,r),o=n?0:1,a=null,i=null,l=null;function c(){l&&yi(t,l)}function u(m,b){const v=m.b-o;return b*=Math.abs(v),{a:o,b:m.b,d:v,duration:b,start:m.start,end:m.start+b,group:m.group}}function f(m){const{delay:b=0,duration:v=300,easing:g=Ho,tick:_=K,css:d}=s||Ti,$={start:ui()+b,b:m};m||($.group=It,It.r+=1),a||i?i=$:(d&&(c(),l=Fs(t,o,m,v,b,g,d)),m&&_(0,1),a=u($,v),xt(()=>kn(t,m,"start")),fi(P=>{if(i&&P>i.start&&(a=u(i,v),i=null,kn(t,a.b,"start"),d&&(c(),l=Fs(t,o,a.b,a.duration,0,g,s.css))),a){if(P>=a.end)_(o=a.b,1-o),kn(t,a.b,"end"),i||(a.b?c():--a.group.r||nr(a.group.c)),a=null;else if(P>=a.start){const S=P-a.start;o=a.a+a.d*g(S/a.duration),_(o,1-o)}}return!!(a||i)}))}return{run(m){ur(s)?Oi().then(()=>{s=s(),f(m)}):f(m)},end(){c(),a=i=null}}}function ot(t,e){const r=e.token={};function n(s,o,a,i){if(e.token!==r)return;e.resolved=i;let l=e.ctx;a!==void 0&&(l=l.slice(),l[a]=i);const c=s&&(e.current=s)(l);let u=!1;e.block&&(e.blocks?e.blocks.forEach((f,m)=>{m!==o&&f&&(Te(),H(f,1,1,()=>{e.blocks[m]===f&&(e.blocks[m]=null)}),Ae())}):e.block.d(1),c.c(),B(c,1),c.m(e.mount(),e.anchor),u=!0),e.block=c,e.blocks&&(e.blocks[o]=c),u&&Ln()}if(si(t)){const s=gr();if(t.then(o=>{Rt(s),n(e.then,1,e.value,o),Rt(null)},o=>{if(Rt(s),n(e.catch,2,e.error,o),Rt(null),!e.hasCatch)throw o}),e.current!==e.pending)return n(e.pending,0),!0}else{if(e.current!==e.then)return n(e.then,1,e.value,t),!0;e.resolved=t}}function ht(t,e,r){const n=e.slice(),{resolved:s}=t;t.current===t.then&&(n[t.value]=s),t.current===t.catch&&(n[t.error]=s),t.block.p(n,r)}const ra=typeof window!="undefined"?window:typeof globalThis!="undefined"?globalThis:global;function Ai(t,e){const r={},n={},s={$$scope:1};let o=t.length;for(;o--;){const a=t[o],i=e[o];if(i){for(const l in a)l in i||(n[l]=1);for(const l in i)s[l]||(r[l]=i[l],s[l]=1);t[o]=i}else for(const l in a)s[l]=1}for(const a in n)a in r||(r[a]=void 0);return r}function _e(t){t&&t.c()}function me(t,e,r,n){const{fragment:s,on_mount:o,on_destroy:a,after_update:i}=t.$$;s&&s.m(e,r),n||xt(()=>{const l=o.map(Jo).filter(ur);a?a.push(...l):nr(l),t.$$.on_mount=[]}),i.forEach(xt)}function pe(t,e){const r=t.$$;r.fragment!==null&&(nr(r.on_destroy),r.fragment&&r.fragment.d(e),r.on_destroy=r.fragment=null,r.ctx=[])}function ji(t,e){t.$$.dirty[0]===-1&&(Sr.push(t),Ci(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Ue(t,e,r,n,s,o,a,i=[-1]){const l=jr;Rt(t);const c=t.$$={fragment:null,ctx:null,props:o,update:K,not_equal:s,bound:zs(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(l?l.$$.context:[])),callbacks:zs(),dirty:i,skip_bound:!1,root:e.target||l.$$.root};a&&a(c.root);let u=!1;if(c.ctx=r?r(t,e.props||{},(f,m,...b)=>{const v=b.length?b[0]:m;return c.ctx&&s(c.ctx[f],c.ctx[f]=v)&&(!c.skip_bound&&c.bound[f]&&c.bound[f](v),u&&ji(t,f)),m}):[],c.update(),u=!0,nr(c.before_update),c.fragment=n?n(c.ctx):!1,e.target){if(e.hydrate){const f=_i(e.target);c.fragment&&c.fragment.l(f),f.forEach(I)}else c.fragment&&c.fragment.c();e.intro&&B(t.$$.fragment),me(t,e.target,e.anchor,e.customElement),Ln()}Rt(l)}class qe{$destroy(){pe(this,1),this.$destroy=K}$on(e,r){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(r),()=>{const s=n.indexOf(r);s!==-1&&n.splice(s,1)}}$set(e){this.$$set&&!oi(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function Ri(t){let e,r,n,s,o,a,i;return{c(){e=R("h1"),e.textContent="About",r=X(),n=R("p"),n.innerHTML=`This app is for validating
  <a target="_blank" href="https://ngff.openmicroscopy.org/latest/">OME-NGFF</a>
  filesets against JSON schemas.`,s=X(),o=R("p"),o.innerHTML=`You can find some
  <a target="_blank" href="https://idr.github.io/ome-ngff-samples/">sample OME-NGFF filesets</a> for IDR data.`,a=X(),i=R("p"),i.innerHTML=`This app is on GitHub at
  <a target="_blank" href="https://github.com/ome/ome-ngff-validator">ome/ome-ngff-validator</a>.`,N(e,"class","svelte-1piqss3"),N(n,"class","svelte-1piqss3"),N(o,"class","svelte-1piqss3"),N(i,"class","svelte-1piqss3")},m(l,c){D(l,e,c),D(l,r,c),D(l,n,c),D(l,s,c),D(l,o,c),D(l,a,c),D(l,i,c)},p:K,i:K,o:K,d(l){l&&I(e),l&&I(r),l&&I(n),l&&I(s),l&&I(o),l&&I(a),l&&I(i)}}}class Ii extends qe{constructor(e){super(),Ue(this,e,null,Ri,Le,{})}}function Di(t){let e,r,n,s,o,a,i;return{c(){e=R("h1"),e.textContent="OME-NGFF Validator",r=X(),n=R("ul"),s=R("li"),o=R("button"),o.textContent="About",N(e,"class","svelte-b3yacr"),N(o,"class","svelte-b3yacr"),N(s,"class","svelte-b3yacr"),N(n,"class","svelte-b3yacr")},m(l,c){D(l,e,c),D(l,r,c),D(l,n,c),C(n,s),C(s,o),a||(i=nt(o,"click",t[0]),a=!0)},p:K,i:K,o:K,d(l){l&&I(e),l&&I(r),l&&I(n),a=!1,i()}}}function Mi(t){const{open:e}=Ei("simple-modal");return[()=>e(Ii)]}class zi extends qe{constructor(e){super(),Ue(this,e,Mi,Di,Le,{})}}var Vi=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function Fi(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var jn={exports:{}},na={},$t={},pr={},Dr={},le={},Rr={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.regexpCode=t.getEsmExportName=t.getProperty=t.safeStringify=t.stringify=t.strConcat=t.addCodeArg=t.str=t._=t.nil=t._Code=t.Name=t.IDENTIFIER=t._CodeOrName=void 0;class e{}t._CodeOrName=e,t.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends e{constructor($){if(super(),!t.IDENTIFIER.test($))throw new Error("CodeGen: name must be a valid identifier");this.str=$}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}t.Name=r;class n extends e{constructor($){super(),this._items=typeof $=="string"?[$]:$}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const $=this._items[0];return $===""||$==='""'}get str(){var $;return($=this._str)!==null&&$!==void 0?$:this._str=this._items.reduce((P,S)=>`${P}${S}`,"")}get names(){var $;return($=this._names)!==null&&$!==void 0?$:this._names=this._items.reduce((P,S)=>(S instanceof r&&(P[S.str]=(P[S.str]||0)+1),P),{})}}t._Code=n,t.nil=new n("");function s(d,...$){const P=[d[0]];let S=0;for(;S<$.length;)i(P,$[S]),P.push(d[++S]);return new n(P)}t._=s;const o=new n("+");function a(d,...$){const P=[b(d[0])];let S=0;for(;S<$.length;)P.push(o),i(P,$[S]),P.push(o,b(d[++S]));return l(P),new n(P)}t.str=a;function i(d,$){$ instanceof n?d.push(...$._items):$ instanceof r?d.push($):d.push(f($))}t.addCodeArg=i;function l(d){let $=1;for(;$<d.length-1;){if(d[$]===o){const P=c(d[$-1],d[$+1]);if(P!==void 0){d.splice($-1,3,P);continue}d[$++]="+"}$++}}function c(d,$){if($==='""')return d;if(d==='""')return $;if(typeof d=="string")return $ instanceof r||d[d.length-1]!=='"'?void 0:typeof $!="string"?`${d.slice(0,-1)}${$}"`:$[0]==='"'?d.slice(0,-1)+$.slice(1):void 0;if(typeof $=="string"&&$[0]==='"'&&!(d instanceof r))return`"${d}${$.slice(1)}`}function u(d,$){return $.emptyStr()?d:d.emptyStr()?$:a`${d}${$}`}t.strConcat=u;function f(d){return typeof d=="number"||typeof d=="boolean"||d===null?d:b(Array.isArray(d)?d.join(","):d)}function m(d){return new n(b(d))}t.stringify=m;function b(d){return JSON.stringify(d).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}t.safeStringify=b;function v(d){return typeof d=="string"&&t.IDENTIFIER.test(d)?new n(`.${d}`):s`[${d}]`}t.getProperty=v;function g(d){if(typeof d=="string"&&t.IDENTIFIER.test(d))return new n(`${d}`);throw new Error(`CodeGen: invalid export name: ${d}, use explicit $id name mapping`)}t.getEsmExportName=g;function _(d){return new n(d.toString())}t.regexpCode=_})(Rr);var Rn={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ValueScope=t.ValueScopeName=t.Scope=t.varKinds=t.UsedValueState=void 0;const e=Rr;class r extends Error{constructor(c){super(`CodeGen: "code" for ${c} not defined`),this.value=c.value}}var n;(function(l){l[l.Started=0]="Started",l[l.Completed=1]="Completed"})(n=t.UsedValueState||(t.UsedValueState={})),t.varKinds={const:new e.Name("const"),let:new e.Name("let"),var:new e.Name("var")};class s{constructor({prefixes:c,parent:u}={}){this._names={},this._prefixes=c,this._parent=u}toName(c){return c instanceof e.Name?c:this.name(c)}name(c){return new e.Name(this._newName(c))}_newName(c){const u=this._names[c]||this._nameGroup(c);return`${c}${u.index++}`}_nameGroup(c){var u,f;if(((f=(u=this._parent)===null||u===void 0?void 0:u._prefixes)===null||f===void 0?void 0:f.has(c))||this._prefixes&&!this._prefixes.has(c))throw new Error(`CodeGen: prefix "${c}" is not allowed in this scope`);return this._names[c]={prefix:c,index:0}}}t.Scope=s;class o extends e.Name{constructor(c,u){super(u),this.prefix=c}setValue(c,{property:u,itemIndex:f}){this.value=c,this.scopePath=(0,e._)`.${new e.Name(u)}[${f}]`}}t.ValueScopeName=o;const a=(0,e._)`\n`;class i extends s{constructor(c){super(c),this._values={},this._scope=c.scope,this.opts=jt(Oe({},c),{_n:c.lines?a:e.nil})}get(){return this._scope}name(c){return new o(c,this._newName(c))}value(c,u){var f;if(u.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const m=this.toName(c),{prefix:b}=m,v=(f=u.key)!==null&&f!==void 0?f:u.ref;let g=this._values[b];if(g){const $=g.get(v);if($)return $}else g=this._values[b]=new Map;g.set(v,m);const _=this._scope[b]||(this._scope[b]=[]),d=_.length;return _[d]=u.ref,m.setValue(u,{property:b,itemIndex:d}),m}getValue(c,u){const f=this._values[c];if(!!f)return f.get(u)}scopeRefs(c,u=this._values){return this._reduceValues(u,f=>{if(f.scopePath===void 0)throw new Error(`CodeGen: name "${f}" has no value`);return(0,e._)`${c}${f.scopePath}`})}scopeCode(c=this._values,u,f){return this._reduceValues(c,m=>{if(m.value===void 0)throw new Error(`CodeGen: name "${m}" has no value`);return m.value.code},u,f)}_reduceValues(c,u,f={},m){let b=e.nil;for(const v in c){const g=c[v];if(!g)continue;const _=f[v]=f[v]||new Map;g.forEach(d=>{if(_.has(d))return;_.set(d,n.Started);let $=u(d);if($){const P=this.opts.es5?t.varKinds.var:t.varKinds.const;b=(0,e._)`${b}${P} ${d} = ${$};${this.opts._n}`}else if($=m==null?void 0:m(d))b=(0,e._)`${b}${$}${this.opts._n}`;else throw new r(d);_.set(d,n.Completed)})}return b}}t.ValueScope=i})(Rn);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.or=t.and=t.not=t.CodeGen=t.operators=t.varKinds=t.ValueScopeName=t.ValueScope=t.Scope=t.Name=t.regexpCode=t.stringify=t.getProperty=t.nil=t.strConcat=t.str=t._=void 0;const e=Rr,r=Rn;var n=Rr;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(t,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(t,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(t,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return n.Name}});var s=Rn;Object.defineProperty(t,"Scope",{enumerable:!0,get:function(){return s.Scope}}),Object.defineProperty(t,"ValueScope",{enumerable:!0,get:function(){return s.ValueScope}}),Object.defineProperty(t,"ValueScopeName",{enumerable:!0,get:function(){return s.ValueScopeName}}),Object.defineProperty(t,"varKinds",{enumerable:!0,get:function(){return s.varKinds}}),t.operators={GT:new e._Code(">"),GTE:new e._Code(">="),LT:new e._Code("<"),LTE:new e._Code("<="),EQ:new e._Code("==="),NEQ:new e._Code("!=="),NOT:new e._Code("!"),OR:new e._Code("||"),AND:new e._Code("&&"),ADD:new e._Code("+")};class o{optimizeNodes(){return this}optimizeNames(h,k){return this}}class a extends o{constructor(h,k,V){super(),this.varKind=h,this.name=k,this.rhs=V}render({es5:h,_n:k}){const V=h?r.varKinds.var:this.varKind,G=this.rhs===void 0?"":` = ${this.rhs}`;return`${V} ${this.name}${G};`+k}optimizeNames(h,k){if(!!h[this.name.str])return this.rhs&&(this.rhs=re(this.rhs,h,k)),this}get names(){return this.rhs instanceof e._CodeOrName?this.rhs.names:{}}}class i extends o{constructor(h,k,V){super(),this.lhs=h,this.rhs=k,this.sideEffects=V}render({_n:h}){return`${this.lhs} = ${this.rhs};`+h}optimizeNames(h,k){if(!(this.lhs instanceof e.Name&&!h[this.lhs.str]&&!this.sideEffects))return this.rhs=re(this.rhs,h,k),this}get names(){const h=this.lhs instanceof e.Name?{}:Oe({},this.lhs.names);return ye(h,this.rhs)}}class l extends i{constructor(h,k,V,G){super(h,V,G),this.op=k}render({_n:h}){return`${this.lhs} ${this.op}= ${this.rhs};`+h}}class c extends o{constructor(h){super(),this.label=h,this.names={}}render({_n:h}){return`${this.label}:`+h}}class u extends o{constructor(h){super(),this.label=h,this.names={}}render({_n:h}){return`break${this.label?` ${this.label}`:""};`+h}}class f extends o{constructor(h){super(),this.error=h}render({_n:h}){return`throw ${this.error};`+h}get names(){return this.error.names}}class m extends o{constructor(h){super(),this.code=h}render({_n:h}){return`${this.code};`+h}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(h,k){return this.code=re(this.code,h,k),this}get names(){return this.code instanceof e._CodeOrName?this.code.names:{}}}class b extends o{constructor(h=[]){super(),this.nodes=h}render(h){return this.nodes.reduce((k,V)=>k+V.render(h),"")}optimizeNodes(){const{nodes:h}=this;let k=h.length;for(;k--;){const V=h[k].optimizeNodes();Array.isArray(V)?h.splice(k,1,...V):V?h[k]=V:h.splice(k,1)}return h.length>0?this:void 0}optimizeNames(h,k){const{nodes:V}=this;let G=V.length;for(;G--;){const J=V[G];J.optimizeNames(h,k)||(he(h,J.names),V.splice(G,1))}return V.length>0?this:void 0}get names(){return this.nodes.reduce((h,k)=>te(h,k.names),{})}}class v extends b{render(h){return"{"+h._n+super.render(h)+"}"+h._n}}class g extends b{}class _ extends v{}_.kind="else";class d extends v{constructor(h,k){super(k),this.condition=h}render(h){let k=`if(${this.condition})`+super.render(h);return this.else&&(k+="else "+this.else.render(h)),k}optimizeNodes(){super.optimizeNodes();const h=this.condition;if(h===!0)return this.nodes;let k=this.else;if(k){const V=k.optimizeNodes();k=this.else=Array.isArray(V)?new _(V):V}if(k)return h===!1?k instanceof d?k:k.nodes:this.nodes.length?this:new d(Be(h),k instanceof d?[k]:k.nodes);if(!(h===!1||!this.nodes.length))return this}optimizeNames(h,k){var V;if(this.else=(V=this.else)===null||V===void 0?void 0:V.optimizeNames(h,k),!!(super.optimizeNames(h,k)||this.else))return this.condition=re(this.condition,h,k),this}get names(){const h=super.names;return ye(h,this.condition),this.else&&te(h,this.else.names),h}}d.kind="if";class $ extends v{}$.kind="for";class P extends ${constructor(h){super(),this.iteration=h}render(h){return`for(${this.iteration})`+super.render(h)}optimizeNames(h,k){if(!!super.optimizeNames(h,k))return this.iteration=re(this.iteration,h,k),this}get names(){return te(super.names,this.iteration.names)}}class S extends ${constructor(h,k,V,G){super(),this.varKind=h,this.name=k,this.from=V,this.to=G}render(h){const k=h.es5?r.varKinds.var:this.varKind,{name:V,from:G,to:J}=this;return`for(${k} ${V}=${G}; ${V}<${J}; ${V}++)`+super.render(h)}get names(){const h=ye(super.names,this.from);return ye(h,this.to)}}class A extends ${constructor(h,k,V,G){super(),this.loop=h,this.varKind=k,this.name=V,this.iterable=G}render(h){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(h)}optimizeNames(h,k){if(!!super.optimizeNames(h,k))return this.iterable=re(this.iterable,h,k),this}get names(){return te(super.names,this.iterable.names)}}class y extends v{constructor(h,k,V){super(),this.name=h,this.args=k,this.async=V}render(h){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(h)}}y.kind="func";class O extends b{render(h){return"return "+super.render(h)}}O.kind="return";class L extends v{render(h){let k="try"+super.render(h);return this.catch&&(k+=this.catch.render(h)),this.finally&&(k+=this.finally.render(h)),k}optimizeNodes(){var h,k;return super.optimizeNodes(),(h=this.catch)===null||h===void 0||h.optimizeNodes(),(k=this.finally)===null||k===void 0||k.optimizeNodes(),this}optimizeNames(h,k){var V,G;return super.optimizeNames(h,k),(V=this.catch)===null||V===void 0||V.optimizeNames(h,k),(G=this.finally)===null||G===void 0||G.optimizeNames(h,k),this}get names(){const h=super.names;return this.catch&&te(h,this.catch.names),this.finally&&te(h,this.finally.names),h}}class Z extends v{constructor(h){super(),this.error=h}render(h){return`catch(${this.error})`+super.render(h)}}Z.kind="catch";class Y extends v{render(h){return"finally"+super.render(h)}}Y.kind="finally";class ue{constructor(h,k={}){this._values={},this._blockStarts=[],this._constants={},this.opts=jt(Oe({},k),{_n:k.lines?`
`:""}),this._extScope=h,this._scope=new r.Scope({parent:h}),this._nodes=[new g]}toString(){return this._root.render(this.opts)}name(h){return this._scope.name(h)}scopeName(h){return this._extScope.name(h)}scopeValue(h,k){const V=this._extScope.value(h,k);return(this._values[V.prefix]||(this._values[V.prefix]=new Set)).add(V),V}getScopeValue(h,k){return this._extScope.getValue(h,k)}scopeRefs(h){return this._extScope.scopeRefs(h,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(h,k,V,G){const J=this._scope.toName(k);return V!==void 0&&G&&(this._constants[J.str]=V),this._leafNode(new a(h,J,V)),J}const(h,k,V){return this._def(r.varKinds.const,h,k,V)}let(h,k,V){return this._def(r.varKinds.let,h,k,V)}var(h,k,V){return this._def(r.varKinds.var,h,k,V)}assign(h,k,V){return this._leafNode(new i(h,k,V))}add(h,k){return this._leafNode(new l(h,t.operators.ADD,k))}code(h){return typeof h=="function"?h():h!==e.nil&&this._leafNode(new m(h)),this}object(...h){const k=["{"];for(const[V,G]of h)k.length>1&&k.push(","),k.push(V),(V!==G||this.opts.es5)&&(k.push(":"),(0,e.addCodeArg)(k,G));return k.push("}"),new e._Code(k)}if(h,k,V){if(this._blockNode(new d(h)),k&&V)this.code(k).else().code(V).endIf();else if(k)this.code(k).endIf();else if(V)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(h){return this._elseNode(new d(h))}else(){return this._elseNode(new _)}endIf(){return this._endBlockNode(d,_)}_for(h,k){return this._blockNode(h),k&&this.code(k).endFor(),this}for(h,k){return this._for(new P(h),k)}forRange(h,k,V,G,J=this.opts.es5?r.varKinds.var:r.varKinds.let){const ae=this._scope.toName(h);return this._for(new S(J,ae,k,V),()=>G(ae))}forOf(h,k,V,G=r.varKinds.const){const J=this._scope.toName(h);if(this.opts.es5){const ae=k instanceof e.Name?k:this.var("_arr",k);return this.forRange("_i",0,(0,e._)`${ae}.length`,oe=>{this.var(J,(0,e._)`${ae}[${oe}]`),V(J)})}return this._for(new A("of",G,J,k),()=>V(J))}forIn(h,k,V,G=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(h,(0,e._)`Object.keys(${k})`,V);const J=this._scope.toName(h);return this._for(new A("in",G,J,k),()=>V(J))}endFor(){return this._endBlockNode($)}label(h){return this._leafNode(new c(h))}break(h){return this._leafNode(new u(h))}return(h){const k=new O;if(this._blockNode(k),this.code(h),k.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(O)}try(h,k,V){if(!k&&!V)throw new Error('CodeGen: "try" without "catch" and "finally"');const G=new L;if(this._blockNode(G),this.code(h),k){const J=this.name("e");this._currNode=G.catch=new Z(J),k(J)}return V&&(this._currNode=G.finally=new Y,this.code(V)),this._endBlockNode(Z,Y)}throw(h){return this._leafNode(new f(h))}block(h,k){return this._blockStarts.push(this._nodes.length),h&&this.code(h).endBlock(k),this}endBlock(h){const k=this._blockStarts.pop();if(k===void 0)throw new Error("CodeGen: not in self-balancing block");const V=this._nodes.length-k;if(V<0||h!==void 0&&V!==h)throw new Error(`CodeGen: wrong number of nodes: ${V} vs ${h} expected`);return this._nodes.length=k,this}func(h,k=e.nil,V,G){return this._blockNode(new y(h,k,V)),G&&this.code(G).endFunc(),this}endFunc(){return this._endBlockNode(y)}optimize(h=1){for(;h-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(h){return this._currNode.nodes.push(h),this}_blockNode(h){this._currNode.nodes.push(h),this._nodes.push(h)}_endBlockNode(h,k){const V=this._currNode;if(V instanceof h||k&&V instanceof k)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${k?`${h.kind}/${k.kind}`:h.kind}"`)}_elseNode(h){const k=this._currNode;if(!(k instanceof d))throw new Error('CodeGen: "else" without "if"');return this._currNode=k.else=h,this}get _root(){return this._nodes[0]}get _currNode(){const h=this._nodes;return h[h.length-1]}set _currNode(h){const k=this._nodes;k[k.length-1]=h}}t.CodeGen=ue;function te(j,h){for(const k in h)j[k]=(j[k]||0)+(h[k]||0);return j}function ye(j,h){return h instanceof e._CodeOrName?te(j,h.names):j}function re(j,h,k){if(j instanceof e.Name)return V(j);if(!G(j))return j;return new e._Code(j._items.reduce((J,ae)=>(ae instanceof e.Name&&(ae=V(ae)),ae instanceof e._Code?J.push(...ae._items):J.push(ae),J),[]));function V(J){const ae=k[J.str];return ae===void 0||h[J.str]!==1?J:(delete h[J.str],ae)}function G(J){return J instanceof e._Code&&J._items.some(ae=>ae instanceof e.Name&&h[ae.str]===1&&k[ae.str]!==void 0)}}function he(j,h){for(const k in h)j[k]=(j[k]||0)-(h[k]||0)}function Be(j){return typeof j=="boolean"||typeof j=="number"||j===null?!j:(0,e._)`!${F(j)}`}t.not=Be;const Ge=T(t.operators.AND);function be(...j){return j.reduce(Ge)}t.and=be;const xe=T(t.operators.OR);function W(...j){return j.reduce(xe)}t.or=W;function T(j){return(h,k)=>h===e.nil?k:k===e.nil?h:(0,e._)`${F(h)} ${j} ${F(k)}`}function F(j){return j instanceof e.Name?j:(0,e._)`(${j})`}})(le);var de={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.checkStrictMode=t.getErrorPath=t.Type=t.useFunc=t.setEvaluated=t.evaluatedPropsToName=t.mergeEvaluated=t.eachItem=t.unescapeJsonPointer=t.escapeJsonPointer=t.escapeFragment=t.unescapeFragment=t.schemaRefOrVal=t.schemaHasRulesButRef=t.schemaHasRules=t.checkUnknownRules=t.alwaysValidSchema=t.toHash=void 0;const e=le,r=Rr;function n(y){const O={};for(const L of y)O[L]=!0;return O}t.toHash=n;function s(y,O){return typeof O=="boolean"?O:Object.keys(O).length===0?!0:(o(y,O),!a(O,y.self.RULES.all))}t.alwaysValidSchema=s;function o(y,O=y.schema){const{opts:L,self:Z}=y;if(!L.strictSchema||typeof O=="boolean")return;const Y=Z.RULES.keywords;for(const ue in O)Y[ue]||A(y,`unknown keyword: "${ue}"`)}t.checkUnknownRules=o;function a(y,O){if(typeof y=="boolean")return!y;for(const L in y)if(O[L])return!0;return!1}t.schemaHasRules=a;function i(y,O){if(typeof y=="boolean")return!y;for(const L in y)if(L!=="$ref"&&O.all[L])return!0;return!1}t.schemaHasRulesButRef=i;function l({topSchemaRef:y,schemaPath:O},L,Z,Y){if(!Y){if(typeof L=="number"||typeof L=="boolean")return L;if(typeof L=="string")return(0,e._)`${L}`}return(0,e._)`${y}${O}${(0,e.getProperty)(Z)}`}t.schemaRefOrVal=l;function c(y){return m(decodeURIComponent(y))}t.unescapeFragment=c;function u(y){return encodeURIComponent(f(y))}t.escapeFragment=u;function f(y){return typeof y=="number"?`${y}`:y.replace(/~/g,"~0").replace(/\//g,"~1")}t.escapeJsonPointer=f;function m(y){return y.replace(/~1/g,"/").replace(/~0/g,"~")}t.unescapeJsonPointer=m;function b(y,O){if(Array.isArray(y))for(const L of y)O(L);else O(y)}t.eachItem=b;function v({mergeNames:y,mergeToName:O,mergeValues:L,resultToName:Z}){return(Y,ue,te,ye)=>{const re=te===void 0?ue:te instanceof e.Name?(ue instanceof e.Name?y(Y,ue,te):O(Y,ue,te),te):ue instanceof e.Name?(O(Y,te,ue),ue):L(ue,te);return ye===e.Name&&!(re instanceof e.Name)?Z(Y,re):re}}t.mergeEvaluated={props:v({mergeNames:(y,O,L)=>y.if((0,e._)`${L} !== true && ${O} !== undefined`,()=>{y.if((0,e._)`${O} === true`,()=>y.assign(L,!0),()=>y.assign(L,(0,e._)`${L} || {}`).code((0,e._)`Object.assign(${L}, ${O})`))}),mergeToName:(y,O,L)=>y.if((0,e._)`${L} !== true`,()=>{O===!0?y.assign(L,!0):(y.assign(L,(0,e._)`${L} || {}`),_(y,L,O))}),mergeValues:(y,O)=>y===!0?!0:Oe(Oe({},y),O),resultToName:g}),items:v({mergeNames:(y,O,L)=>y.if((0,e._)`${L} !== true && ${O} !== undefined`,()=>y.assign(L,(0,e._)`${O} === true ? true : ${L} > ${O} ? ${L} : ${O}`)),mergeToName:(y,O,L)=>y.if((0,e._)`${L} !== true`,()=>y.assign(L,O===!0?!0:(0,e._)`${L} > ${O} ? ${L} : ${O}`)),mergeValues:(y,O)=>y===!0?!0:Math.max(y,O),resultToName:(y,O)=>y.var("items",O)})};function g(y,O){if(O===!0)return y.var("props",!0);const L=y.var("props",(0,e._)`{}`);return O!==void 0&&_(y,L,O),L}t.evaluatedPropsToName=g;function _(y,O,L){Object.keys(L).forEach(Z=>y.assign((0,e._)`${O}${(0,e.getProperty)(Z)}`,!0))}t.setEvaluated=_;const d={};function $(y,O){return y.scopeValue("func",{ref:O,code:d[O.code]||(d[O.code]=new r._Code(O.code))})}t.useFunc=$;var P;(function(y){y[y.Num=0]="Num",y[y.Str=1]="Str"})(P=t.Type||(t.Type={}));function S(y,O,L){if(y instanceof e.Name){const Z=O===P.Num;return L?Z?(0,e._)`"[" + ${y} + "]"`:(0,e._)`"['" + ${y} + "']"`:Z?(0,e._)`"/" + ${y}`:(0,e._)`"/" + ${y}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return L?(0,e.getProperty)(y).toString():"/"+f(y)}t.getErrorPath=S;function A(y,O,L=y.opts.strictSchema){if(!!L){if(O=`strict mode: ${O}`,L===!0)throw new Error(O);y.self.logger.warn(O)}}t.checkStrictMode=A})(de);var Nt={};Object.defineProperty(Nt,"__esModule",{value:!0});const Qe=le,Li={data:new Qe.Name("data"),valCxt:new Qe.Name("valCxt"),instancePath:new Qe.Name("instancePath"),parentData:new Qe.Name("parentData"),parentDataProperty:new Qe.Name("parentDataProperty"),rootData:new Qe.Name("rootData"),dynamicAnchors:new Qe.Name("dynamicAnchors"),vErrors:new Qe.Name("vErrors"),errors:new Qe.Name("errors"),this:new Qe.Name("this"),self:new Qe.Name("self"),scope:new Qe.Name("scope"),json:new Qe.Name("json"),jsonPos:new Qe.Name("jsonPos"),jsonLen:new Qe.Name("jsonLen"),jsonPart:new Qe.Name("jsonPart")};Nt.default=Li;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.extendErrors=t.resetErrorsCount=t.reportExtraError=t.reportError=t.keyword$DataError=t.keywordError=void 0;const e=le,r=de,n=Nt;t.keywordError={message:({keyword:_})=>(0,e.str)`must pass "${_}" keyword validation`},t.keyword$DataError={message:({keyword:_,schemaType:d})=>d?(0,e.str)`"${_}" keyword must be ${d} ($data)`:(0,e.str)`"${_}" keyword is invalid ($data)`};function s(_,d=t.keywordError,$,P){const{it:S}=_,{gen:A,compositeRule:y,allErrors:O}=S,L=f(_,d,$);(P!=null?P:y||O)?l(A,L):c(S,(0,e._)`[${L}]`)}t.reportError=s;function o(_,d=t.keywordError,$){const{it:P}=_,{gen:S,compositeRule:A,allErrors:y}=P,O=f(_,d,$);l(S,O),A||y||c(P,n.default.vErrors)}t.reportExtraError=o;function a(_,d){_.assign(n.default.errors,d),_.if((0,e._)`${n.default.vErrors} !== null`,()=>_.if(d,()=>_.assign((0,e._)`${n.default.vErrors}.length`,d),()=>_.assign(n.default.vErrors,null)))}t.resetErrorsCount=a;function i({gen:_,keyword:d,schemaValue:$,data:P,errsCount:S,it:A}){if(S===void 0)throw new Error("ajv implementation error");const y=_.name("err");_.forRange("i",S,n.default.errors,O=>{_.const(y,(0,e._)`${n.default.vErrors}[${O}]`),_.if((0,e._)`${y}.instancePath === undefined`,()=>_.assign((0,e._)`${y}.instancePath`,(0,e.strConcat)(n.default.instancePath,A.errorPath))),_.assign((0,e._)`${y}.schemaPath`,(0,e.str)`${A.errSchemaPath}/${d}`),A.opts.verbose&&(_.assign((0,e._)`${y}.schema`,$),_.assign((0,e._)`${y}.data`,P))})}t.extendErrors=i;function l(_,d){const $=_.const("err",d);_.if((0,e._)`${n.default.vErrors} === null`,()=>_.assign(n.default.vErrors,(0,e._)`[${$}]`),(0,e._)`${n.default.vErrors}.push(${$})`),_.code((0,e._)`${n.default.errors}++`)}function c(_,d){const{gen:$,validateName:P,schemaEnv:S}=_;S.$async?$.throw((0,e._)`new ${_.ValidationError}(${d})`):($.assign((0,e._)`${P}.errors`,d),$.return(!1))}const u={keyword:new e.Name("keyword"),schemaPath:new e.Name("schemaPath"),params:new e.Name("params"),propertyName:new e.Name("propertyName"),message:new e.Name("message"),schema:new e.Name("schema"),parentSchema:new e.Name("parentSchema")};function f(_,d,$){const{createErrors:P}=_.it;return P===!1?(0,e._)`{}`:m(_,d,$)}function m(_,d,$={}){const{gen:P,it:S}=_,A=[b(S,$),v(_,$)];return g(_,d,A),P.object(...A)}function b({errorPath:_},{instancePath:d}){const $=d?(0,e.str)`${_}${(0,r.getErrorPath)(d,r.Type.Str)}`:_;return[n.default.instancePath,(0,e.strConcat)(n.default.instancePath,$)]}function v({keyword:_,it:{errSchemaPath:d}},{schemaPath:$,parentSchema:P}){let S=P?d:(0,e.str)`${d}/${_}`;return $&&(S=(0,e.str)`${S}${(0,r.getErrorPath)($,r.Type.Str)}`),[u.schemaPath,S]}function g(_,{params:d,message:$},P){const{keyword:S,data:A,schemaValue:y,it:O}=_,{opts:L,propertyName:Z,topSchemaRef:Y,schemaPath:ue}=O;P.push([u.keyword,S],[u.params,typeof d=="function"?d(_):d||(0,e._)`{}`]),L.messages&&P.push([u.message,typeof $=="function"?$(_):$]),L.verbose&&P.push([u.schema,y],[u.parentSchema,(0,e._)`${Y}${ue}`],[n.default.data,A]),Z&&P.push([u.propertyName,Z])}})(Dr);Object.defineProperty(pr,"__esModule",{value:!0});pr.boolOrEmptySchema=pr.topBoolOrEmptySchema=void 0;const Ui=Dr,qi=le,Bi=Nt,Ki={message:"boolean schema is false"};function Wi(t){const{gen:e,schema:r,validateName:n}=t;r===!1?sa(t,!1):typeof r=="object"&&r.$async===!0?e.return(Bi.default.data):(e.assign((0,qi._)`${n}.errors`,null),e.return(!0))}pr.topBoolOrEmptySchema=Wi;function Hi(t,e){const{gen:r,schema:n}=t;n===!1?(r.var(e,!1),sa(t)):r.var(e,!0)}pr.boolOrEmptySchema=Hi;function sa(t,e){const{gen:r,data:n}=t,s={gen:r,keyword:"false schema",data:n,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:t};(0,Ui.reportError)(s,Ki,void 0,e)}var Mr={},er={};Object.defineProperty(er,"__esModule",{value:!0});er.getRules=er.isJSONType=void 0;const Gi=["string","number","integer","boolean","null","object","array"],Ji=new Set(Gi);function Xi(t){return typeof t=="string"&&Ji.has(t)}er.isJSONType=Xi;function Yi(){const t={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:jt(Oe({},t),{integer:!0,boolean:!0,null:!0}),rules:[{rules:[]},t.number,t.string,t.array,t.object],post:{rules:[]},all:{},keywords:{}}}er.getRules=Yi;var Dt={};Object.defineProperty(Dt,"__esModule",{value:!0});Dt.shouldUseRule=Dt.shouldUseGroup=Dt.schemaHasRulesForType=void 0;function Zi({schema:t,self:e},r){const n=e.RULES.types[r];return n&&n!==!0&&oa(t,n)}Dt.schemaHasRulesForType=Zi;function oa(t,e){return e.rules.some(r=>aa(t,r))}Dt.shouldUseGroup=oa;function aa(t,e){var r;return t[e.keyword]!==void 0||((r=e.definition.implements)===null||r===void 0?void 0:r.some(n=>t[n]!==void 0))}Dt.shouldUseRule=aa;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.reportTypeError=t.checkDataTypes=t.checkDataType=t.coerceAndCheckDataType=t.getJSONTypes=t.getSchemaTypes=t.DataType=void 0;const e=er,r=Dt,n=Dr,s=le,o=de;var a;(function(P){P[P.Correct=0]="Correct",P[P.Wrong=1]="Wrong"})(a=t.DataType||(t.DataType={}));function i(P){const S=l(P.type);if(S.includes("null")){if(P.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!S.length&&P.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');P.nullable===!0&&S.push("null")}return S}t.getSchemaTypes=i;function l(P){const S=Array.isArray(P)?P:P?[P]:[];if(S.every(e.isJSONType))return S;throw new Error("type must be JSONType or JSONType[]: "+S.join(","))}t.getJSONTypes=l;function c(P,S){const{gen:A,data:y,opts:O}=P,L=f(S,O.coerceTypes),Z=S.length>0&&!(L.length===0&&S.length===1&&(0,r.schemaHasRulesForType)(P,S[0]));if(Z){const Y=g(S,y,O.strictNumbers,a.Wrong);A.if(Y,()=>{L.length?m(P,S,L):d(P)})}return Z}t.coerceAndCheckDataType=c;const u=new Set(["string","number","integer","boolean","null"]);function f(P,S){return S?P.filter(A=>u.has(A)||S==="array"&&A==="array"):[]}function m(P,S,A){const{gen:y,data:O,opts:L}=P,Z=y.let("dataType",(0,s._)`typeof ${O}`),Y=y.let("coerced",(0,s._)`undefined`);L.coerceTypes==="array"&&y.if((0,s._)`${Z} == 'object' && Array.isArray(${O}) && ${O}.length == 1`,()=>y.assign(O,(0,s._)`${O}[0]`).assign(Z,(0,s._)`typeof ${O}`).if(g(S,O,L.strictNumbers),()=>y.assign(Y,O))),y.if((0,s._)`${Y} !== undefined`);for(const te of A)(u.has(te)||te==="array"&&L.coerceTypes==="array")&&ue(te);y.else(),d(P),y.endIf(),y.if((0,s._)`${Y} !== undefined`,()=>{y.assign(O,Y),b(P,Y)});function ue(te){switch(te){case"string":y.elseIf((0,s._)`${Z} == "number" || ${Z} == "boolean"`).assign(Y,(0,s._)`"" + ${O}`).elseIf((0,s._)`${O} === null`).assign(Y,(0,s._)`""`);return;case"number":y.elseIf((0,s._)`${Z} == "boolean" || ${O} === null
              || (${Z} == "string" && ${O} && ${O} == +${O})`).assign(Y,(0,s._)`+${O}`);return;case"integer":y.elseIf((0,s._)`${Z} === "boolean" || ${O} === null
              || (${Z} === "string" && ${O} && ${O} == +${O} && !(${O} % 1))`).assign(Y,(0,s._)`+${O}`);return;case"boolean":y.elseIf((0,s._)`${O} === "false" || ${O} === 0 || ${O} === null`).assign(Y,!1).elseIf((0,s._)`${O} === "true" || ${O} === 1`).assign(Y,!0);return;case"null":y.elseIf((0,s._)`${O} === "" || ${O} === 0 || ${O} === false`),y.assign(Y,null);return;case"array":y.elseIf((0,s._)`${Z} === "string" || ${Z} === "number"
              || ${Z} === "boolean" || ${O} === null`).assign(Y,(0,s._)`[${O}]`)}}}function b({gen:P,parentData:S,parentDataProperty:A},y){P.if((0,s._)`${S} !== undefined`,()=>P.assign((0,s._)`${S}[${A}]`,y))}function v(P,S,A,y=a.Correct){const O=y===a.Correct?s.operators.EQ:s.operators.NEQ;let L;switch(P){case"null":return(0,s._)`${S} ${O} null`;case"array":L=(0,s._)`Array.isArray(${S})`;break;case"object":L=(0,s._)`${S} && typeof ${S} == "object" && !Array.isArray(${S})`;break;case"integer":L=Z((0,s._)`!(${S} % 1) && !isNaN(${S})`);break;case"number":L=Z();break;default:return(0,s._)`typeof ${S} ${O} ${P}`}return y===a.Correct?L:(0,s.not)(L);function Z(Y=s.nil){return(0,s.and)((0,s._)`typeof ${S} == "number"`,Y,A?(0,s._)`isFinite(${S})`:s.nil)}}t.checkDataType=v;function g(P,S,A,y){if(P.length===1)return v(P[0],S,A,y);let O;const L=(0,o.toHash)(P);if(L.array&&L.object){const Z=(0,s._)`typeof ${S} != "object"`;O=L.null?Z:(0,s._)`!${S} || ${Z}`,delete L.null,delete L.array,delete L.object}else O=s.nil;L.number&&delete L.integer;for(const Z in L)O=(0,s.and)(O,v(Z,S,A,y));return O}t.checkDataTypes=g;const _={message:({schema:P})=>`must be ${P}`,params:({schema:P,schemaValue:S})=>typeof P=="string"?(0,s._)`{type: ${P}}`:(0,s._)`{type: ${S}}`};function d(P){const S=$(P);(0,n.reportError)(S,_)}t.reportTypeError=d;function $(P){const{gen:S,data:A,schema:y}=P,O=(0,o.schemaRefOrVal)(P,y,"type");return{gen:S,keyword:"type",data:A,schema:y.type,schemaCode:O,schemaValue:O,parentSchema:y,params:{},it:P}}})(Mr);var dn={};Object.defineProperty(dn,"__esModule",{value:!0});dn.assignDefaults=void 0;const ir=le,Qi=de;function xi(t,e){const{properties:r,items:n}=t.schema;if(e==="object"&&r)for(const s in r)Us(t,s,r[s].default);else e==="array"&&Array.isArray(n)&&n.forEach((s,o)=>Us(t,o,s.default))}dn.assignDefaults=xi;function Us(t,e,r){const{gen:n,compositeRule:s,data:o,opts:a}=t;if(r===void 0)return;const i=(0,ir._)`${o}${(0,ir.getProperty)(e)}`;if(s){(0,Qi.checkStrictMode)(t,`default is ignored for: ${i}`);return}let l=(0,ir._)`${i} === undefined`;a.useDefaults==="empty"&&(l=(0,ir._)`${l} || ${i} === null || ${i} === ""`),n.if(l,(0,ir._)`${i} = ${(0,ir.stringify)(r)}`)}var Ct={},ie={};Object.defineProperty(ie,"__esModule",{value:!0});ie.validateUnion=ie.validateArray=ie.usePattern=ie.callValidateCode=ie.schemaProperties=ie.allSchemaProperties=ie.noPropertyInData=ie.propertyInData=ie.isOwnProperty=ie.hasPropFunc=ie.reportMissingProp=ie.checkMissingProp=ie.checkReportMissingProp=void 0;const Ee=le,Un=de,Ft=Nt,el=de;function tl(t,e){const{gen:r,data:n,it:s}=t;r.if(Bn(r,n,e,s.opts.ownProperties),()=>{t.setParams({missingProperty:(0,Ee._)`${e}`},!0),t.error()})}ie.checkReportMissingProp=tl;function rl({gen:t,data:e,it:{opts:r}},n,s){return(0,Ee.or)(...n.map(o=>(0,Ee.and)(Bn(t,e,o,r.ownProperties),(0,Ee._)`${s} = ${o}`)))}ie.checkMissingProp=rl;function nl(t,e){t.setParams({missingProperty:e},!0),t.error()}ie.reportMissingProp=nl;function ia(t){return t.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,Ee._)`Object.prototype.hasOwnProperty`})}ie.hasPropFunc=ia;function qn(t,e,r){return(0,Ee._)`${ia(t)}.call(${e}, ${r})`}ie.isOwnProperty=qn;function sl(t,e,r,n){const s=(0,Ee._)`${e}${(0,Ee.getProperty)(r)} !== undefined`;return n?(0,Ee._)`${s} && ${qn(t,e,r)}`:s}ie.propertyInData=sl;function Bn(t,e,r,n){const s=(0,Ee._)`${e}${(0,Ee.getProperty)(r)} === undefined`;return n?(0,Ee.or)(s,(0,Ee.not)(qn(t,e,r))):s}ie.noPropertyInData=Bn;function la(t){return t?Object.keys(t).filter(e=>e!=="__proto__"):[]}ie.allSchemaProperties=la;function ol(t,e){return la(e).filter(r=>!(0,Un.alwaysValidSchema)(t,e[r]))}ie.schemaProperties=ol;function al({schemaCode:t,data:e,it:{gen:r,topSchemaRef:n,schemaPath:s,errorPath:o},it:a},i,l,c){const u=c?(0,Ee._)`${t}, ${e}, ${n}${s}`:e,f=[[Ft.default.instancePath,(0,Ee.strConcat)(Ft.default.instancePath,o)],[Ft.default.parentData,a.parentData],[Ft.default.parentDataProperty,a.parentDataProperty],[Ft.default.rootData,Ft.default.rootData]];a.opts.dynamicRef&&f.push([Ft.default.dynamicAnchors,Ft.default.dynamicAnchors]);const m=(0,Ee._)`${u}, ${r.object(...f)}`;return l!==Ee.nil?(0,Ee._)`${i}.call(${l}, ${m})`:(0,Ee._)`${i}(${m})`}ie.callValidateCode=al;const il=(0,Ee._)`new RegExp`;function ll({gen:t,it:{opts:e}},r){const n=e.unicodeRegExp?"u":"",{regExp:s}=e.code,o=s(r,n);return t.scopeValue("pattern",{key:o.toString(),ref:o,code:(0,Ee._)`${s.code==="new RegExp"?il:(0,el.useFunc)(t,s)}(${r}, ${n})`})}ie.usePattern=ll;function cl(t){const{gen:e,data:r,keyword:n,it:s}=t,o=e.name("valid");if(s.allErrors){const i=e.let("valid",!0);return a(()=>e.assign(i,!1)),i}return e.var(o,!0),a(()=>e.break()),o;function a(i){const l=e.const("len",(0,Ee._)`${r}.length`);e.forRange("i",0,l,c=>{t.subschema({keyword:n,dataProp:c,dataPropType:Un.Type.Num},o),e.if((0,Ee.not)(o),i)})}}ie.validateArray=cl;function ul(t){const{gen:e,schema:r,keyword:n,it:s}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(l=>(0,Un.alwaysValidSchema)(s,l))&&!s.opts.unevaluated)return;const a=e.let("valid",!1),i=e.name("_valid");e.block(()=>r.forEach((l,c)=>{const u=t.subschema({keyword:n,schemaProp:c,compositeRule:!0},i);e.assign(a,(0,Ee._)`${a} || ${i}`),t.mergeValidEvaluated(u,i)||e.if((0,Ee.not)(a))})),t.result(a,()=>t.reset(),()=>t.error(!0))}ie.validateUnion=ul;Object.defineProperty(Ct,"__esModule",{value:!0});Ct.validateKeywordUsage=Ct.validSchemaType=Ct.funcKeywordCode=Ct.macroKeywordCode=void 0;const et=le,Yt=Nt,fl=ie,dl=Dr;function hl(t,e){const{gen:r,keyword:n,schema:s,parentSchema:o,it:a}=t,i=e.macro.call(a.self,s,o,a),l=ca(r,n,i);a.opts.validateSchema!==!1&&a.self.validateSchema(i,!0);const c=r.name("valid");t.subschema({schema:i,schemaPath:et.nil,errSchemaPath:`${a.errSchemaPath}/${n}`,topSchemaRef:l,compositeRule:!0},c),t.pass(c,()=>t.error(!0))}Ct.macroKeywordCode=hl;function ml(t,e){var r;const{gen:n,keyword:s,schema:o,parentSchema:a,$data:i,it:l}=t;_l(l,e);const c=!i&&e.compile?e.compile.call(l.self,o,a,l):e.validate,u=ca(n,s,c),f=n.let("valid");t.block$data(f,m),t.ok((r=e.valid)!==null&&r!==void 0?r:f);function m(){if(e.errors===!1)g(),e.modifying&&qs(t),_(()=>t.error());else{const d=e.async?b():v();e.modifying&&qs(t),_(()=>pl(t,d))}}function b(){const d=n.let("ruleErrs",null);return n.try(()=>g((0,et._)`await `),$=>n.assign(f,!1).if((0,et._)`${$} instanceof ${l.ValidationError}`,()=>n.assign(d,(0,et._)`${$}.errors`),()=>n.throw($))),d}function v(){const d=(0,et._)`${u}.errors`;return n.assign(d,null),g(et.nil),d}function g(d=e.async?(0,et._)`await `:et.nil){const $=l.opts.passContext?Yt.default.this:Yt.default.self,P=!("compile"in e&&!i||e.schema===!1);n.assign(f,(0,et._)`${d}${(0,fl.callValidateCode)(t,u,$,P)}`,e.modifying)}function _(d){var $;n.if((0,et.not)(($=e.valid)!==null&&$!==void 0?$:f),d)}}Ct.funcKeywordCode=ml;function qs(t){const{gen:e,data:r,it:n}=t;e.if(n.parentData,()=>e.assign(r,(0,et._)`${n.parentData}[${n.parentDataProperty}]`))}function pl(t,e){const{gen:r}=t;r.if((0,et._)`Array.isArray(${e})`,()=>{r.assign(Yt.default.vErrors,(0,et._)`${Yt.default.vErrors} === null ? ${e} : ${Yt.default.vErrors}.concat(${e})`).assign(Yt.default.errors,(0,et._)`${Yt.default.vErrors}.length`),(0,dl.extendErrors)(t)},()=>t.error())}function _l({schemaEnv:t},e){if(e.async&&!t.$async)throw new Error("async keyword in sync schema")}function ca(t,e,r){if(r===void 0)throw new Error(`keyword "${e}" failed to compile`);return t.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,et.stringify)(r)})}function gl(t,e,r=!1){return!e.length||e.some(n=>n==="array"?Array.isArray(t):n==="object"?t&&typeof t=="object"&&!Array.isArray(t):typeof t==n||r&&typeof t=="undefined")}Ct.validSchemaType=gl;function vl({schema:t,opts:e,self:r,errSchemaPath:n},s,o){if(Array.isArray(s.keyword)?!s.keyword.includes(o):s.keyword!==o)throw new Error("ajv implementation error");const a=s.dependencies;if(a!=null&&a.some(i=>!Object.prototype.hasOwnProperty.call(t,i)))throw new Error(`parent schema must have dependencies of ${o}: ${a.join(",")}`);if(s.validateSchema&&!s.validateSchema(t[o])){const l=`keyword "${o}" value is invalid at path "${n}": `+r.errorsText(s.validateSchema.errors);if(e.validateSchema==="log")r.logger.error(l);else throw new Error(l)}}Ct.validateKeywordUsage=vl;var qt={};Object.defineProperty(qt,"__esModule",{value:!0});qt.extendSubschemaMode=qt.extendSubschemaData=qt.getSubschema=void 0;const Pt=le,ua=de;function yl(t,{keyword:e,schemaProp:r,schema:n,schemaPath:s,errSchemaPath:o,topSchemaRef:a}){if(e!==void 0&&n!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(e!==void 0){const i=t.schema[e];return r===void 0?{schema:i,schemaPath:(0,Pt._)`${t.schemaPath}${(0,Pt.getProperty)(e)}`,errSchemaPath:`${t.errSchemaPath}/${e}`}:{schema:i[r],schemaPath:(0,Pt._)`${t.schemaPath}${(0,Pt.getProperty)(e)}${(0,Pt.getProperty)(r)}`,errSchemaPath:`${t.errSchemaPath}/${e}/${(0,ua.escapeFragment)(r)}`}}if(n!==void 0){if(s===void 0||o===void 0||a===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:n,schemaPath:s,topSchemaRef:a,errSchemaPath:o}}throw new Error('either "keyword" or "schema" must be passed')}qt.getSubschema=yl;function bl(t,e,{dataProp:r,dataPropType:n,data:s,dataTypes:o,propertyName:a}){if(s!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:i}=e;if(r!==void 0){const{errorPath:c,dataPathArr:u,opts:f}=e,m=i.let("data",(0,Pt._)`${e.data}${(0,Pt.getProperty)(r)}`,!0);l(m),t.errorPath=(0,Pt.str)`${c}${(0,ua.getErrorPath)(r,n,f.jsPropertySyntax)}`,t.parentDataProperty=(0,Pt._)`${r}`,t.dataPathArr=[...u,t.parentDataProperty]}if(s!==void 0){const c=s instanceof Pt.Name?s:i.let("data",s,!0);l(c),a!==void 0&&(t.propertyName=a)}o&&(t.dataTypes=o);function l(c){t.data=c,t.dataLevel=e.dataLevel+1,t.dataTypes=[],e.definedProperties=new Set,t.parentData=e.data,t.dataNames=[...e.dataNames,c]}}qt.extendSubschemaData=bl;function $l(t,{jtdDiscriminator:e,jtdMetadata:r,compositeRule:n,createErrors:s,allErrors:o}){n!==void 0&&(t.compositeRule=n),s!==void 0&&(t.createErrors=s),o!==void 0&&(t.allErrors=o),t.jtdDiscriminator=e,t.jtdMetadata=r}qt.extendSubschemaMode=$l;var He={},fa=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var n,s,o;if(Array.isArray(e)){if(n=e.length,n!=r.length)return!1;for(s=n;s--!==0;)if(!t(e[s],r[s]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(o=Object.keys(e),n=o.length,n!==Object.keys(r).length)return!1;for(s=n;s--!==0;)if(!Object.prototype.hasOwnProperty.call(r,o[s]))return!1;for(s=n;s--!==0;){var a=o[s];if(!t(e[a],r[a]))return!1}return!0}return e!==e&&r!==r},da={exports:{}},Ut=da.exports=function(t,e,r){typeof e=="function"&&(r=e,e={}),r=e.cb||r;var n=typeof r=="function"?r:r.pre||function(){},s=r.post||function(){};xr(e,n,s,t,"",t)};Ut.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};Ut.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};Ut.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};Ut.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function xr(t,e,r,n,s,o,a,i,l,c){if(n&&typeof n=="object"&&!Array.isArray(n)){e(n,s,o,a,i,l,c);for(var u in n){var f=n[u];if(Array.isArray(f)){if(u in Ut.arrayKeywords)for(var m=0;m<f.length;m++)xr(t,e,r,f[m],s+"/"+u+"/"+m,o,s,u,n,m)}else if(u in Ut.propsKeywords){if(f&&typeof f=="object")for(var b in f)xr(t,e,r,f[b],s+"/"+u+"/"+wl(b),o,s,u,n,b)}else(u in Ut.keywords||t.allKeys&&!(u in Ut.skipKeywords))&&xr(t,e,r,f,s+"/"+u,o,s,u,n)}r(n,s,o,a,i,l,c)}}function wl(t){return t.replace(/~/g,"~0").replace(/\//g,"~1")}Object.defineProperty(He,"__esModule",{value:!0});He.getSchemaRefs=He.resolveUrl=He.normalizeId=He._getFullPath=He.getFullPath=He.inlineRef=void 0;const kl=de,El=fa,Sl=da.exports,Pl=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function Cl(t,e=!0){return typeof t=="boolean"?!0:e===!0?!In(t):e?ha(t)<=e:!1}He.inlineRef=Cl;const Nl=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function In(t){for(const e in t){if(Nl.has(e))return!0;const r=t[e];if(Array.isArray(r)&&r.some(In)||typeof r=="object"&&In(r))return!0}return!1}function ha(t){let e=0;for(const r in t){if(r==="$ref")return 1/0;if(e++,!Pl.has(r)&&(typeof t[r]=="object"&&(0,kl.eachItem)(t[r],n=>e+=ha(n)),e===1/0))return 1/0}return e}function ma(t,e="",r){r!==!1&&(e=mr(e));const n=t.parse(e);return pa(t,n)}He.getFullPath=ma;function pa(t,e){return t.serialize(e).split("#")[0]+"#"}He._getFullPath=pa;const Ol=/#\/?$/;function mr(t){return t?t.replace(Ol,""):""}He.normalizeId=mr;function Tl(t,e,r){return r=mr(r),t.resolve(e,r)}He.resolveUrl=Tl;const Al=/^[a-z_][-a-z0-9._]*$/i;function jl(t,e){if(typeof t=="boolean")return{};const{schemaId:r,uriResolver:n}=this.opts,s=mr(t[r]||e),o={"":s},a=ma(n,s,!1),i={},l=new Set;return Sl(t,{allKeys:!0},(f,m,b,v)=>{if(v===void 0)return;const g=a+m;let _=o[v];typeof f[r]=="string"&&(_=d.call(this,f[r])),$.call(this,f.$anchor),$.call(this,f.$dynamicAnchor),o[m]=_;function d(P){const S=this.opts.uriResolver.resolve;if(P=mr(_?S(_,P):P),l.has(P))throw u(P);l.add(P);let A=this.refs[P];return typeof A=="string"&&(A=this.refs[A]),typeof A=="object"?c(f,A.schema,P):P!==mr(g)&&(P[0]==="#"?(c(f,i[P],P),i[P]=f):this.refs[P]=g),P}function $(P){if(typeof P=="string"){if(!Al.test(P))throw new Error(`invalid anchor "${P}"`);d.call(this,`#${P}`)}}}),i;function c(f,m,b){if(m!==void 0&&!El(f,m))throw u(b)}function u(f){return new Error(`reference "${f}" resolves to more than one schema`)}}He.getSchemaRefs=jl;Object.defineProperty($t,"__esModule",{value:!0});$t.getData=$t.KeywordCxt=$t.validateFunctionCode=void 0;const _a=pr,Bs=Mr,Kn=Dt,on=Mr,Rl=dn,Cr=Ct,En=qt,Q=le,ne=Nt,Il=He,Mt=de,kr=Dr;function Dl(t){if(ya(t)&&(ba(t),va(t))){Vl(t);return}ga(t,()=>(0,_a.topBoolOrEmptySchema)(t))}$t.validateFunctionCode=Dl;function ga({gen:t,validateName:e,schema:r,schemaEnv:n,opts:s},o){s.code.es5?t.func(e,(0,Q._)`${ne.default.data}, ${ne.default.valCxt}`,n.$async,()=>{t.code((0,Q._)`"use strict"; ${Ks(r,s)}`),zl(t,s),t.code(o)}):t.func(e,(0,Q._)`${ne.default.data}, ${Ml(s)}`,n.$async,()=>t.code(Ks(r,s)).code(o))}function Ml(t){return(0,Q._)`{${ne.default.instancePath}="", ${ne.default.parentData}, ${ne.default.parentDataProperty}, ${ne.default.rootData}=${ne.default.data}${t.dynamicRef?(0,Q._)`, ${ne.default.dynamicAnchors}={}`:Q.nil}}={}`}function zl(t,e){t.if(ne.default.valCxt,()=>{t.var(ne.default.instancePath,(0,Q._)`${ne.default.valCxt}.${ne.default.instancePath}`),t.var(ne.default.parentData,(0,Q._)`${ne.default.valCxt}.${ne.default.parentData}`),t.var(ne.default.parentDataProperty,(0,Q._)`${ne.default.valCxt}.${ne.default.parentDataProperty}`),t.var(ne.default.rootData,(0,Q._)`${ne.default.valCxt}.${ne.default.rootData}`),e.dynamicRef&&t.var(ne.default.dynamicAnchors,(0,Q._)`${ne.default.valCxt}.${ne.default.dynamicAnchors}`)},()=>{t.var(ne.default.instancePath,(0,Q._)`""`),t.var(ne.default.parentData,(0,Q._)`undefined`),t.var(ne.default.parentDataProperty,(0,Q._)`undefined`),t.var(ne.default.rootData,ne.default.data),e.dynamicRef&&t.var(ne.default.dynamicAnchors,(0,Q._)`{}`)})}function Vl(t){const{schema:e,opts:r,gen:n}=t;ga(t,()=>{r.$comment&&e.$comment&&wa(t),Bl(t),n.let(ne.default.vErrors,null),n.let(ne.default.errors,0),r.unevaluated&&Fl(t),$a(t),Hl(t)})}function Fl(t){const{gen:e,validateName:r}=t;t.evaluated=e.const("evaluated",(0,Q._)`${r}.evaluated`),e.if((0,Q._)`${t.evaluated}.dynamicProps`,()=>e.assign((0,Q._)`${t.evaluated}.props`,(0,Q._)`undefined`)),e.if((0,Q._)`${t.evaluated}.dynamicItems`,()=>e.assign((0,Q._)`${t.evaluated}.items`,(0,Q._)`undefined`))}function Ks(t,e){const r=typeof t=="object"&&t[e.schemaId];return r&&(e.code.source||e.code.process)?(0,Q._)`/*# sourceURL=${r} */`:Q.nil}function Ll(t,e){if(ya(t)&&(ba(t),va(t))){Ul(t,e);return}(0,_a.boolOrEmptySchema)(t,e)}function va({schema:t,self:e}){if(typeof t=="boolean")return!t;for(const r in t)if(e.RULES.all[r])return!0;return!1}function ya(t){return typeof t.schema!="boolean"}function Ul(t,e){const{schema:r,gen:n,opts:s}=t;s.$comment&&r.$comment&&wa(t),Kl(t),Wl(t);const o=n.const("_errs",ne.default.errors);$a(t,o),n.var(e,(0,Q._)`${o} === ${ne.default.errors}`)}function ba(t){(0,Mt.checkUnknownRules)(t),ql(t)}function $a(t,e){if(t.opts.jtd)return Ws(t,[],!1,e);const r=(0,Bs.getSchemaTypes)(t.schema),n=(0,Bs.coerceAndCheckDataType)(t,r);Ws(t,r,!n,e)}function ql(t){const{schema:e,errSchemaPath:r,opts:n,self:s}=t;e.$ref&&n.ignoreKeywordsWithRef&&(0,Mt.schemaHasRulesButRef)(e,s.RULES)&&s.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function Bl(t){const{schema:e,opts:r}=t;e.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,Mt.checkStrictMode)(t,"default is ignored in the schema root")}function Kl(t){const e=t.schema[t.opts.schemaId];e&&(t.baseId=(0,Il.resolveUrl)(t.opts.uriResolver,t.baseId,e))}function Wl(t){if(t.schema.$async&&!t.schemaEnv.$async)throw new Error("async schema in sync schema")}function wa({gen:t,schemaEnv:e,schema:r,errSchemaPath:n,opts:s}){const o=r.$comment;if(s.$comment===!0)t.code((0,Q._)`${ne.default.self}.logger.log(${o})`);else if(typeof s.$comment=="function"){const a=(0,Q.str)`${n}/$comment`,i=t.scopeValue("root",{ref:e.root});t.code((0,Q._)`${ne.default.self}.opts.$comment(${o}, ${a}, ${i}.schema)`)}}function Hl(t){const{gen:e,schemaEnv:r,validateName:n,ValidationError:s,opts:o}=t;r.$async?e.if((0,Q._)`${ne.default.errors} === 0`,()=>e.return(ne.default.data),()=>e.throw((0,Q._)`new ${s}(${ne.default.vErrors})`)):(e.assign((0,Q._)`${n}.errors`,ne.default.vErrors),o.unevaluated&&Gl(t),e.return((0,Q._)`${ne.default.errors} === 0`))}function Gl({gen:t,evaluated:e,props:r,items:n}){r instanceof Q.Name&&t.assign((0,Q._)`${e}.props`,r),n instanceof Q.Name&&t.assign((0,Q._)`${e}.items`,n)}function Ws(t,e,r,n){const{gen:s,schema:o,data:a,allErrors:i,opts:l,self:c}=t,{RULES:u}=c;if(o.$ref&&(l.ignoreKeywordsWithRef||!(0,Mt.schemaHasRulesButRef)(o,u))){s.block(()=>Ea(t,"$ref",u.all.$ref.definition));return}l.jtd||Jl(t,e),s.block(()=>{for(const m of u.rules)f(m);f(u.post)});function f(m){!(0,Kn.shouldUseGroup)(o,m)||(m.type?(s.if((0,on.checkDataType)(m.type,a,l.strictNumbers)),Hs(t,m),e.length===1&&e[0]===m.type&&r&&(s.else(),(0,on.reportTypeError)(t)),s.endIf()):Hs(t,m),i||s.if((0,Q._)`${ne.default.errors} === ${n||0}`))}}function Hs(t,e){const{gen:r,schema:n,opts:{useDefaults:s}}=t;s&&(0,Rl.assignDefaults)(t,e.type),r.block(()=>{for(const o of e.rules)(0,Kn.shouldUseRule)(n,o)&&Ea(t,o.keyword,o.definition,e.type)})}function Jl(t,e){t.schemaEnv.meta||!t.opts.strictTypes||(Xl(t,e),t.opts.allowUnionTypes||Yl(t,e),Zl(t,t.dataTypes))}function Xl(t,e){if(!!e.length){if(!t.dataTypes.length){t.dataTypes=e;return}e.forEach(r=>{Gs(t.dataTypes,r)||Wn(t,`type "${r}" not allowed by context "${t.dataTypes.join(",")}"`)}),t.dataTypes=t.dataTypes.filter(r=>Gs(e,r))}}function Yl(t,e){e.length>1&&!(e.length===2&&e.includes("null"))&&Wn(t,"use allowUnionTypes to allow union type keyword")}function Zl(t,e){const r=t.self.RULES.all;for(const n in r){const s=r[n];if(typeof s=="object"&&(0,Kn.shouldUseRule)(t.schema,s)){const{type:o}=s.definition;o.length&&!o.some(a=>Ql(e,a))&&Wn(t,`missing type "${o.join(",")}" for keyword "${n}"`)}}}function Ql(t,e){return t.includes(e)||e==="number"&&t.includes("integer")}function Gs(t,e){return t.includes(e)||e==="integer"&&t.includes("number")}function Wn(t,e){e+=` at "${t.schemaEnv.baseId+t.errSchemaPath}" (strictTypes)`,(0,Mt.checkStrictMode)(t,e,t.opts.strictTypes)}class ka{constructor(e,r,n){if((0,Cr.validateKeywordUsage)(e,r,n),this.gen=e.gen,this.allErrors=e.allErrors,this.keyword=n,this.data=e.data,this.schema=e.schema[n],this.$data=r.$data&&e.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,Mt.schemaRefOrVal)(e,this.schema,n,this.$data),this.schemaType=r.schemaType,this.parentSchema=e.schema,this.params={},this.it=e,this.def=r,this.$data)this.schemaCode=e.gen.const("vSchema",Sa(this.$data,e));else if(this.schemaCode=this.schemaValue,!(0,Cr.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=e.gen.const("_errs",ne.default.errors))}result(e,r,n){this.failResult((0,Q.not)(e),r,n)}failResult(e,r,n){this.gen.if(e),n?n():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(e,r){this.failResult((0,Q.not)(e),void 0,r)}fail(e){if(e===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(e),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(e){if(!this.$data)return this.fail(e);const{schemaCode:r}=this;this.fail((0,Q._)`${r} !== undefined && (${(0,Q.or)(this.invalid$data(),e)})`)}error(e,r,n){if(r){this.setParams(r),this._error(e,n),this.setParams({});return}this._error(e,n)}_error(e,r){(e?kr.reportExtraError:kr.reportError)(this,this.def.error,r)}$dataError(){(0,kr.reportError)(this,this.def.$dataError||kr.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,kr.resetErrorsCount)(this.gen,this.errsCount)}ok(e){this.allErrors||this.gen.if(e)}setParams(e,r){r?Object.assign(this.params,e):this.params=e}block$data(e,r,n=Q.nil){this.gen.block(()=>{this.check$data(e,n),r()})}check$data(e=Q.nil,r=Q.nil){if(!this.$data)return;const{gen:n,schemaCode:s,schemaType:o,def:a}=this;n.if((0,Q.or)((0,Q._)`${s} === undefined`,r)),e!==Q.nil&&n.assign(e,!0),(o.length||a.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),e!==Q.nil&&n.assign(e,!1)),n.else()}invalid$data(){const{gen:e,schemaCode:r,schemaType:n,def:s,it:o}=this;return(0,Q.or)(a(),i());function a(){if(n.length){if(!(r instanceof Q.Name))throw new Error("ajv implementation error");const l=Array.isArray(n)?n:[n];return(0,Q._)`${(0,on.checkDataTypes)(l,r,o.opts.strictNumbers,on.DataType.Wrong)}`}return Q.nil}function i(){if(s.validateSchema){const l=e.scopeValue("validate$data",{ref:s.validateSchema});return(0,Q._)`!${l}(${r})`}return Q.nil}}subschema(e,r){const n=(0,En.getSubschema)(this.it,e);(0,En.extendSubschemaData)(n,this.it,e),(0,En.extendSubschemaMode)(n,e);const s=jt(Oe(Oe({},this.it),n),{items:void 0,props:void 0});return Ll(s,r),s}mergeEvaluated(e,r){const{it:n,gen:s}=this;!n.opts.unevaluated||(n.props!==!0&&e.props!==void 0&&(n.props=Mt.mergeEvaluated.props(s,e.props,n.props,r)),n.items!==!0&&e.items!==void 0&&(n.items=Mt.mergeEvaluated.items(s,e.items,n.items,r)))}mergeValidEvaluated(e,r){const{it:n,gen:s}=this;if(n.opts.unevaluated&&(n.props!==!0||n.items!==!0))return s.if(r,()=>this.mergeEvaluated(e,Q.Name)),!0}}$t.KeywordCxt=ka;function Ea(t,e,r,n){const s=new ka(t,r,e);"code"in r?r.code(s,n):s.$data&&r.validate?(0,Cr.funcKeywordCode)(s,r):"macro"in r?(0,Cr.macroKeywordCode)(s,r):(r.compile||r.validate)&&(0,Cr.funcKeywordCode)(s,r)}const xl=/^\/(?:[^~]|~0|~1)*$/,ec=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Sa(t,{dataLevel:e,dataNames:r,dataPathArr:n}){let s,o;if(t==="")return ne.default.rootData;if(t[0]==="/"){if(!xl.test(t))throw new Error(`Invalid JSON-pointer: ${t}`);s=t,o=ne.default.rootData}else{const c=ec.exec(t);if(!c)throw new Error(`Invalid JSON-pointer: ${t}`);const u=+c[1];if(s=c[2],s==="#"){if(u>=e)throw new Error(l("property/index",u));return n[e-u]}if(u>e)throw new Error(l("data",u));if(o=r[e-u],!s)return o}let a=o;const i=s.split("/");for(const c of i)c&&(o=(0,Q._)`${o}${(0,Q.getProperty)((0,Mt.unescapeJsonPointer)(c))}`,a=(0,Q._)`${a} && ${o}`);return a;function l(c,u){return`Cannot access ${c} ${u} levels up, current level is ${e}`}}$t.getData=Sa;var hn={};Object.defineProperty(hn,"__esModule",{value:!0});class tc extends Error{constructor(e){super("validation failed"),this.errors=e,this.ajv=this.validation=!0}}hn.default=tc;var mn={};Object.defineProperty(mn,"__esModule",{value:!0});const Sn=He;class rc extends Error{constructor(e,r,n,s){super(s||`can't resolve reference ${n} from id ${r}`),this.missingRef=(0,Sn.resolveUrl)(e,r,n),this.missingSchema=(0,Sn.normalizeId)((0,Sn.getFullPath)(e,this.missingRef))}}mn.default=rc;var st={};Object.defineProperty(st,"__esModule",{value:!0});st.resolveSchema=st.getCompilingSchema=st.resolveRef=st.compileSchema=st.SchemaEnv=void 0;const gt=le,nc=hn,Xt=Nt,bt=He,Js=de,sc=$t;class pn{constructor(e){var r;this.refs={},this.dynamicAnchors={};let n;typeof e.schema=="object"&&(n=e.schema),this.schema=e.schema,this.schemaId=e.schemaId,this.root=e.root||this,this.baseId=(r=e.baseId)!==null&&r!==void 0?r:(0,bt.normalizeId)(n==null?void 0:n[e.schemaId||"$id"]),this.schemaPath=e.schemaPath,this.localRefs=e.localRefs,this.meta=e.meta,this.$async=n==null?void 0:n.$async,this.refs={}}}st.SchemaEnv=pn;function Hn(t){const e=Pa.call(this,t);if(e)return e;const r=(0,bt.getFullPath)(this.opts.uriResolver,t.root.baseId),{es5:n,lines:s}=this.opts.code,{ownProperties:o}=this.opts,a=new gt.CodeGen(this.scope,{es5:n,lines:s,ownProperties:o});let i;t.$async&&(i=a.scopeValue("Error",{ref:nc.default,code:(0,gt._)`require("ajv/dist/runtime/validation_error").default`}));const l=a.scopeName("validate");t.validateName=l;const c={gen:a,allErrors:this.opts.allErrors,data:Xt.default.data,parentData:Xt.default.parentData,parentDataProperty:Xt.default.parentDataProperty,dataNames:[Xt.default.data],dataPathArr:[gt.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:a.scopeValue("schema",this.opts.code.source===!0?{ref:t.schema,code:(0,gt.stringify)(t.schema)}:{ref:t.schema}),validateName:l,ValidationError:i,schema:t.schema,schemaEnv:t,rootId:r,baseId:t.baseId||r,schemaPath:gt.nil,errSchemaPath:t.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,gt._)`""`,opts:this.opts,self:this};let u;try{this._compilations.add(t),(0,sc.validateFunctionCode)(c),a.optimize(this.opts.code.optimize);const f=a.toString();u=`${a.scopeRefs(Xt.default.scope)}return ${f}`,this.opts.code.process&&(u=this.opts.code.process(u,t));const b=new Function(`${Xt.default.self}`,`${Xt.default.scope}`,u)(this,this.scope.get());if(this.scope.value(l,{ref:b}),b.errors=null,b.schema=t.schema,b.schemaEnv=t,t.$async&&(b.$async=!0),this.opts.code.source===!0&&(b.source={validateName:l,validateCode:f,scopeValues:a._values}),this.opts.unevaluated){const{props:v,items:g}=c;b.evaluated={props:v instanceof gt.Name?void 0:v,items:g instanceof gt.Name?void 0:g,dynamicProps:v instanceof gt.Name,dynamicItems:g instanceof gt.Name},b.source&&(b.source.evaluated=(0,gt.stringify)(b.evaluated))}return t.validate=b,t}catch(f){throw delete t.validate,delete t.validateName,u&&this.logger.error("Error compiling schema, function code:",u),f}finally{this._compilations.delete(t)}}st.compileSchema=Hn;function oc(t,e,r){var n;r=(0,bt.resolveUrl)(this.opts.uriResolver,e,r);const s=t.refs[r];if(s)return s;let o=lc.call(this,t,r);if(o===void 0){const a=(n=t.localRefs)===null||n===void 0?void 0:n[r],{schemaId:i}=this.opts;a&&(o=new pn({schema:a,schemaId:i,root:t,baseId:e}))}if(o!==void 0)return t.refs[r]=ac.call(this,o)}st.resolveRef=oc;function ac(t){return(0,bt.inlineRef)(t.schema,this.opts.inlineRefs)?t.schema:t.validate?t:Hn.call(this,t)}function Pa(t){for(const e of this._compilations)if(ic(e,t))return e}st.getCompilingSchema=Pa;function ic(t,e){return t.schema===e.schema&&t.root===e.root&&t.baseId===e.baseId}function lc(t,e){let r;for(;typeof(r=this.refs[e])=="string";)e=r;return r||this.schemas[e]||_n.call(this,t,e)}function _n(t,e){const r=this.opts.uriResolver.parse(e),n=(0,bt._getFullPath)(this.opts.uriResolver,r);let s=(0,bt.getFullPath)(this.opts.uriResolver,t.baseId,void 0);if(Object.keys(t.schema).length>0&&n===s)return Pn.call(this,r,t);const o=(0,bt.normalizeId)(n),a=this.refs[o]||this.schemas[o];if(typeof a=="string"){const i=_n.call(this,t,a);return typeof(i==null?void 0:i.schema)!="object"?void 0:Pn.call(this,r,i)}if(typeof(a==null?void 0:a.schema)=="object"){if(a.validate||Hn.call(this,a),o===(0,bt.normalizeId)(e)){const{schema:i}=a,{schemaId:l}=this.opts,c=i[l];return c&&(s=(0,bt.resolveUrl)(this.opts.uriResolver,s,c)),new pn({schema:i,schemaId:l,root:t,baseId:s})}return Pn.call(this,r,a)}}st.resolveSchema=_n;const cc=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function Pn(t,{baseId:e,schema:r,root:n}){var s;if(((s=t.fragment)===null||s===void 0?void 0:s[0])!=="/")return;for(const i of t.fragment.slice(1).split("/")){if(typeof r=="boolean")return;const l=r[(0,Js.unescapeFragment)(i)];if(l===void 0)return;r=l;const c=typeof r=="object"&&r[this.opts.schemaId];!cc.has(i)&&c&&(e=(0,bt.resolveUrl)(this.opts.uriResolver,e,c))}let o;if(typeof r!="boolean"&&r.$ref&&!(0,Js.schemaHasRulesButRef)(r,this.RULES)){const i=(0,bt.resolveUrl)(this.opts.uriResolver,e,r.$ref);o=_n.call(this,n,i)}const{schemaId:a}=this.opts;if(o=o||new pn({schema:r,schemaId:a,root:n,baseId:e}),o.schema!==o.root.schema)return o}const uc="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",fc="Meta-schema for $data reference (JSON AnySchema extension proposal)",dc="object",hc=["$data"],mc={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},pc=!1;var _c={$id:uc,description:fc,type:dc,required:hc,properties:mc,additionalProperties:pc},Gn={},Dn={exports:{}};/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */(function(t,e){(function(r,n){n(e)})(Vi,function(r){function n(){for(var w=arguments.length,p=Array(w),E=0;E<w;E++)p[E]=arguments[E];if(p.length>1){p[0]=p[0].slice(0,-1);for(var z=p.length-1,M=1;M<z;++M)p[M]=p[M].slice(1,-1);return p[z]=p[z].slice(1),p.join("")}else return p[0]}function s(w){return"(?:"+w+")"}function o(w){return w===void 0?"undefined":w===null?"null":Object.prototype.toString.call(w).split(" ").pop().split("]").shift().toLowerCase()}function a(w){return w.toUpperCase()}function i(w){return w!=null?w instanceof Array?w:typeof w.length!="number"||w.split||w.setInterval||w.call?[w]:Array.prototype.slice.call(w):[]}function l(w,p){var E=w;if(p)for(var z in p)E[z]=p[z];return E}function c(w){var p="[A-Za-z]",E="[0-9]",z=n(E,"[A-Fa-f]"),M=s(s("%[EFef]"+z+"%"+z+z+"%"+z+z)+"|"+s("%[89A-Fa-f]"+z+"%"+z+z)+"|"+s("%"+z+z)),x="[\\:\\/\\?\\#\\[\\]\\@]",ee="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",fe=n(x,ee),ke=w?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",Re=w?"[\\uE000-\\uF8FF]":"[]",ce=n(p,E,"[\\-\\.\\_\\~]",ke);s(p+n(p,E,"[\\+\\-\\.]")+"*"),s(s(M+"|"+n(ce,ee,"[\\:]"))+"*");var $e=s(s("25[0-5]")+"|"+s("2[0-4]"+E)+"|"+s("1"+E+E)+"|"+s("0?[1-9]"+E)+"|0?0?"+E),Ie=s($e+"\\."+$e+"\\."+$e+"\\."+$e),se=s(z+"{1,4}"),Se=s(s(se+"\\:"+se)+"|"+Ie),Fe=s(s(se+"\\:")+"{6}"+Se),Pe=s("\\:\\:"+s(se+"\\:")+"{5}"+Se),Vt=s(s(se)+"?\\:\\:"+s(se+"\\:")+"{4}"+Se),wt=s(s(s(se+"\\:")+"{0,1}"+se)+"?\\:\\:"+s(se+"\\:")+"{3}"+Se),kt=s(s(s(se+"\\:")+"{0,2}"+se)+"?\\:\\:"+s(se+"\\:")+"{2}"+Se),ar=s(s(s(se+"\\:")+"{0,3}"+se)+"?\\:\\:"+se+"\\:"+Se),Gt=s(s(s(se+"\\:")+"{0,4}"+se)+"?\\:\\:"+Se),ut=s(s(s(se+"\\:")+"{0,5}"+se)+"?\\:\\:"+se),Et=s(s(s(se+"\\:")+"{0,6}"+se)+"?\\:\\:"),Jt=s([Fe,Pe,Vt,wt,kt,ar,Gt,ut,Et].join("|")),At=s(s(ce+"|"+M)+"+");s("[vV]"+z+"+\\."+n(ce,ee,"[\\:]")+"+"),s(s(M+"|"+n(ce,ee))+"*");var br=s(M+"|"+n(ce,ee,"[\\:\\@]"));return s(s(M+"|"+n(ce,ee,"[\\@]"))+"+"),s(s(br+"|"+n("[\\/\\?]",Re))+"*"),{NOT_SCHEME:new RegExp(n("[^]",p,E,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(n("[^\\%\\:]",ce,ee),"g"),NOT_HOST:new RegExp(n("[^\\%\\[\\]\\:]",ce,ee),"g"),NOT_PATH:new RegExp(n("[^\\%\\/\\:\\@]",ce,ee),"g"),NOT_PATH_NOSCHEME:new RegExp(n("[^\\%\\/\\@]",ce,ee),"g"),NOT_QUERY:new RegExp(n("[^\\%]",ce,ee,"[\\:\\@\\/\\?]",Re),"g"),NOT_FRAGMENT:new RegExp(n("[^\\%]",ce,ee,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(n("[^]",ce,ee),"g"),UNRESERVED:new RegExp(ce,"g"),OTHER_CHARS:new RegExp(n("[^\\%]",ce,fe),"g"),PCT_ENCODED:new RegExp(M,"g"),IPV4ADDRESS:new RegExp("^("+Ie+")$"),IPV6ADDRESS:new RegExp("^\\[?("+Jt+")"+s(s("\\%25|\\%(?!"+z+"{2})")+"("+At+")")+"?\\]?$")}}var u=c(!1),f=c(!0),m=function(){function w(p,E){var z=[],M=!0,x=!1,ee=void 0;try{for(var fe=p[Symbol.iterator](),ke;!(M=(ke=fe.next()).done)&&(z.push(ke.value),!(E&&z.length===E));M=!0);}catch(Re){x=!0,ee=Re}finally{try{!M&&fe.return&&fe.return()}finally{if(x)throw ee}}return z}return function(p,E){if(Array.isArray(p))return p;if(Symbol.iterator in Object(p))return w(p,E);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),b=function(w){if(Array.isArray(w)){for(var p=0,E=Array(w.length);p<w.length;p++)E[p]=w[p];return E}else return Array.from(w)},v=2147483647,g=36,_=1,d=26,$=38,P=700,S=72,A=128,y="-",O=/^xn--/,L=/[^\0-\x7E]/,Z=/[\x2E\u3002\uFF0E\uFF61]/g,Y={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},ue=g-_,te=Math.floor,ye=String.fromCharCode;function re(w){throw new RangeError(Y[w])}function he(w,p){for(var E=[],z=w.length;z--;)E[z]=p(w[z]);return E}function Be(w,p){var E=w.split("@"),z="";E.length>1&&(z=E[0]+"@",w=E[1]),w=w.replace(Z,".");var M=w.split("."),x=he(M,p).join(".");return z+x}function Ge(w){for(var p=[],E=0,z=w.length;E<z;){var M=w.charCodeAt(E++);if(M>=55296&&M<=56319&&E<z){var x=w.charCodeAt(E++);(x&64512)==56320?p.push(((M&1023)<<10)+(x&1023)+65536):(p.push(M),E--)}else p.push(M)}return p}var be=function(p){return String.fromCodePoint.apply(String,b(p))},xe=function(p){return p-48<10?p-22:p-65<26?p-65:p-97<26?p-97:g},W=function(p,E){return p+22+75*(p<26)-((E!=0)<<5)},T=function(p,E,z){var M=0;for(p=z?te(p/P):p>>1,p+=te(p/E);p>ue*d>>1;M+=g)p=te(p/ue);return te(M+(ue+1)*p/(p+$))},F=function(p){var E=[],z=p.length,M=0,x=A,ee=S,fe=p.lastIndexOf(y);fe<0&&(fe=0);for(var ke=0;ke<fe;++ke)p.charCodeAt(ke)>=128&&re("not-basic"),E.push(p.charCodeAt(ke));for(var Re=fe>0?fe+1:0;Re<z;){for(var ce=M,$e=1,Ie=g;;Ie+=g){Re>=z&&re("invalid-input");var se=xe(p.charCodeAt(Re++));(se>=g||se>te((v-M)/$e))&&re("overflow"),M+=se*$e;var Se=Ie<=ee?_:Ie>=ee+d?d:Ie-ee;if(se<Se)break;var Fe=g-Se;$e>te(v/Fe)&&re("overflow"),$e*=Fe}var Pe=E.length+1;ee=T(M-ce,Pe,ce==0),te(M/Pe)>v-x&&re("overflow"),x+=te(M/Pe),M%=Pe,E.splice(M++,0,x)}return String.fromCodePoint.apply(String,E)},j=function(p){var E=[];p=Ge(p);var z=p.length,M=A,x=0,ee=S,fe=!0,ke=!1,Re=void 0;try{for(var ce=p[Symbol.iterator](),$e;!(fe=($e=ce.next()).done);fe=!0){var Ie=$e.value;Ie<128&&E.push(ye(Ie))}}catch($r){ke=!0,Re=$r}finally{try{!fe&&ce.return&&ce.return()}finally{if(ke)throw Re}}var se=E.length,Se=se;for(se&&E.push(y);Se<z;){var Fe=v,Pe=!0,Vt=!1,wt=void 0;try{for(var kt=p[Symbol.iterator](),ar;!(Pe=(ar=kt.next()).done);Pe=!0){var Gt=ar.value;Gt>=M&&Gt<Fe&&(Fe=Gt)}}catch($r){Vt=!0,wt=$r}finally{try{!Pe&&kt.return&&kt.return()}finally{if(Vt)throw wt}}var ut=Se+1;Fe-M>te((v-x)/ut)&&re("overflow"),x+=(Fe-M)*ut,M=Fe;var Et=!0,Jt=!1,At=void 0;try{for(var br=p[Symbol.iterator](),As;!(Et=(As=br.next()).done);Et=!0){var js=As.value;if(js<M&&++x>v&&re("overflow"),js==M){for(var Ur=x,qr=g;;qr+=g){var Br=qr<=ee?_:qr>=ee+d?d:qr-ee;if(Ur<Br)break;var Rs=Ur-Br,Is=g-Br;E.push(ye(W(Br+Rs%Is,0))),Ur=te(Rs/Is)}E.push(ye(W(Ur,0))),ee=T(x,ut,Se==se),x=0,++Se}}}catch($r){Jt=!0,At=$r}finally{try{!Et&&br.return&&br.return()}finally{if(Jt)throw At}}++x,++M}return E.join("")},h=function(p){return Be(p,function(E){return O.test(E)?F(E.slice(4).toLowerCase()):E})},k=function(p){return Be(p,function(E){return L.test(E)?"xn--"+j(E):E})},V={version:"2.1.0",ucs2:{decode:Ge,encode:be},decode:F,encode:j,toASCII:k,toUnicode:h},G={};function J(w){var p=w.charCodeAt(0),E=void 0;return p<16?E="%0"+p.toString(16).toUpperCase():p<128?E="%"+p.toString(16).toUpperCase():p<2048?E="%"+(p>>6|192).toString(16).toUpperCase()+"%"+(p&63|128).toString(16).toUpperCase():E="%"+(p>>12|224).toString(16).toUpperCase()+"%"+(p>>6&63|128).toString(16).toUpperCase()+"%"+(p&63|128).toString(16).toUpperCase(),E}function ae(w){for(var p="",E=0,z=w.length;E<z;){var M=parseInt(w.substr(E+1,2),16);if(M<128)p+=String.fromCharCode(M),E+=3;else if(M>=194&&M<224){if(z-E>=6){var x=parseInt(w.substr(E+4,2),16);p+=String.fromCharCode((M&31)<<6|x&63)}else p+=w.substr(E,6);E+=6}else if(M>=224){if(z-E>=9){var ee=parseInt(w.substr(E+4,2),16),fe=parseInt(w.substr(E+7,2),16);p+=String.fromCharCode((M&15)<<12|(ee&63)<<6|fe&63)}else p+=w.substr(E,9);E+=9}else p+=w.substr(E,3),E+=3}return p}function oe(w,p){function E(z){var M=ae(z);return M.match(p.UNRESERVED)?M:z}return w.scheme&&(w.scheme=String(w.scheme).replace(p.PCT_ENCODED,E).toLowerCase().replace(p.NOT_SCHEME,"")),w.userinfo!==void 0&&(w.userinfo=String(w.userinfo).replace(p.PCT_ENCODED,E).replace(p.NOT_USERINFO,J).replace(p.PCT_ENCODED,a)),w.host!==void 0&&(w.host=String(w.host).replace(p.PCT_ENCODED,E).toLowerCase().replace(p.NOT_HOST,J).replace(p.PCT_ENCODED,a)),w.path!==void 0&&(w.path=String(w.path).replace(p.PCT_ENCODED,E).replace(w.scheme?p.NOT_PATH:p.NOT_PATH_NOSCHEME,J).replace(p.PCT_ENCODED,a)),w.query!==void 0&&(w.query=String(w.query).replace(p.PCT_ENCODED,E).replace(p.NOT_QUERY,J).replace(p.PCT_ENCODED,a)),w.fragment!==void 0&&(w.fragment=String(w.fragment).replace(p.PCT_ENCODED,E).replace(p.NOT_FRAGMENT,J).replace(p.PCT_ENCODED,a)),w}function ge(w){return w.replace(/^0*(.*)/,"$1")||"0"}function Me(w,p){var E=w.match(p.IPV4ADDRESS)||[],z=m(E,2),M=z[1];return M?M.split(".").map(ge).join("."):w}function at(w,p){var E=w.match(p.IPV6ADDRESS)||[],z=m(E,3),M=z[1],x=z[2];if(M){for(var ee=M.toLowerCase().split("::").reverse(),fe=m(ee,2),ke=fe[0],Re=fe[1],ce=Re?Re.split(":").map(ge):[],$e=ke.split(":").map(ge),Ie=p.IPV4ADDRESS.test($e[$e.length-1]),se=Ie?7:8,Se=$e.length-se,Fe=Array(se),Pe=0;Pe<se;++Pe)Fe[Pe]=ce[Pe]||$e[Se+Pe]||"";Ie&&(Fe[se-1]=Me(Fe[se-1],p));var Vt=Fe.reduce(function(ut,Et,Jt){if(!Et||Et==="0"){var At=ut[ut.length-1];At&&At.index+At.length===Jt?At.length++:ut.push({index:Jt,length:1})}return ut},[]),wt=Vt.sort(function(ut,Et){return Et.length-ut.length})[0],kt=void 0;if(wt&&wt.length>1){var ar=Fe.slice(0,wt.index),Gt=Fe.slice(wt.index+wt.length);kt=ar.join(":")+"::"+Gt.join(":")}else kt=Fe.join(":");return x&&(kt+="%"+x),kt}else return w}var Je=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,lt="".match(/(){0}/)[1]===void 0;function Ne(w){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},E={},z=p.iri!==!1?f:u;p.reference==="suffix"&&(w=(p.scheme?p.scheme+":":"")+"//"+w);var M=w.match(Je);if(M){lt?(E.scheme=M[1],E.userinfo=M[3],E.host=M[4],E.port=parseInt(M[5],10),E.path=M[6]||"",E.query=M[7],E.fragment=M[8],isNaN(E.port)&&(E.port=M[5])):(E.scheme=M[1]||void 0,E.userinfo=w.indexOf("@")!==-1?M[3]:void 0,E.host=w.indexOf("//")!==-1?M[4]:void 0,E.port=parseInt(M[5],10),E.path=M[6]||"",E.query=w.indexOf("?")!==-1?M[7]:void 0,E.fragment=w.indexOf("#")!==-1?M[8]:void 0,isNaN(E.port)&&(E.port=w.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?M[4]:void 0)),E.host&&(E.host=at(Me(E.host,z),z)),E.scheme===void 0&&E.userinfo===void 0&&E.host===void 0&&E.port===void 0&&!E.path&&E.query===void 0?E.reference="same-document":E.scheme===void 0?E.reference="relative":E.fragment===void 0?E.reference="absolute":E.reference="uri",p.reference&&p.reference!=="suffix"&&p.reference!==E.reference&&(E.error=E.error||"URI is not a "+p.reference+" reference.");var x=G[(p.scheme||E.scheme||"").toLowerCase()];if(!p.unicodeSupport&&(!x||!x.unicodeSupport)){if(E.host&&(p.domainHost||x&&x.domainHost))try{E.host=V.toASCII(E.host.replace(z.PCT_ENCODED,ae).toLowerCase())}catch(ee){E.error=E.error||"Host's domain name can not be converted to ASCII via punycode: "+ee}oe(E,u)}else oe(E,z);x&&x.parse&&x.parse(E,p)}else E.error=E.error||"URI can not be parsed.";return E}function mt(w,p){var E=p.iri!==!1?f:u,z=[];return w.userinfo!==void 0&&(z.push(w.userinfo),z.push("@")),w.host!==void 0&&z.push(at(Me(String(w.host),E),E).replace(E.IPV6ADDRESS,function(M,x,ee){return"["+x+(ee?"%25"+ee:"")+"]"})),(typeof w.port=="number"||typeof w.port=="string")&&(z.push(":"),z.push(String(w.port))),z.length?z.join(""):void 0}var pt=/^\.\.?\//,Xe=/^\/\.(\/|$)/,it=/^\/\.\.(\/|$)/,ct=/^\/?(?:.|\n)*?(?=\/|$)/;function Ye(w){for(var p=[];w.length;)if(w.match(pt))w=w.replace(pt,"");else if(w.match(Xe))w=w.replace(Xe,"/");else if(w.match(it))w=w.replace(it,"/"),p.pop();else if(w==="."||w==="..")w="";else{var E=w.match(ct);if(E){var z=E[0];w=w.slice(z.length),p.push(z)}else throw new Error("Unexpected dot segment condition")}return p.join("")}function we(w){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},E=p.iri?f:u,z=[],M=G[(p.scheme||w.scheme||"").toLowerCase()];if(M&&M.serialize&&M.serialize(w,p),w.host&&!E.IPV6ADDRESS.test(w.host)){if(p.domainHost||M&&M.domainHost)try{w.host=p.iri?V.toUnicode(w.host):V.toASCII(w.host.replace(E.PCT_ENCODED,ae).toLowerCase())}catch(fe){w.error=w.error||"Host's domain name can not be converted to "+(p.iri?"Unicode":"ASCII")+" via punycode: "+fe}}oe(w,E),p.reference!=="suffix"&&w.scheme&&(z.push(w.scheme),z.push(":"));var x=mt(w,p);if(x!==void 0&&(p.reference!=="suffix"&&z.push("//"),z.push(x),w.path&&w.path.charAt(0)!=="/"&&z.push("/")),w.path!==void 0){var ee=w.path;!p.absolutePath&&(!M||!M.absolutePath)&&(ee=Ye(ee)),x===void 0&&(ee=ee.replace(/^\/\//,"/%2F")),z.push(ee)}return w.query!==void 0&&(z.push("?"),z.push(w.query)),w.fragment!==void 0&&(z.push("#"),z.push(w.fragment)),z.join("")}function ve(w,p){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},z=arguments[3],M={};return z||(w=Ne(we(w,E),E),p=Ne(we(p,E),E)),E=E||{},!E.tolerant&&p.scheme?(M.scheme=p.scheme,M.userinfo=p.userinfo,M.host=p.host,M.port=p.port,M.path=Ye(p.path||""),M.query=p.query):(p.userinfo!==void 0||p.host!==void 0||p.port!==void 0?(M.userinfo=p.userinfo,M.host=p.host,M.port=p.port,M.path=Ye(p.path||""),M.query=p.query):(p.path?(p.path.charAt(0)==="/"?M.path=Ye(p.path):((w.userinfo!==void 0||w.host!==void 0||w.port!==void 0)&&!w.path?M.path="/"+p.path:w.path?M.path=w.path.slice(0,w.path.lastIndexOf("/")+1)+p.path:M.path=p.path,M.path=Ye(M.path)),M.query=p.query):(M.path=w.path,p.query!==void 0?M.query=p.query:M.query=w.query),M.userinfo=w.userinfo,M.host=w.host,M.port=w.port),M.scheme=w.scheme),M.fragment=p.fragment,M}function ze(w,p,E){var z=l({scheme:"null"},E);return we(ve(Ne(w,z),Ne(p,z),z,!0),z)}function Ot(w,p){return typeof w=="string"?w=we(Ne(w,p),p):o(w)==="object"&&(w=Ne(we(w,p),p)),w}function Kt(w,p,E){return typeof w=="string"?w=we(Ne(w,E),E):o(w)==="object"&&(w=we(w,E)),typeof p=="string"?p=we(Ne(p,E),E):o(p)==="object"&&(p=we(p,E)),w===p}function sr(w,p){return w&&w.toString().replace(!p||!p.iri?u.ESCAPE:f.ESCAPE,J)}function tt(w,p){return w&&w.toString().replace(!p||!p.iri?u.PCT_ENCODED:f.PCT_ENCODED,ae)}var Tt={scheme:"http",domainHost:!0,parse:function(p,E){return p.host||(p.error=p.error||"HTTP URIs must have a host."),p},serialize:function(p,E){var z=String(p.scheme).toLowerCase()==="https";return(p.port===(z?443:80)||p.port==="")&&(p.port=void 0),p.path||(p.path="/"),p}},Wt={scheme:"https",domainHost:Tt.domainHost,parse:Tt.parse,serialize:Tt.serialize};function Fr(w){return typeof w.secure=="boolean"?w.secure:String(w.scheme).toLowerCase()==="wss"}var Ht={scheme:"ws",domainHost:!0,parse:function(p,E){var z=p;return z.secure=Fr(z),z.resourceName=(z.path||"/")+(z.query?"?"+z.query:""),z.path=void 0,z.query=void 0,z},serialize:function(p,E){if((p.port===(Fr(p)?443:80)||p.port==="")&&(p.port=void 0),typeof p.secure=="boolean"&&(p.scheme=p.secure?"wss":"ws",p.secure=void 0),p.resourceName){var z=p.resourceName.split("?"),M=m(z,2),x=M[0],ee=M[1];p.path=x&&x!=="/"?x:void 0,p.query=ee,p.resourceName=void 0}return p.fragment=void 0,p}},Lr={scheme:"wss",domainHost:Ht.domainHost,parse:Ht.parse,serialize:Ht.serialize},U={},zt="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",Ve="[0-9A-Fa-f]",Ze=s(s("%[EFef]"+Ve+"%"+Ve+Ve+"%"+Ve+Ve)+"|"+s("%[89A-Fa-f]"+Ve+"%"+Ve+Ve)+"|"+s("%"+Ve+Ve)),_t="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",bn="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",Wa=n(bn,'[\\"\\\\]'),Ha="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",Ga=new RegExp(zt,"g"),or=new RegExp(Ze,"g"),Ja=new RegExp(n("[^]",_t,"[\\.]",'[\\"]',Wa),"g"),Cs=new RegExp(n("[^]",zt,Ha),"g"),Xa=Cs;function $n(w){var p=ae(w);return p.match(Ga)?p:w}var Ns={scheme:"mailto",parse:function(p,E){var z=p,M=z.to=z.path?z.path.split(","):[];if(z.path=void 0,z.query){for(var x=!1,ee={},fe=z.query.split("&"),ke=0,Re=fe.length;ke<Re;++ke){var ce=fe[ke].split("=");switch(ce[0]){case"to":for(var $e=ce[1].split(","),Ie=0,se=$e.length;Ie<se;++Ie)M.push($e[Ie]);break;case"subject":z.subject=tt(ce[1],E);break;case"body":z.body=tt(ce[1],E);break;default:x=!0,ee[tt(ce[0],E)]=tt(ce[1],E);break}}x&&(z.headers=ee)}z.query=void 0;for(var Se=0,Fe=M.length;Se<Fe;++Se){var Pe=M[Se].split("@");if(Pe[0]=tt(Pe[0]),E.unicodeSupport)Pe[1]=tt(Pe[1],E).toLowerCase();else try{Pe[1]=V.toASCII(tt(Pe[1],E).toLowerCase())}catch(Vt){z.error=z.error||"Email address's domain name can not be converted to ASCII via punycode: "+Vt}M[Se]=Pe.join("@")}return z},serialize:function(p,E){var z=p,M=i(p.to);if(M){for(var x=0,ee=M.length;x<ee;++x){var fe=String(M[x]),ke=fe.lastIndexOf("@"),Re=fe.slice(0,ke).replace(or,$n).replace(or,a).replace(Ja,J),ce=fe.slice(ke+1);try{ce=E.iri?V.toUnicode(ce):V.toASCII(tt(ce,E).toLowerCase())}catch(Se){z.error=z.error||"Email address's domain name can not be converted to "+(E.iri?"Unicode":"ASCII")+" via punycode: "+Se}M[x]=Re+"@"+ce}z.path=M.join(",")}var $e=p.headers=p.headers||{};p.subject&&($e.subject=p.subject),p.body&&($e.body=p.body);var Ie=[];for(var se in $e)$e[se]!==U[se]&&Ie.push(se.replace(or,$n).replace(or,a).replace(Cs,J)+"="+$e[se].replace(or,$n).replace(or,a).replace(Xa,J));return Ie.length&&(z.query=Ie.join("&")),z}},Ya=/^([^\:]+)\:(.*)/,Os={scheme:"urn",parse:function(p,E){var z=p.path&&p.path.match(Ya),M=p;if(z){var x=E.scheme||M.scheme||"urn",ee=z[1].toLowerCase(),fe=z[2],ke=x+":"+(E.nid||ee),Re=G[ke];M.nid=ee,M.nss=fe,M.path=void 0,Re&&(M=Re.parse(M,E))}else M.error=M.error||"URN can not be parsed.";return M},serialize:function(p,E){var z=E.scheme||p.scheme||"urn",M=p.nid,x=z+":"+(E.nid||M),ee=G[x];ee&&(p=ee.serialize(p,E));var fe=p,ke=p.nss;return fe.path=(M||E.nid)+":"+ke,fe}},Za=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,Ts={scheme:"urn:uuid",parse:function(p,E){var z=p;return z.uuid=z.nss,z.nss=void 0,!E.tolerant&&(!z.uuid||!z.uuid.match(Za))&&(z.error=z.error||"UUID is not valid."),z},serialize:function(p,E){var z=p;return z.nss=(p.uuid||"").toLowerCase(),z}};G[Tt.scheme]=Tt,G[Wt.scheme]=Wt,G[Ht.scheme]=Ht,G[Lr.scheme]=Lr,G[Ns.scheme]=Ns,G[Os.scheme]=Os,G[Ts.scheme]=Ts,r.SCHEMES=G,r.pctEncChar=J,r.pctDecChars=ae,r.parse=Ne,r.removeDotSegments=Ye,r.serialize=we,r.resolveComponents=ve,r.resolve=ze,r.normalize=Ot,r.equal=Kt,r.escapeComponent=sr,r.unescapeComponent=tt,Object.defineProperty(r,"__esModule",{value:!0})})})(Dn,Dn.exports);Object.defineProperty(Gn,"__esModule",{value:!0});const Ca=Dn.exports;Ca.code='require("ajv/dist/runtime/uri").default';Gn.default=Ca;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;var e=$t;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return e.KeywordCxt}});var r=le;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const n=hn,s=mn,o=er,a=st,i=le,l=He,c=Mr,u=de,f=_c,m=Gn,b=(W,T)=>new RegExp(W,T);b.code="new RegExp";const v=["removeAdditional","useDefaults","coerceTypes"],g=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),_={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},d={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},$=200;function P(W){var T,F,j,h,k,V,G,J,ae,oe,ge,Me,at,Je,lt,Ne,mt,pt,Xe,it,ct,Ye,we,ve,ze;const Ot=W.strict,Kt=(T=W.code)===null||T===void 0?void 0:T.optimize,sr=Kt===!0||Kt===void 0?1:Kt||0,tt=(j=(F=W.code)===null||F===void 0?void 0:F.regExp)!==null&&j!==void 0?j:b,Tt=(h=W.uriResolver)!==null&&h!==void 0?h:m.default;return{strictSchema:(V=(k=W.strictSchema)!==null&&k!==void 0?k:Ot)!==null&&V!==void 0?V:!0,strictNumbers:(J=(G=W.strictNumbers)!==null&&G!==void 0?G:Ot)!==null&&J!==void 0?J:!0,strictTypes:(oe=(ae=W.strictTypes)!==null&&ae!==void 0?ae:Ot)!==null&&oe!==void 0?oe:"log",strictTuples:(Me=(ge=W.strictTuples)!==null&&ge!==void 0?ge:Ot)!==null&&Me!==void 0?Me:"log",strictRequired:(Je=(at=W.strictRequired)!==null&&at!==void 0?at:Ot)!==null&&Je!==void 0?Je:!1,code:W.code?jt(Oe({},W.code),{optimize:sr,regExp:tt}):{optimize:sr,regExp:tt},loopRequired:(lt=W.loopRequired)!==null&&lt!==void 0?lt:$,loopEnum:(Ne=W.loopEnum)!==null&&Ne!==void 0?Ne:$,meta:(mt=W.meta)!==null&&mt!==void 0?mt:!0,messages:(pt=W.messages)!==null&&pt!==void 0?pt:!0,inlineRefs:(Xe=W.inlineRefs)!==null&&Xe!==void 0?Xe:!0,schemaId:(it=W.schemaId)!==null&&it!==void 0?it:"$id",addUsedSchema:(ct=W.addUsedSchema)!==null&&ct!==void 0?ct:!0,validateSchema:(Ye=W.validateSchema)!==null&&Ye!==void 0?Ye:!0,validateFormats:(we=W.validateFormats)!==null&&we!==void 0?we:!0,unicodeRegExp:(ve=W.unicodeRegExp)!==null&&ve!==void 0?ve:!0,int32range:(ze=W.int32range)!==null&&ze!==void 0?ze:!0,uriResolver:Tt}}class S{constructor(T={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,T=this.opts=Oe(Oe({},T),P(T));const{es5:F,lines:j}=this.opts.code;this.scope=new i.ValueScope({scope:{},prefixes:g,es5:F,lines:j}),this.logger=te(T.logger);const h=T.validateFormats;T.validateFormats=!1,this.RULES=(0,o.getRules)(),A.call(this,_,T,"NOT SUPPORTED"),A.call(this,d,T,"DEPRECATED","warn"),this._metaOpts=Y.call(this),T.formats&&L.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),T.keywords&&Z.call(this,T.keywords),typeof T.meta=="object"&&this.addMetaSchema(T.meta),O.call(this),T.validateFormats=h}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:T,meta:F,schemaId:j}=this.opts;let h=f;j==="id"&&(h=Oe({},f),h.id=h.$id,delete h.$id),F&&T&&this.addMetaSchema(h,h[j],!1)}defaultMeta(){const{meta:T,schemaId:F}=this.opts;return this.opts.defaultMeta=typeof T=="object"?T[F]||T:void 0}validate(T,F){let j;if(typeof T=="string"){if(j=this.getSchema(T),!j)throw new Error(`no schema with key or ref "${T}"`)}else j=this.compile(T);const h=j(F);return"$async"in j||(this.errors=j.errors),h}compile(T,F){const j=this._addSchema(T,F);return j.validate||this._compileSchemaEnv(j)}compileAsync(T,F){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:j}=this.opts;return h.call(this,T,F);async function h(oe,ge){await k.call(this,oe.$schema);const Me=this._addSchema(oe,ge);return Me.validate||V.call(this,Me)}async function k(oe){oe&&!this.getSchema(oe)&&await h.call(this,{$ref:oe},!0)}async function V(oe){try{return this._compileSchemaEnv(oe)}catch(ge){if(!(ge instanceof s.default))throw ge;return G.call(this,ge),await J.call(this,ge.missingSchema),V.call(this,oe)}}function G({missingSchema:oe,missingRef:ge}){if(this.refs[oe])throw new Error(`AnySchema ${oe} is loaded but ${ge} cannot be resolved`)}async function J(oe){const ge=await ae.call(this,oe);this.refs[oe]||await k.call(this,ge.$schema),this.refs[oe]||this.addSchema(ge,oe,F)}async function ae(oe){const ge=this._loading[oe];if(ge)return ge;try{return await(this._loading[oe]=j(oe))}finally{delete this._loading[oe]}}}addSchema(T,F,j,h=this.opts.validateSchema){if(Array.isArray(T)){for(const V of T)this.addSchema(V,void 0,j,h);return this}let k;if(typeof T=="object"){const{schemaId:V}=this.opts;if(k=T[V],k!==void 0&&typeof k!="string")throw new Error(`schema ${V} must be string`)}return F=(0,l.normalizeId)(F||k),this._checkUnique(F),this.schemas[F]=this._addSchema(T,j,F,h,!0),this}addMetaSchema(T,F,j=this.opts.validateSchema){return this.addSchema(T,F,!0,j),this}validateSchema(T,F){if(typeof T=="boolean")return!0;let j;if(j=T.$schema,j!==void 0&&typeof j!="string")throw new Error("$schema must be a string");if(j=j||this.opts.defaultMeta||this.defaultMeta(),!j)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const h=this.validate(j,T);if(!h&&F){const k="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(k);else throw new Error(k)}return h}getSchema(T){let F;for(;typeof(F=y.call(this,T))=="string";)T=F;if(F===void 0){const{schemaId:j}=this.opts,h=new a.SchemaEnv({schema:{},schemaId:j});if(F=a.resolveSchema.call(this,h,T),!F)return;this.refs[T]=F}return F.validate||this._compileSchemaEnv(F)}removeSchema(T){if(T instanceof RegExp)return this._removeAllSchemas(this.schemas,T),this._removeAllSchemas(this.refs,T),this;switch(typeof T){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const F=y.call(this,T);return typeof F=="object"&&this._cache.delete(F.schema),delete this.schemas[T],delete this.refs[T],this}case"object":{const F=T;this._cache.delete(F);let j=T[this.opts.schemaId];return j&&(j=(0,l.normalizeId)(j),delete this.schemas[j],delete this.refs[j]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(T){for(const F of T)this.addKeyword(F);return this}addKeyword(T,F){let j;if(typeof T=="string")j=T,typeof F=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),F.keyword=j);else if(typeof T=="object"&&F===void 0){if(F=T,j=F.keyword,Array.isArray(j)&&!j.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(re.call(this,j,F),!F)return(0,u.eachItem)(j,k=>he.call(this,k)),this;Ge.call(this,F);const h=jt(Oe({},F),{type:(0,c.getJSONTypes)(F.type),schemaType:(0,c.getJSONTypes)(F.schemaType)});return(0,u.eachItem)(j,h.type.length===0?k=>he.call(this,k,h):k=>h.type.forEach(V=>he.call(this,k,h,V))),this}getKeyword(T){const F=this.RULES.all[T];return typeof F=="object"?F.definition:!!F}removeKeyword(T){const{RULES:F}=this;delete F.keywords[T],delete F.all[T];for(const j of F.rules){const h=j.rules.findIndex(k=>k.keyword===T);h>=0&&j.rules.splice(h,1)}return this}addFormat(T,F){return typeof F=="string"&&(F=new RegExp(F)),this.formats[T]=F,this}errorsText(T=this.errors,{separator:F=", ",dataVar:j="data"}={}){return!T||T.length===0?"No errors":T.map(h=>`${j}${h.instancePath} ${h.message}`).reduce((h,k)=>h+F+k)}$dataMetaSchema(T,F){const j=this.RULES.all;T=JSON.parse(JSON.stringify(T));for(const h of F){const k=h.split("/").slice(1);let V=T;for(const G of k)V=V[G];for(const G in j){const J=j[G];if(typeof J!="object")continue;const{$data:ae}=J.definition,oe=V[G];ae&&oe&&(V[G]=xe(oe))}}return T}_removeAllSchemas(T,F){for(const j in T){const h=T[j];(!F||F.test(j))&&(typeof h=="string"?delete T[j]:h&&!h.meta&&(this._cache.delete(h.schema),delete T[j]))}}_addSchema(T,F,j,h=this.opts.validateSchema,k=this.opts.addUsedSchema){let V;const{schemaId:G}=this.opts;if(typeof T=="object")V=T[G];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof T!="boolean")throw new Error("schema must be object or boolean")}let J=this._cache.get(T);if(J!==void 0)return J;j=(0,l.normalizeId)(V||j);const ae=l.getSchemaRefs.call(this,T,j);return J=new a.SchemaEnv({schema:T,schemaId:G,meta:F,baseId:j,localRefs:ae}),this._cache.set(J.schema,J),k&&!j.startsWith("#")&&(j&&this._checkUnique(j),this.refs[j]=J),h&&this.validateSchema(T,!0),J}_checkUnique(T){if(this.schemas[T]||this.refs[T])throw new Error(`schema with key or id "${T}" already exists`)}_compileSchemaEnv(T){if(T.meta?this._compileMetaSchema(T):a.compileSchema.call(this,T),!T.validate)throw new Error("ajv implementation error");return T.validate}_compileMetaSchema(T){const F=this.opts;this.opts=this._metaOpts;try{a.compileSchema.call(this,T)}finally{this.opts=F}}}t.default=S,S.ValidationError=n.default,S.MissingRefError=s.default;function A(W,T,F,j="error"){for(const h in W){const k=h;k in T&&this.logger[j](`${F}: option ${h}. ${W[k]}`)}}function y(W){return W=(0,l.normalizeId)(W),this.schemas[W]||this.refs[W]}function O(){const W=this.opts.schemas;if(!!W)if(Array.isArray(W))this.addSchema(W);else for(const T in W)this.addSchema(W[T],T)}function L(){for(const W in this.opts.formats){const T=this.opts.formats[W];T&&this.addFormat(W,T)}}function Z(W){if(Array.isArray(W)){this.addVocabulary(W);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const T in W){const F=W[T];F.keyword||(F.keyword=T),this.addKeyword(F)}}function Y(){const W=Oe({},this.opts);for(const T of v)delete W[T];return W}const ue={log(){},warn(){},error(){}};function te(W){if(W===!1)return ue;if(W===void 0)return console;if(W.log&&W.warn&&W.error)return W;throw new Error("logger must implement log, warn and error methods")}const ye=/^[a-z_$][a-z0-9_$:-]*$/i;function re(W,T){const{RULES:F}=this;if((0,u.eachItem)(W,j=>{if(F.keywords[j])throw new Error(`Keyword ${j} is already defined`);if(!ye.test(j))throw new Error(`Keyword ${j} has invalid name`)}),!!T&&T.$data&&!("code"in T||"validate"in T))throw new Error('$data keyword must have "code" or "validate" function')}function he(W,T,F){var j;const h=T==null?void 0:T.post;if(F&&h)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:k}=this;let V=h?k.post:k.rules.find(({type:J})=>J===F);if(V||(V={type:F,rules:[]},k.rules.push(V)),k.keywords[W]=!0,!T)return;const G={keyword:W,definition:jt(Oe({},T),{type:(0,c.getJSONTypes)(T.type),schemaType:(0,c.getJSONTypes)(T.schemaType)})};T.before?Be.call(this,V,G,T.before):V.rules.push(G),k.all[W]=G,(j=T.implements)===null||j===void 0||j.forEach(J=>this.addKeyword(J))}function Be(W,T,F){const j=W.rules.findIndex(h=>h.keyword===F);j>=0?W.rules.splice(j,0,T):(W.rules.push(T),this.logger.warn(`rule ${F} is not defined`))}function Ge(W){let{metaSchema:T}=W;T!==void 0&&(W.$data&&this.opts.$data&&(T=xe(T)),W.validateSchema=this.compile(T,!0))}const be={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function xe(W){return{anyOf:[W,be]}}})(na);var Jn={},Xn={},Yn={};Object.defineProperty(Yn,"__esModule",{value:!0});const gc={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};Yn.default=gc;var tr={};Object.defineProperty(tr,"__esModule",{value:!0});tr.callRef=tr.getValidate=void 0;const vc=mn,Xs=ie,rt=le,lr=Nt,Ys=st,Hr=de,yc={keyword:"$ref",schemaType:"string",code(t){const{gen:e,schema:r,it:n}=t,{baseId:s,schemaEnv:o,validateName:a,opts:i,self:l}=n,{root:c}=o;if((r==="#"||r==="#/")&&s===c.baseId)return f();const u=Ys.resolveRef.call(l,c,s,r);if(u===void 0)throw new vc.default(n.opts.uriResolver,s,r);if(u instanceof Ys.SchemaEnv)return m(u);return b(u);function f(){if(o===c)return en(t,a,o,o.$async);const v=e.scopeValue("root",{ref:c});return en(t,(0,rt._)`${v}.validate`,c,c.$async)}function m(v){const g=Na(t,v);en(t,g,v,v.$async)}function b(v){const g=e.scopeValue("schema",i.code.source===!0?{ref:v,code:(0,rt.stringify)(v)}:{ref:v}),_=e.name("valid"),d=t.subschema({schema:v,dataTypes:[],schemaPath:rt.nil,topSchemaRef:g,errSchemaPath:r},_);t.mergeEvaluated(d),t.ok(_)}}};function Na(t,e){const{gen:r}=t;return e.validate?r.scopeValue("validate",{ref:e.validate}):(0,rt._)`${r.scopeValue("wrapper",{ref:e})}.validate`}tr.getValidate=Na;function en(t,e,r,n){const{gen:s,it:o}=t,{allErrors:a,schemaEnv:i,opts:l}=o,c=l.passContext?lr.default.this:rt.nil;n?u():f();function u(){if(!i.$async)throw new Error("async schema referenced by sync schema");const v=s.let("valid");s.try(()=>{s.code((0,rt._)`await ${(0,Xs.callValidateCode)(t,e,c)}`),b(e),a||s.assign(v,!0)},g=>{s.if((0,rt._)`!(${g} instanceof ${o.ValidationError})`,()=>s.throw(g)),m(g),a||s.assign(v,!1)}),t.ok(v)}function f(){t.result((0,Xs.callValidateCode)(t,e,c),()=>b(e),()=>m(e))}function m(v){const g=(0,rt._)`${v}.errors`;s.assign(lr.default.vErrors,(0,rt._)`${lr.default.vErrors} === null ? ${g} : ${lr.default.vErrors}.concat(${g})`),s.assign(lr.default.errors,(0,rt._)`${lr.default.vErrors}.length`)}function b(v){var g;if(!o.opts.unevaluated)return;const _=(g=r==null?void 0:r.validate)===null||g===void 0?void 0:g.evaluated;if(o.props!==!0)if(_&&!_.dynamicProps)_.props!==void 0&&(o.props=Hr.mergeEvaluated.props(s,_.props,o.props));else{const d=s.var("props",(0,rt._)`${v}.evaluated.props`);o.props=Hr.mergeEvaluated.props(s,d,o.props,rt.Name)}if(o.items!==!0)if(_&&!_.dynamicItems)_.items!==void 0&&(o.items=Hr.mergeEvaluated.items(s,_.items,o.items));else{const d=s.var("items",(0,rt._)`${v}.evaluated.items`);o.items=Hr.mergeEvaluated.items(s,d,o.items,rt.Name)}}}tr.callRef=en;tr.default=yc;Object.defineProperty(Xn,"__esModule",{value:!0});const bc=Yn,$c=tr,wc=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",bc.default,$c.default];Xn.default=wc;var Zn={},Qn={};Object.defineProperty(Qn,"__esModule",{value:!0});const an=le,Lt=an.operators,ln={maximum:{okStr:"<=",ok:Lt.LTE,fail:Lt.GT},minimum:{okStr:">=",ok:Lt.GTE,fail:Lt.LT},exclusiveMaximum:{okStr:"<",ok:Lt.LT,fail:Lt.GTE},exclusiveMinimum:{okStr:">",ok:Lt.GT,fail:Lt.LTE}},kc={message:({keyword:t,schemaCode:e})=>(0,an.str)`must be ${ln[t].okStr} ${e}`,params:({keyword:t,schemaCode:e})=>(0,an._)`{comparison: ${ln[t].okStr}, limit: ${e}}`},Ec={keyword:Object.keys(ln),type:"number",schemaType:"number",$data:!0,error:kc,code(t){const{keyword:e,data:r,schemaCode:n}=t;t.fail$data((0,an._)`${r} ${ln[e].fail} ${n} || isNaN(${r})`)}};Qn.default=Ec;var xn={};Object.defineProperty(xn,"__esModule",{value:!0});const Nr=le,Sc={message:({schemaCode:t})=>(0,Nr.str)`must be multiple of ${t}`,params:({schemaCode:t})=>(0,Nr._)`{multipleOf: ${t}}`},Pc={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:Sc,code(t){const{gen:e,data:r,schemaCode:n,it:s}=t,o=s.opts.multipleOfPrecision,a=e.let("res"),i=o?(0,Nr._)`Math.abs(Math.round(${a}) - ${a}) > 1e-${o}`:(0,Nr._)`${a} !== parseInt(${a})`;t.fail$data((0,Nr._)`(${n} === 0 || (${a} = ${r}/${n}, ${i}))`)}};xn.default=Pc;var es={},ts={};Object.defineProperty(ts,"__esModule",{value:!0});function Oa(t){const e=t.length;let r=0,n=0,s;for(;n<e;)r++,s=t.charCodeAt(n++),s>=55296&&s<=56319&&n<e&&(s=t.charCodeAt(n),(s&64512)===56320&&n++);return r}ts.default=Oa;Oa.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty(es,"__esModule",{value:!0});const Zt=le,Cc=de,Nc=ts,Oc={message({keyword:t,schemaCode:e}){const r=t==="maxLength"?"more":"fewer";return(0,Zt.str)`must NOT have ${r} than ${e} characters`},params:({schemaCode:t})=>(0,Zt._)`{limit: ${t}}`},Tc={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:Oc,code(t){const{keyword:e,data:r,schemaCode:n,it:s}=t,o=e==="maxLength"?Zt.operators.GT:Zt.operators.LT,a=s.opts.unicode===!1?(0,Zt._)`${r}.length`:(0,Zt._)`${(0,Cc.useFunc)(t.gen,Nc.default)}(${r})`;t.fail$data((0,Zt._)`${a} ${o} ${n}`)}};es.default=Tc;var rs={};Object.defineProperty(rs,"__esModule",{value:!0});const Ac=ie,cn=le,jc={message:({schemaCode:t})=>(0,cn.str)`must match pattern "${t}"`,params:({schemaCode:t})=>(0,cn._)`{pattern: ${t}}`},Rc={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:jc,code(t){const{data:e,$data:r,schema:n,schemaCode:s,it:o}=t,a=o.opts.unicodeRegExp?"u":"",i=r?(0,cn._)`(new RegExp(${s}, ${a}))`:(0,Ac.usePattern)(t,n);t.fail$data((0,cn._)`!${i}.test(${e})`)}};rs.default=Rc;var ns={};Object.defineProperty(ns,"__esModule",{value:!0});const Or=le,Ic={message({keyword:t,schemaCode:e}){const r=t==="maxProperties"?"more":"fewer";return(0,Or.str)`must NOT have ${r} than ${e} properties`},params:({schemaCode:t})=>(0,Or._)`{limit: ${t}}`},Dc={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:Ic,code(t){const{keyword:e,data:r,schemaCode:n}=t,s=e==="maxProperties"?Or.operators.GT:Or.operators.LT;t.fail$data((0,Or._)`Object.keys(${r}).length ${s} ${n}`)}};ns.default=Dc;var ss={};Object.defineProperty(ss,"__esModule",{value:!0});const Er=ie,Tr=le,Mc=de,zc={message:({params:{missingProperty:t}})=>(0,Tr.str)`must have required property '${t}'`,params:({params:{missingProperty:t}})=>(0,Tr._)`{missingProperty: ${t}}`},Vc={keyword:"required",type:"object",schemaType:"array",$data:!0,error:zc,code(t){const{gen:e,schema:r,schemaCode:n,data:s,$data:o,it:a}=t,{opts:i}=a;if(!o&&r.length===0)return;const l=r.length>=i.loopRequired;if(a.allErrors?c():u(),i.strictRequired){const b=t.parentSchema.properties,{definedProperties:v}=t.it;for(const g of r)if((b==null?void 0:b[g])===void 0&&!v.has(g)){const _=a.schemaEnv.baseId+a.errSchemaPath,d=`required property "${g}" is not defined at "${_}" (strictRequired)`;(0,Mc.checkStrictMode)(a,d,a.opts.strictRequired)}}function c(){if(l||o)t.block$data(Tr.nil,f);else for(const b of r)(0,Er.checkReportMissingProp)(t,b)}function u(){const b=e.let("missing");if(l||o){const v=e.let("valid",!0);t.block$data(v,()=>m(b,v)),t.ok(v)}else e.if((0,Er.checkMissingProp)(t,r,b)),(0,Er.reportMissingProp)(t,b),e.else()}function f(){e.forOf("prop",n,b=>{t.setParams({missingProperty:b}),e.if((0,Er.noPropertyInData)(e,s,b,i.ownProperties),()=>t.error())})}function m(b,v){t.setParams({missingProperty:b}),e.forOf(b,n,()=>{e.assign(v,(0,Er.propertyInData)(e,s,b,i.ownProperties)),e.if((0,Tr.not)(v),()=>{t.error(),e.break()})},Tr.nil)}}};ss.default=Vc;var os={};Object.defineProperty(os,"__esModule",{value:!0});const Ar=le,Fc={message({keyword:t,schemaCode:e}){const r=t==="maxItems"?"more":"fewer";return(0,Ar.str)`must NOT have ${r} than ${e} items`},params:({schemaCode:t})=>(0,Ar._)`{limit: ${t}}`},Lc={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:Fc,code(t){const{keyword:e,data:r,schemaCode:n}=t,s=e==="maxItems"?Ar.operators.GT:Ar.operators.LT;t.fail$data((0,Ar._)`${r}.length ${s} ${n}`)}};os.default=Lc;var as={},zr={};Object.defineProperty(zr,"__esModule",{value:!0});const Ta=fa;Ta.code='require("ajv/dist/runtime/equal").default';zr.default=Ta;Object.defineProperty(as,"__esModule",{value:!0});const Cn=Mr,We=le,Uc=de,qc=zr,Bc={message:({params:{i:t,j:e}})=>(0,We.str)`must NOT have duplicate items (items ## ${e} and ${t} are identical)`,params:({params:{i:t,j:e}})=>(0,We._)`{i: ${t}, j: ${e}}`},Kc={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:Bc,code(t){const{gen:e,data:r,$data:n,schema:s,parentSchema:o,schemaCode:a,it:i}=t;if(!n&&!s)return;const l=e.let("valid"),c=o.items?(0,Cn.getSchemaTypes)(o.items):[];t.block$data(l,u,(0,We._)`${a} === false`),t.ok(l);function u(){const v=e.let("i",(0,We._)`${r}.length`),g=e.let("j");t.setParams({i:v,j:g}),e.assign(l,!0),e.if((0,We._)`${v} > 1`,()=>(f()?m:b)(v,g))}function f(){return c.length>0&&!c.some(v=>v==="object"||v==="array")}function m(v,g){const _=e.name("item"),d=(0,Cn.checkDataTypes)(c,_,i.opts.strictNumbers,Cn.DataType.Wrong),$=e.const("indices",(0,We._)`{}`);e.for((0,We._)`;${v}--;`,()=>{e.let(_,(0,We._)`${r}[${v}]`),e.if(d,(0,We._)`continue`),c.length>1&&e.if((0,We._)`typeof ${_} == "string"`,(0,We._)`${_} += "_"`),e.if((0,We._)`typeof ${$}[${_}] == "number"`,()=>{e.assign(g,(0,We._)`${$}[${_}]`),t.error(),e.assign(l,!1).break()}).code((0,We._)`${$}[${_}] = ${v}`)})}function b(v,g){const _=(0,Uc.useFunc)(e,qc.default),d=e.name("outer");e.label(d).for((0,We._)`;${v}--;`,()=>e.for((0,We._)`${g} = ${v}; ${g}--;`,()=>e.if((0,We._)`${_}(${r}[${v}], ${r}[${g}])`,()=>{t.error(),e.assign(l,!1).break(d)})))}}};as.default=Kc;var is={};Object.defineProperty(is,"__esModule",{value:!0});const Mn=le,Wc=de,Hc=zr,Gc={message:"must be equal to constant",params:({schemaCode:t})=>(0,Mn._)`{allowedValue: ${t}}`},Jc={keyword:"const",$data:!0,error:Gc,code(t){const{gen:e,data:r,$data:n,schemaCode:s,schema:o}=t;n||o&&typeof o=="object"?t.fail$data((0,Mn._)`!${(0,Wc.useFunc)(e,Hc.default)}(${r}, ${s})`):t.fail((0,Mn._)`${o} !== ${r}`)}};is.default=Jc;var ls={};Object.defineProperty(ls,"__esModule",{value:!0});const Pr=le,Xc=de,Yc=zr,Zc={message:"must be equal to one of the allowed values",params:({schemaCode:t})=>(0,Pr._)`{allowedValues: ${t}}`},Qc={keyword:"enum",schemaType:"array",$data:!0,error:Zc,code(t){const{gen:e,data:r,$data:n,schema:s,schemaCode:o,it:a}=t;if(!n&&s.length===0)throw new Error("enum must have non-empty array");const i=s.length>=a.opts.loopEnum;let l;const c=()=>l!=null?l:l=(0,Xc.useFunc)(e,Yc.default);let u;if(i||n)u=e.let("valid"),t.block$data(u,f);else{if(!Array.isArray(s))throw new Error("ajv implementation error");const b=e.const("vSchema",o);u=(0,Pr.or)(...s.map((v,g)=>m(b,g)))}t.pass(u);function f(){e.assign(u,!1),e.forOf("v",o,b=>e.if((0,Pr._)`${c()}(${r}, ${b})`,()=>e.assign(u,!0).break()))}function m(b,v){const g=s[v];return typeof g=="object"&&g!==null?(0,Pr._)`${c()}(${r}, ${b}[${v}])`:(0,Pr._)`${r} === ${g}`}}};ls.default=Qc;Object.defineProperty(Zn,"__esModule",{value:!0});const xc=Qn,eu=xn,tu=es,ru=rs,nu=ns,su=ss,ou=os,au=as,iu=is,lu=ls,cu=[xc.default,eu.default,tu.default,ru.default,nu.default,su.default,ou.default,au.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},iu.default,lu.default];Zn.default=cu;var cs={},vr={};Object.defineProperty(vr,"__esModule",{value:!0});vr.validateAdditionalItems=void 0;const Qt=le,zn=de,uu={message:({params:{len:t}})=>(0,Qt.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,Qt._)`{limit: ${t}}`},fu={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:uu,code(t){const{parentSchema:e,it:r}=t,{items:n}=e;if(!Array.isArray(n)){(0,zn.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}Aa(t,n)}};function Aa(t,e){const{gen:r,schema:n,data:s,keyword:o,it:a}=t;a.items=!0;const i=r.const("len",(0,Qt._)`${s}.length`);if(n===!1)t.setParams({len:e.length}),t.pass((0,Qt._)`${i} <= ${e.length}`);else if(typeof n=="object"&&!(0,zn.alwaysValidSchema)(a,n)){const c=r.var("valid",(0,Qt._)`${i} <= ${e.length}`);r.if((0,Qt.not)(c),()=>l(c)),t.ok(c)}function l(c){r.forRange("i",e.length,i,u=>{t.subschema({keyword:o,dataProp:u,dataPropType:zn.Type.Num},c),a.allErrors||r.if((0,Qt.not)(c),()=>r.break())})}}vr.validateAdditionalItems=Aa;vr.default=fu;var us={},yr={};Object.defineProperty(yr,"__esModule",{value:!0});yr.validateTuple=void 0;const Zs=le,tn=de,du=ie,hu={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(t){const{schema:e,it:r}=t;if(Array.isArray(e))return ja(t,"additionalItems",e);r.items=!0,!(0,tn.alwaysValidSchema)(r,e)&&t.ok((0,du.validateArray)(t))}};function ja(t,e,r=t.schema){const{gen:n,parentSchema:s,data:o,keyword:a,it:i}=t;u(s),i.opts.unevaluated&&r.length&&i.items!==!0&&(i.items=tn.mergeEvaluated.items(n,r.length,i.items));const l=n.name("valid"),c=n.const("len",(0,Zs._)`${o}.length`);r.forEach((f,m)=>{(0,tn.alwaysValidSchema)(i,f)||(n.if((0,Zs._)`${c} > ${m}`,()=>t.subschema({keyword:a,schemaProp:m,dataProp:m},l)),t.ok(l))});function u(f){const{opts:m,errSchemaPath:b}=i,v=r.length,g=v===f.minItems&&(v===f.maxItems||f[e]===!1);if(m.strictTuples&&!g){const _=`"${a}" is ${v}-tuple, but minItems or maxItems/${e} are not specified or different at path "${b}"`;(0,tn.checkStrictMode)(i,_,m.strictTuples)}}}yr.validateTuple=ja;yr.default=hu;Object.defineProperty(us,"__esModule",{value:!0});const mu=yr,pu={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:t=>(0,mu.validateTuple)(t,"items")};us.default=pu;var fs={};Object.defineProperty(fs,"__esModule",{value:!0});const Qs=le,_u=de,gu=ie,vu=vr,yu={message:({params:{len:t}})=>(0,Qs.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,Qs._)`{limit: ${t}}`},bu={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:yu,code(t){const{schema:e,parentSchema:r,it:n}=t,{prefixItems:s}=r;n.items=!0,!(0,_u.alwaysValidSchema)(n,e)&&(s?(0,vu.validateAdditionalItems)(t,s):t.ok((0,gu.validateArray)(t)))}};fs.default=bu;var ds={};Object.defineProperty(ds,"__esModule",{value:!0});const ft=le,Gr=de,$u={message:({params:{min:t,max:e}})=>e===void 0?(0,ft.str)`must contain at least ${t} valid item(s)`:(0,ft.str)`must contain at least ${t} and no more than ${e} valid item(s)`,params:({params:{min:t,max:e}})=>e===void 0?(0,ft._)`{minContains: ${t}}`:(0,ft._)`{minContains: ${t}, maxContains: ${e}}`},wu={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:$u,code(t){const{gen:e,schema:r,parentSchema:n,data:s,it:o}=t;let a,i;const{minContains:l,maxContains:c}=n;o.opts.next?(a=l===void 0?1:l,i=c):a=1;const u=e.const("len",(0,ft._)`${s}.length`);if(t.setParams({min:a,max:i}),i===void 0&&a===0){(0,Gr.checkStrictMode)(o,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(i!==void 0&&a>i){(0,Gr.checkStrictMode)(o,'"minContains" > "maxContains" is always invalid'),t.fail();return}if((0,Gr.alwaysValidSchema)(o,r)){let g=(0,ft._)`${u} >= ${a}`;i!==void 0&&(g=(0,ft._)`${g} && ${u} <= ${i}`),t.pass(g);return}o.items=!0;const f=e.name("valid");i===void 0&&a===1?b(f,()=>e.if(f,()=>e.break())):a===0?(e.let(f,!0),i!==void 0&&e.if((0,ft._)`${s}.length > 0`,m)):(e.let(f,!1),m()),t.result(f,()=>t.reset());function m(){const g=e.name("_valid"),_=e.let("count",0);b(g,()=>e.if(g,()=>v(_)))}function b(g,_){e.forRange("i",0,u,d=>{t.subschema({keyword:"contains",dataProp:d,dataPropType:Gr.Type.Num,compositeRule:!0},g),_()})}function v(g){e.code((0,ft._)`${g}++`),i===void 0?e.if((0,ft._)`${g} >= ${a}`,()=>e.assign(f,!0).break()):(e.if((0,ft._)`${g} > ${i}`,()=>e.assign(f,!1).break()),a===1?e.assign(f,!0):e.if((0,ft._)`${g} >= ${a}`,()=>e.assign(f,!0)))}}};ds.default=wu;var Ra={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.validateSchemaDeps=t.validatePropertyDeps=t.error=void 0;const e=le,r=de,n=ie;t.error={message:({params:{property:l,depsCount:c,deps:u}})=>{const f=c===1?"property":"properties";return(0,e.str)`must have ${f} ${u} when property ${l} is present`},params:({params:{property:l,depsCount:c,deps:u,missingProperty:f}})=>(0,e._)`{property: ${l},
    missingProperty: ${f},
    depsCount: ${c},
    deps: ${u}}`};const s={keyword:"dependencies",type:"object",schemaType:"object",error:t.error,code(l){const[c,u]=o(l);a(l,c),i(l,u)}};function o({schema:l}){const c={},u={};for(const f in l){if(f==="__proto__")continue;const m=Array.isArray(l[f])?c:u;m[f]=l[f]}return[c,u]}function a(l,c=l.schema){const{gen:u,data:f,it:m}=l;if(Object.keys(c).length===0)return;const b=u.let("missing");for(const v in c){const g=c[v];if(g.length===0)continue;const _=(0,n.propertyInData)(u,f,v,m.opts.ownProperties);l.setParams({property:v,depsCount:g.length,deps:g.join(", ")}),m.allErrors?u.if(_,()=>{for(const d of g)(0,n.checkReportMissingProp)(l,d)}):(u.if((0,e._)`${_} && (${(0,n.checkMissingProp)(l,g,b)})`),(0,n.reportMissingProp)(l,b),u.else())}}t.validatePropertyDeps=a;function i(l,c=l.schema){const{gen:u,data:f,keyword:m,it:b}=l,v=u.name("valid");for(const g in c)(0,r.alwaysValidSchema)(b,c[g])||(u.if((0,n.propertyInData)(u,f,g,b.opts.ownProperties),()=>{const _=l.subschema({keyword:m,schemaProp:g},v);l.mergeValidEvaluated(_,v)},()=>u.var(v,!0)),l.ok(v))}t.validateSchemaDeps=i,t.default=s})(Ra);var hs={};Object.defineProperty(hs,"__esModule",{value:!0});const Ia=le,ku=de,Eu={message:"property name must be valid",params:({params:t})=>(0,Ia._)`{propertyName: ${t.propertyName}}`},Su={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:Eu,code(t){const{gen:e,schema:r,data:n,it:s}=t;if((0,ku.alwaysValidSchema)(s,r))return;const o=e.name("valid");e.forIn("key",n,a=>{t.setParams({propertyName:a}),t.subschema({keyword:"propertyNames",data:a,dataTypes:["string"],propertyName:a,compositeRule:!0},o),e.if((0,Ia.not)(o),()=>{t.error(!0),s.allErrors||e.break()})}),t.ok(o)}};hs.default=Su;var gn={};Object.defineProperty(gn,"__esModule",{value:!0});const Jr=ie,vt=le,Pu=Nt,Xr=de,Cu={message:"must NOT have additional properties",params:({params:t})=>(0,vt._)`{additionalProperty: ${t.additionalProperty}}`},Nu={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:Cu,code(t){const{gen:e,schema:r,parentSchema:n,data:s,errsCount:o,it:a}=t;if(!o)throw new Error("ajv implementation error");const{allErrors:i,opts:l}=a;if(a.props=!0,l.removeAdditional!=="all"&&(0,Xr.alwaysValidSchema)(a,r))return;const c=(0,Jr.allSchemaProperties)(n.properties),u=(0,Jr.allSchemaProperties)(n.patternProperties);f(),t.ok((0,vt._)`${o} === ${Pu.default.errors}`);function f(){e.forIn("key",s,_=>{!c.length&&!u.length?v(_):e.if(m(_),()=>v(_))})}function m(_){let d;if(c.length>8){const $=(0,Xr.schemaRefOrVal)(a,n.properties,"properties");d=(0,Jr.isOwnProperty)(e,$,_)}else c.length?d=(0,vt.or)(...c.map($=>(0,vt._)`${_} === ${$}`)):d=vt.nil;return u.length&&(d=(0,vt.or)(d,...u.map($=>(0,vt._)`${(0,Jr.usePattern)(t,$)}.test(${_})`))),(0,vt.not)(d)}function b(_){e.code((0,vt._)`delete ${s}[${_}]`)}function v(_){if(l.removeAdditional==="all"||l.removeAdditional&&r===!1){b(_);return}if(r===!1){t.setParams({additionalProperty:_}),t.error(),i||e.break();return}if(typeof r=="object"&&!(0,Xr.alwaysValidSchema)(a,r)){const d=e.name("valid");l.removeAdditional==="failing"?(g(_,d,!1),e.if((0,vt.not)(d),()=>{t.reset(),b(_)})):(g(_,d),i||e.if((0,vt.not)(d),()=>e.break()))}}function g(_,d,$){const P={keyword:"additionalProperties",dataProp:_,dataPropType:Xr.Type.Str};$===!1&&Object.assign(P,{compositeRule:!0,createErrors:!1,allErrors:!1}),t.subschema(P,d)}}};gn.default=Nu;var ms={};Object.defineProperty(ms,"__esModule",{value:!0});const Ou=$t,xs=ie,Nn=de,eo=gn,Tu={keyword:"properties",type:"object",schemaType:"object",code(t){const{gen:e,schema:r,parentSchema:n,data:s,it:o}=t;o.opts.removeAdditional==="all"&&n.additionalProperties===void 0&&eo.default.code(new Ou.KeywordCxt(o,eo.default,"additionalProperties"));const a=(0,xs.allSchemaProperties)(r);for(const f of a)o.definedProperties.add(f);o.opts.unevaluated&&a.length&&o.props!==!0&&(o.props=Nn.mergeEvaluated.props(e,(0,Nn.toHash)(a),o.props));const i=a.filter(f=>!(0,Nn.alwaysValidSchema)(o,r[f]));if(i.length===0)return;const l=e.name("valid");for(const f of i)c(f)?u(f):(e.if((0,xs.propertyInData)(e,s,f,o.opts.ownProperties)),u(f),o.allErrors||e.else().var(l,!0),e.endIf()),t.it.definedProperties.add(f),t.ok(l);function c(f){return o.opts.useDefaults&&!o.compositeRule&&r[f].default!==void 0}function u(f){t.subschema({keyword:"properties",schemaProp:f,dataProp:f},l)}}};ms.default=Tu;var ps={};Object.defineProperty(ps,"__esModule",{value:!0});const to=ie,Yr=le,ro=de,no=de,Au={keyword:"patternProperties",type:"object",schemaType:"object",code(t){const{gen:e,schema:r,data:n,parentSchema:s,it:o}=t,{opts:a}=o,i=(0,to.allSchemaProperties)(r),l=i.filter(g=>(0,ro.alwaysValidSchema)(o,r[g]));if(i.length===0||l.length===i.length&&(!o.opts.unevaluated||o.props===!0))return;const c=a.strictSchema&&!a.allowMatchingProperties&&s.properties,u=e.name("valid");o.props!==!0&&!(o.props instanceof Yr.Name)&&(o.props=(0,no.evaluatedPropsToName)(e,o.props));const{props:f}=o;m();function m(){for(const g of i)c&&b(g),o.allErrors?v(g):(e.var(u,!0),v(g),e.if(u))}function b(g){for(const _ in c)new RegExp(g).test(_)&&(0,ro.checkStrictMode)(o,`property ${_} matches pattern ${g} (use allowMatchingProperties)`)}function v(g){e.forIn("key",n,_=>{e.if((0,Yr._)`${(0,to.usePattern)(t,g)}.test(${_})`,()=>{const d=l.includes(g);d||t.subschema({keyword:"patternProperties",schemaProp:g,dataProp:_,dataPropType:no.Type.Str},u),o.opts.unevaluated&&f!==!0?e.assign((0,Yr._)`${f}[${_}]`,!0):!d&&!o.allErrors&&e.if((0,Yr.not)(u),()=>e.break())})})}}};ps.default=Au;var _s={};Object.defineProperty(_s,"__esModule",{value:!0});const ju=de,Ru={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(t){const{gen:e,schema:r,it:n}=t;if((0,ju.alwaysValidSchema)(n,r)){t.fail();return}const s=e.name("valid");t.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},s),t.failResult(s,()=>t.reset(),()=>t.error())},error:{message:"must NOT be valid"}};_s.default=Ru;var gs={};Object.defineProperty(gs,"__esModule",{value:!0});const Iu=ie,Du={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:Iu.validateUnion,error:{message:"must match a schema in anyOf"}};gs.default=Du;var vs={};Object.defineProperty(vs,"__esModule",{value:!0});const rn=le,Mu=de,zu={message:"must match exactly one schema in oneOf",params:({params:t})=>(0,rn._)`{passingSchemas: ${t.passing}}`},Vu={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:zu,code(t){const{gen:e,schema:r,parentSchema:n,it:s}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");if(s.opts.discriminator&&n.discriminator)return;const o=r,a=e.let("valid",!1),i=e.let("passing",null),l=e.name("_valid");t.setParams({passing:i}),e.block(c),t.result(a,()=>t.reset(),()=>t.error(!0));function c(){o.forEach((u,f)=>{let m;(0,Mu.alwaysValidSchema)(s,u)?e.var(l,!0):m=t.subschema({keyword:"oneOf",schemaProp:f,compositeRule:!0},l),f>0&&e.if((0,rn._)`${l} && ${a}`).assign(a,!1).assign(i,(0,rn._)`[${i}, ${f}]`).else(),e.if(l,()=>{e.assign(a,!0),e.assign(i,f),m&&t.mergeEvaluated(m,rn.Name)})})}}};vs.default=Vu;var ys={};Object.defineProperty(ys,"__esModule",{value:!0});const Fu=de,Lu={keyword:"allOf",schemaType:"array",code(t){const{gen:e,schema:r,it:n}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");const s=e.name("valid");r.forEach((o,a)=>{if((0,Fu.alwaysValidSchema)(n,o))return;const i=t.subschema({keyword:"allOf",schemaProp:a},s);t.ok(s),t.mergeEvaluated(i)})}};ys.default=Lu;var bs={};Object.defineProperty(bs,"__esModule",{value:!0});const un=le,Da=de,Uu={message:({params:t})=>(0,un.str)`must match "${t.ifClause}" schema`,params:({params:t})=>(0,un._)`{failingKeyword: ${t.ifClause}}`},qu={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:Uu,code(t){const{gen:e,parentSchema:r,it:n}=t;r.then===void 0&&r.else===void 0&&(0,Da.checkStrictMode)(n,'"if" without "then" and "else" is ignored');const s=so(n,"then"),o=so(n,"else");if(!s&&!o)return;const a=e.let("valid",!0),i=e.name("_valid");if(l(),t.reset(),s&&o){const u=e.let("ifClause");t.setParams({ifClause:u}),e.if(i,c("then",u),c("else",u))}else s?e.if(i,c("then")):e.if((0,un.not)(i),c("else"));t.pass(a,()=>t.error(!0));function l(){const u=t.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},i);t.mergeEvaluated(u)}function c(u,f){return()=>{const m=t.subschema({keyword:u},i);e.assign(a,i),t.mergeValidEvaluated(m,a),f?e.assign(f,(0,un._)`${u}`):t.setParams({ifClause:u})}}}};function so(t,e){const r=t.schema[e];return r!==void 0&&!(0,Da.alwaysValidSchema)(t,r)}bs.default=qu;var $s={};Object.defineProperty($s,"__esModule",{value:!0});const Bu=de,Ku={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:t,parentSchema:e,it:r}){e.if===void 0&&(0,Bu.checkStrictMode)(r,`"${t}" without "if" is ignored`)}};$s.default=Ku;Object.defineProperty(cs,"__esModule",{value:!0});const Wu=vr,Hu=us,Gu=yr,Ju=fs,Xu=ds,Yu=Ra,Zu=hs,Qu=gn,xu=ms,ef=ps,tf=_s,rf=gs,nf=vs,sf=ys,of=bs,af=$s;function lf(t=!1){const e=[tf.default,rf.default,nf.default,sf.default,of.default,af.default,Zu.default,Qu.default,Yu.default,xu.default,ef.default];return t?e.push(Hu.default,Ju.default):e.push(Wu.default,Gu.default),e.push(Xu.default),e}cs.default=lf;var ws={},ks={};Object.defineProperty(ks,"__esModule",{value:!0});const De=le,cf={message:({schemaCode:t})=>(0,De.str)`must match format "${t}"`,params:({schemaCode:t})=>(0,De._)`{format: ${t}}`},uf={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:cf,code(t,e){const{gen:r,data:n,$data:s,schema:o,schemaCode:a,it:i}=t,{opts:l,errSchemaPath:c,schemaEnv:u,self:f}=i;if(!l.validateFormats)return;s?m():b();function m(){const v=r.scopeValue("formats",{ref:f.formats,code:l.code.formats}),g=r.const("fDef",(0,De._)`${v}[${a}]`),_=r.let("fType"),d=r.let("format");r.if((0,De._)`typeof ${g} == "object" && !(${g} instanceof RegExp)`,()=>r.assign(_,(0,De._)`${g}.type || "string"`).assign(d,(0,De._)`${g}.validate`),()=>r.assign(_,(0,De._)`"string"`).assign(d,g)),t.fail$data((0,De.or)($(),P()));function $(){return l.strictSchema===!1?De.nil:(0,De._)`${a} && !${d}`}function P(){const S=u.$async?(0,De._)`(${g}.async ? await ${d}(${n}) : ${d}(${n}))`:(0,De._)`${d}(${n})`,A=(0,De._)`(typeof ${d} == "function" ? ${S} : ${d}.test(${n}))`;return(0,De._)`${d} && ${d} !== true && ${_} === ${e} && !${A}`}}function b(){const v=f.formats[o];if(!v){$();return}if(v===!0)return;const[g,_,d]=P(v);g===e&&t.pass(S());function $(){if(l.strictSchema===!1){f.logger.warn(A());return}throw new Error(A());function A(){return`unknown format "${o}" ignored in schema at path "${c}"`}}function P(A){const y=A instanceof RegExp?(0,De.regexpCode)(A):l.code.formats?(0,De._)`${l.code.formats}${(0,De.getProperty)(o)}`:void 0,O=r.scopeValue("formats",{key:o,ref:A,code:y});return typeof A=="object"&&!(A instanceof RegExp)?[A.type||"string",A.validate,(0,De._)`${O}.validate`]:["string",A,O]}function S(){if(typeof v=="object"&&!(v instanceof RegExp)&&v.async){if(!u.$async)throw new Error("async format in sync schema");return(0,De._)`await ${d}(${n})`}return typeof _=="function"?(0,De._)`${d}(${n})`:(0,De._)`${d}.test(${n})`}}}};ks.default=uf;Object.defineProperty(ws,"__esModule",{value:!0});const ff=ks,df=[ff.default];ws.default=df;var _r={};Object.defineProperty(_r,"__esModule",{value:!0});_r.contentVocabulary=_r.metadataVocabulary=void 0;_r.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];_r.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(Jn,"__esModule",{value:!0});const hf=Xn,mf=Zn,pf=cs,_f=ws,oo=_r,gf=[hf.default,mf.default,(0,pf.default)(),_f.default,oo.metadataVocabulary,oo.contentVocabulary];Jn.default=gf;var Es={},Ma={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DiscrError=void 0,function(e){e.Tag="tag",e.Mapping="mapping"}(t.DiscrError||(t.DiscrError={}))})(Ma);Object.defineProperty(Es,"__esModule",{value:!0});const cr=le,Vn=Ma,ao=st,vf=de,yf={message:({params:{discrError:t,tagName:e}})=>t===Vn.DiscrError.Tag?`tag "${e}" must be string`:`value of tag "${e}" must be in oneOf`,params:({params:{discrError:t,tag:e,tagName:r}})=>(0,cr._)`{error: ${t}, tag: ${r}, tagValue: ${e}}`},bf={keyword:"discriminator",type:"object",schemaType:"object",error:yf,code(t){const{gen:e,data:r,schema:n,parentSchema:s,it:o}=t,{oneOf:a}=s;if(!o.opts.discriminator)throw new Error("discriminator: requires discriminator option");const i=n.propertyName;if(typeof i!="string")throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!a)throw new Error("discriminator: requires oneOf keyword");const l=e.let("valid",!1),c=e.const("tag",(0,cr._)`${r}${(0,cr.getProperty)(i)}`);e.if((0,cr._)`typeof ${c} == "string"`,()=>u(),()=>t.error(!1,{discrError:Vn.DiscrError.Tag,tag:c,tagName:i})),t.ok(l);function u(){const b=m();e.if(!1);for(const v in b)e.elseIf((0,cr._)`${c} === ${v}`),e.assign(l,f(b[v]));e.else(),t.error(!1,{discrError:Vn.DiscrError.Mapping,tag:c,tagName:i}),e.endIf()}function f(b){const v=e.name("valid"),g=t.subschema({keyword:"oneOf",schemaProp:b},v);return t.mergeEvaluated(g,cr.Name),v}function m(){var b;const v={},g=d(s);let _=!0;for(let S=0;S<a.length;S++){let A=a[S];(A==null?void 0:A.$ref)&&!(0,vf.schemaHasRulesButRef)(A,o.self.RULES)&&(A=ao.resolveRef.call(o.self,o.schemaEnv.root,o.baseId,A==null?void 0:A.$ref),A instanceof ao.SchemaEnv&&(A=A.schema));const y=(b=A==null?void 0:A.properties)===null||b===void 0?void 0:b[i];if(typeof y!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${i}"`);_=_&&(g||d(A)),$(y,S)}if(!_)throw new Error(`discriminator: "${i}" must be required`);return v;function d({required:S}){return Array.isArray(S)&&S.includes(i)}function $(S,A){if(S.const)P(S.const,A);else if(S.enum)for(const y of S.enum)P(y,A);else throw new Error(`discriminator: "properties/${i}" must have "const" or "enum"`)}function P(S,A){if(typeof S!="string"||S in v)throw new Error(`discriminator: "${i}" values must be unique strings`);v[S]=A}}}};Es.default=bf;const $f="http://json-schema.org/draft-07/schema#",wf="http://json-schema.org/draft-07/schema#",kf="Core schema meta-schema",Ef={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},Sf=["object","boolean"],Pf={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}};var Cf={$schema:$f,$id:wf,title:kf,definitions:Ef,type:Sf,properties:Pf,default:!0};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;const r=na,n=Jn,s=Es,o=Cf,a=["/properties"],i="http://json-schema.org/draft-07/schema";class l extends r.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(m=>this.addVocabulary(m)),this.opts.discriminator&&this.addKeyword(s.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const m=this.opts.$data?this.$dataMetaSchema(o,a):o;this.addMetaSchema(m,i,!1),this.refs["http://json-schema.org/schema"]=i}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(i)?i:void 0)}}t.exports=e=l,Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var c=$t;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return c.KeywordCxt}});var u=le;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return u._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return u.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return u.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return u.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return u.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return u.CodeGen}})})(jn,jn.exports);var Nf=Fi(jn.exports);const rr="0.4",Of=new Nf({strict:!1});function za(t,e){return`https://raw.githubusercontent.com/ome/ngff/main/${e}/schemas/${t}.schema`}async function Va(t){return await fetch(t).then(function(e){if(e.ok)return e;throw console.log("Fetch error:",e),new Error(`Error loading ${t}: ${e.statusText}`)})}async function Bt(t){return Va(t).then(e=>e.json())}async function Tf(t){let e=await Af(t);console.log("xmlString",e);var r=new DOMParser;let n=r.parseFromString(e,"text/xml");return console.log("dom",n),n}async function Af(t){return Va(t).then(e=>e.text())}let On={};async function fn(t,e="image"){let r=e+t;if(!On[r]){const n=za(e,t);console.log("Loading schema... "+n);try{const s=await Bt(n);delete s.$schema,On[r]=s}catch{throw new Error(`No schema at ${n}. Version ${t} may be invalid.`)}}return On[r]}function Vr(t){return t.multiscales?t.multiscales[0].version:t.plate?t.plate.version:t.well?t.well.version:void 0}function jf(t){return t[0].toUpperCase()+t.slice(1)}function Fa(t){if(t["bioformats2raw.layout"])return"bioformats2raw.layout";let e=Ss(t);return e?jf(e):""}function Ss(t){return t.multiscales?"image":t.plate?"plate":t.well?"well":void 0}function Rf(t){const r=Vr(t)||rr,n=Ss(t);return za(n,r)}function If(t,e){const r=Of.compile(t),n=r(e);let s=[];return n||(s=r.errors,console.log(s)),s}async function Ir(t){const e=Ss(t);if(!e)return["Unrecognised JSON data"];let r=Vr(t);r||(console.log("No version found, using: "+rr),r=rr);let n=await fn(r,e);return If(n,t)}function Df(t){var e=["Bytes","KB","MB","GB","TB"];if(t==0)return"0 Byte";var r=Math.floor(Math.log(t)/Math.log(1e3));return(t/Math.pow(1e3,r)).toFixed(2)+" "+e[r]}function La(t){return new URLSearchParams(window.location.search).get(t)}function Ua(t){return Array.from({length:t},(e,r)=>r)}function Mf(t){let e,r=[{width:t[1]},{height:t[1]},{"stroke-width":"0"},{class:t[2]},t[0].a,t[4],{xmlns:"http://www.w3.org/2000/svg"}],n={};for(let s=0;s<r.length;s+=1)n=Go(n,r[s]);return{c(){e=mi("svg"),Vs(e,n)},m(s,o){D(s,e,o),e.innerHTML=t[3]},p(s,[o]){o&8&&(e.innerHTML=s[3]),Vs(e,n=Ai(r,[o&2&&{width:s[1]},o&2&&{height:s[1]},{"stroke-width":"0"},o&4&&{class:s[2]},o&1&&s[0].a,o&16&&s[4],{xmlns:"http://www.w3.org/2000/svg"}]))},i:K,o:K,d(s){s&&I(e)}}}function zf(t,e,r){let{src:n}=e,{size:s="1em"}=e,{color:o=void 0}=e,{title:a=void 0}=e,{className:i=""}=e,l,c;return t.$$set=u=>{"src"in u&&r(0,n=u.src),"size"in u&&r(1,s=u.size),"color"in u&&r(5,o=u.color),"title"in u&&r(6,a=u.title),"className"in u&&r(2,i=u.className)},t.$$.update=()=>{t.$$.dirty&33&&(r(4,c={}),o&&(n.a.stroke!=="none"&&r(4,c.stroke=o,c),n.a.fill!=="none"&&r(4,c.fill=o,c))),t.$$.dirty&65&&r(3,l=(a?`<title>${a}</title>`:"")+n.c)},[n,s,i,l,c,o,a]}class qa extends qe{constructor(e){super(),Ue(this,e,zf,Mf,Le,{src:0,size:1,color:5,title:6,className:2})}}var Vf={a:{viewBox:"0 0 16 16",fill:"currentColor"},c:'<path d="M12.14 8.753l-5.482 4.796c-.646.566-1.658.106-1.658-.753V3.204a1 1 0 0 1 1.659-.753l5.48 4.796a1 1 0 0 1 0 1.506z"></path>'};function Ff(t){const e=t-1;return e*e*e+1}function Lf(t,{delay:e=0,duration:r=400,easing:n=Ho}={}){const s=+getComputedStyle(t).opacity;return{delay:e,duration:r,easing:n,css:o=>`opacity: ${o*s}`}}function io(t,{delay:e=0,duration:r=400,easing:n=Ff}={}){const s=getComputedStyle(t),o=+s.opacity,a=parseFloat(s.height),i=parseFloat(s.paddingTop),l=parseFloat(s.paddingBottom),c=parseFloat(s.marginTop),u=parseFloat(s.marginBottom),f=parseFloat(s.borderTopWidth),m=parseFloat(s.borderBottomWidth);return{delay:e,duration:r,easing:n,css:b=>`overflow: hidden;opacity: ${Math.min(b*20,1)*o};height: ${b*a}px;padding-top: ${b*i}px;padding-bottom: ${b*l}px;margin-top: ${b*c}px;margin-bottom: ${b*u}px;border-top-width: ${b*f}px;border-bottom-width: ${b*m}px;`}}var Uf={a:{viewBox:"0 0 16 16",fill:"currentColor"},c:'<path fill-rule="evenodd" d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm.93-9.412l-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM8 5.5a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"></path>'};function lo(t){let e,r,n,s,o,a;return r=new qa({props:{className:"info",src:Uf}}),{c(){e=R("a"),_e(r.$$.fragment),N(e,"target","_blank"),N(e,"href",t[1]),N(e,"title",n="Open ngff spec for "+t[0]+"."),N(e,"class","svelte-18a4t9w")},m(i,l){D(i,e,l),me(r,e,null),s=!0,o||(a=nt(e,"click",pi(t[4])),o=!0)},p(i,l){(!s||l&2)&&N(e,"href",i[1]),(!s||l&1&&n!==(n="Open ngff spec for "+i[0]+"."))&&N(e,"title",n)},i(i){s||(B(r.$$.fragment,i),s=!0)},o(i){H(r.$$.fragment,i),s=!1},d(i){i&&I(e),pe(r),o=!1,a()}}}function qf(t){let e,r,n,s,o,a=t[1]&&lo(t);return{c(){e=R("span"),r=q(t[0]),a&&a.c(),N(e,"class","key svelte-18a4t9w"),N(e,"href",t[1])},m(i,l){D(i,e,l),C(e,r),a&&a.m(e,null),n=!0,s||(o=nt(e,"click",t[2]),s=!0)},p(i,[l]){(!n||l&1)&&Ke(r,i[0]),i[1]?a?(a.p(i,l),l&2&&B(a,1)):(a=lo(i),a.c(),B(a,1),a.m(e,null)):a&&(Te(),H(a,1,1,()=>{a=null}),Ae()),(!n||l&2)&&N(e,"href",i[1])},i(i){n||(B(a),n=!0)},o(i){H(a),n=!1},d(i){i&&I(e),a&&a.d(),s=!1,o()}}}function Bf(t,e,r){const n=ta();function s(){n("toggle")}let{name:o}=e,{version:a}=e;const i={multiscales:"multiscale-md",omero:"omero-md",labels:"labels-md","image-label":"label-md",plate:"plate-md",well:"well-md"},c={"0.1":i,"0.2":i,"0.3":i,"0.4":Oe({axes:"axes-md",coordinateTransforms:"trafo-md"},i)}[a]||{};let u="";c[o]&&(u=`https://ngff.openmicroscopy.org/${a}/index.html#${c[o]}`);function f(m){Si.call(this,t,m)}return t.$$set=m=>{"name"in m&&r(0,o=m.name),"version"in m&&r(3,a=m.version)},[o,u,s,a,f]}class Kf extends qe{constructor(e){super(),Ue(this,e,Bf,qf,Le,{name:0,version:3})}}function co(t,e,r){const n=t.slice();return n[9]=e[r],n[8]=r,n}function uo(t,e,r){const n=t.slice();return n[6]=e[r],n[8]=r,n}function fo(t){let e,r,n;return e=new Kf({props:{name:t[1],version:t[4]}}),e.$on("toggle",t[5]),{c(){_e(e.$$.fragment),r=q(":")},m(s,o){me(e,s,o),D(s,r,o),n=!0},p(s,o){const a={};o&2&&(a.name=s[1]),o&16&&(a.version=s[4]),e.$set(a)},i(s){n||(B(e.$$.fragment,s),n=!0)},o(s){H(e.$$.fragment,s),n=!1},d(s){pe(e,s),s&&I(r)}}}function Wf(t){let e="{",r;return{c(){r=q(e)},m(n,s){D(n,r,s)},d(n){n&&I(r)}}}function Hf(t){let e="[",r;return{c(){r=q(e)},m(n,s){D(n,r,s)},d(n){n&&I(r)}}}function ho(t){let e,r,n,s,o,a,i,l,c;function u(d,$){return $&4&&(n=null),n==null&&(n=!!Array.isArray(d[2])),n?Jf:Gf}let f=u(t,-1),m=f(t),b=!t[3]&&mo();function v(d,$){return $&4&&(l=null),l==null&&(l=!!Array.isArray(d[2])),l?Yf:Xf}let g=v(t,-1),_=g(t);return{c(){e=R("span"),e.textContent="...",r=X(),m.c(),s=X(),b&&b.c(),o=X(),a=R("span"),i=q("// "),_.c(),c=q(" items"),N(e,"class","comment dots svelte-60tpry"),N(a,"class","comment svelte-60tpry")},m(d,$){D(d,e,$),D(d,r,$),m.m(d,$),D(d,s,$),b&&b.m(d,$),D(d,o,$),D(d,a,$),C(a,i),_.m(a,null),C(a,c)},p(d,$){f!==(f=u(d,$))&&(m.d(1),m=f(d),m&&(m.c(),m.m(s.parentNode,s))),d[3]?b&&(b.d(1),b=null):b||(b=mo(),b.c(),b.m(o.parentNode,o)),g===(g=v(d,$))&&_?_.p(d,$):(_.d(1),_=g(d),_&&(_.c(),_.m(a,c)))},d(d){d&&I(e),d&&I(r),m.d(d),d&&I(s),b&&b.d(d),d&&I(o),d&&I(a),_.d()}}}function Gf(t){let e="}",r;return{c(){r=q(e)},m(n,s){D(n,r,s)},d(n){n&&I(r)}}}function Jf(t){let e="]",r;return{c(){r=q(e)},m(n,s){D(n,r,s)},d(n){n&&I(r)}}}function mo(t){let e;return{c(){e=R("span"),e.textContent=",",N(e,"class","trailing-comma svelte-60tpry")},m(r,n){D(r,e,n)},d(r){r&&I(e)}}}function Xf(t){let e=Object.keys(t[2]).length+"",r;return{c(){r=q(e)},m(n,s){D(n,r,s)},p(n,s){s&4&&e!==(e=Object.keys(n[2]).length+"")&&Ke(r,e)},d(n){n&&I(r)}}}function Yf(t){let e=t[2].length+"",r;return{c(){r=q(e)},m(n,s){D(n,r,s)},p(n,s){s&4&&e!==(e=n[2].length+"")&&Ke(r,e)},d(n){n&&I(r)}}}function po(t){let e,r,n,s,o,a;const i=[Qf,Zf],l=[];function c(u,f){return f&4&&(r=null),r==null&&(r=!!Array.isArray(u[2])),r?0:1}return n=c(t,-1),s=l[n]=i[n](t),{c(){e=R("ul"),s.c(),N(e,"class","svelte-60tpry")},m(u,f){D(u,e,f),l[n].m(e,null),a=!0},p(u,f){let m=n;n=c(u,f),n===m?l[n].p(u,f):(Te(),H(l[m],1,1,()=>{l[m]=null}),Ae(),s=l[n],s?s.p(u,f):(s=l[n]=i[n](u),s.c()),B(s,1),s.m(e,null))},i(u){a||(B(s),xt(()=>{o||(o=fr(e,io,{duration:300},!0)),o.run(1)}),a=!0)},o(u){H(s),o||(o=fr(e,io,{duration:300},!1)),o.run(0),a=!1},d(u){u&&I(e),l[n].d(),u&&o&&o.end()}}}function Zf(t){let e,r,n=Object.entries(t[2]),s=[];for(let a=0;a<n.length;a+=1)s[a]=go(co(t,n,a));const o=a=>H(s[a],1,1,()=>{s[a]=null});return{c(){for(let a=0;a<s.length;a+=1)s[a].c();e=je()},m(a,i){for(let l=0;l<s.length;l+=1)s[l].m(a,i);D(a,e,i),r=!0},p(a,i){if(i&20){n=Object.entries(a[2]);let l;for(l=0;l<n.length;l+=1){const c=co(a,n,l);s[l]?(s[l].p(c,i),B(s[l],1)):(s[l]=go(c),s[l].c(),B(s[l],1),s[l].m(e.parentNode,e))}for(Te(),l=n.length;l<s.length;l+=1)o(l);Ae()}},i(a){if(!r){for(let i=0;i<n.length;i+=1)B(s[i]);r=!0}},o(a){s=s.filter(Boolean);for(let i=0;i<s.length;i+=1)H(s[i]);r=!1},d(a){dt(s,a),a&&I(e)}}}function Qf(t){let e,r,n=t[2],s=[];for(let a=0;a<n.length;a+=1)s[a]=yo(uo(t,n,a));const o=a=>H(s[a],1,1,()=>{s[a]=null});return{c(){for(let a=0;a<s.length;a+=1)s[a].c();e=je()},m(a,i){for(let l=0;l<s.length;l+=1)s[l].m(a,i);D(a,e,i),r=!0},p(a,i){if(i&20){n=a[2];let l;for(l=0;l<n.length;l+=1){const c=uo(a,n,l);s[l]?(s[l].p(c,i),B(s[l],1)):(s[l]=yo(c),s[l].c(),B(s[l],1),s[l].m(e.parentNode,e))}for(Te(),l=n.length;l<s.length;l+=1)o(l);Ae()}},i(a){if(!r){for(let i=0;i<n.length;i+=1)B(s[i]);r=!0}},o(a){s=s.filter(Boolean);for(let i=0;i<s.length;i+=1)H(s[i]);r=!1},d(a){dt(s,a),a&&I(e)}}}function xf(t){let e,r,n=t[9][0]+"",s,o,a,i,l=Object.keys(t[2]).length!=t[8]+1,c;function u(v,g){return typeof v[9][1]=="string"?nd:typeof v[9][1]=="number"?rd:td}let f=u(t),m=f(t),b=l&&_o();return{c(){e=R("span"),r=q('"'),s=q(n),o=q('"'),a=q(`:

                
                `),m.c(),i=X(),b&&b.c(),c=je(),N(e,"class","key indent svelte-60tpry")},m(v,g){D(v,e,g),C(e,r),C(e,s),C(e,o),D(v,a,g),m.m(v,g),D(v,i,g),b&&b.m(v,g),D(v,c,g)},p(v,g){g&4&&n!==(n=v[9][0]+"")&&Ke(s,n),f===(f=u(v))&&m?m.p(v,g):(m.d(1),m=f(v),m&&(m.c(),m.m(i.parentNode,i))),g&4&&(l=Object.keys(v[2]).length!=v[8]+1),l?b||(b=_o(),b.c(),b.m(c.parentNode,c)):b&&(b.d(1),b=null)},i:K,o:K,d(v){v&&I(e),v&&I(a),m.d(v),v&&I(i),b&&b.d(v),v&&I(c)}}}function ed(t){let e,r;return e=new vn({props:{name:t[9][0],version:t[4],contents:t[9][1],expanded:Object.values(t[2]).length==1,last:Object.keys(t[2]).length===t[8]+1}}),{c(){_e(e.$$.fragment)},m(n,s){me(e,n,s),r=!0},p(n,s){const o={};s&4&&(o.name=n[9][0]),s&16&&(o.version=n[4]),s&4&&(o.contents=n[9][1]),s&4&&(o.expanded=Object.values(n[2]).length==1),s&4&&(o.last=Object.keys(n[2]).length===n[8]+1),e.$set(o)},i(n){r||(B(e.$$.fragment,n),r=!0)},o(n){H(e.$$.fragment,n),r=!1},d(n){pe(e,n)}}}function td(t){let e,r=t[9][1]+"",n;return{c(){e=R("span"),n=q(r),N(e,"class","null svelte-60tpry")},m(s,o){D(s,e,o),C(e,n)},p(s,o){o&4&&r!==(r=s[9][1]+"")&&Ke(n,r)},d(s){s&&I(e)}}}function rd(t){let e,r=t[9][1]+"",n;return{c(){e=R("span"),n=q(r),N(e,"class","number svelte-60tpry")},m(s,o){D(s,e,o),C(e,n)},p(s,o){o&4&&r!==(r=s[9][1]+"")&&Ke(n,r)},d(s){s&&I(e)}}}function nd(t){let e,r,n=t[9][1]+"",s,o;return{c(){e=R("span"),r=q('"'),s=q(n),o=q('"'),N(e,"class","string svelte-60tpry")},m(a,i){D(a,e,i),C(e,r),C(e,s),C(e,o)},p(a,i){i&4&&n!==(n=a[9][1]+"")&&Ke(s,n)},d(a){a&&I(e)}}}function _o(t){let e;return{c(){e=R("span"),e.textContent=",",N(e,"class","trailing-comma svelte-60tpry")},m(r,n){D(r,e,n)},d(r){r&&I(e)}}}function go(t){let e,r,n,s,o;const a=[ed,xf],i=[];function l(c,u){return typeof c[9][1]=="object"?0:1}return r=l(t),n=i[r]=a[r](t),{c(){e=R("li"),n.c(),s=X(),N(e,"class","svelte-60tpry")},m(c,u){D(c,e,u),i[r].m(e,null),C(e,s),o=!0},p(c,u){let f=r;r=l(c),r===f?i[r].p(c,u):(Te(),H(i[f],1,1,()=>{i[f]=null}),Ae(),n=i[r],n?n.p(c,u):(n=i[r]=a[r](c),n.c()),B(n,1),n.m(e,s))},i(c){o||(B(n),o=!0)},o(c){H(n),o=!1},d(c){c&&I(e),i[r].d()}}}function sd(t){let e,r;function n(i,l){return typeof i[6]=="string"?ld:typeof i[6]=="number"?id:ad}let s=n(t),o=s(t),a=t[2].length!=t[8]+1&&vo();return{c(){o.c(),e=X(),a&&a.c(),r=je()},m(i,l){o.m(i,l),D(i,e,l),a&&a.m(i,l),D(i,r,l)},p(i,l){s===(s=n(i))&&o?o.p(i,l):(o.d(1),o=s(i),o&&(o.c(),o.m(e.parentNode,e))),i[2].length!=i[8]+1?a||(a=vo(),a.c(),a.m(r.parentNode,r)):a&&(a.d(1),a=null)},i:K,o:K,d(i){o.d(i),i&&I(e),a&&a.d(i),i&&I(r)}}}function od(t){let e,r;return e=new vn({props:{name:"",version:t[4],contents:t[6],expanded:t[2].length==1,last:t[2].length===t[8]+1}}),{c(){_e(e.$$.fragment)},m(n,s){me(e,n,s),r=!0},p(n,s){const o={};s&16&&(o.version=n[4]),s&4&&(o.contents=n[6]),s&4&&(o.expanded=n[2].length==1),s&4&&(o.last=n[2].length===n[8]+1),e.$set(o)},i(n){r||(B(e.$$.fragment,n),r=!0)},o(n){H(e.$$.fragment,n),r=!1},d(n){pe(e,n)}}}function ad(t){let e,r=t[6]+"",n;return{c(){e=R("span"),n=q(r),N(e,"class","null indent svelte-60tpry")},m(s,o){D(s,e,o),C(e,n)},p(s,o){o&4&&r!==(r=s[6]+"")&&Ke(n,r)},d(s){s&&I(e)}}}function id(t){let e,r=t[6]+"",n;return{c(){e=R("span"),n=q(r),N(e,"class","number indent svelte-60tpry")},m(s,o){D(s,e,o),C(e,n)},p(s,o){o&4&&r!==(r=s[6]+"")&&Ke(n,r)},d(s){s&&I(e)}}}function ld(t){let e,r,n=t[6]+"",s,o;return{c(){e=R("span"),r=q('"'),s=q(n),o=q('"'),N(e,"class","string indent svelte-60tpry")},m(a,i){D(a,e,i),C(e,r),C(e,s),C(e,o)},p(a,i){i&4&&n!==(n=a[6]+"")&&Ke(s,n)},d(a){a&&I(e)}}}function vo(t){let e;return{c(){e=R("span"),e.textContent=",",N(e,"class","trailing-comma svelte-60tpry")},m(r,n){D(r,e,n)},d(r){r&&I(e)}}}function yo(t){let e,r,n,s,o;const a=[od,sd],i=[];function l(c,u){return typeof c[6]=="object"?0:1}return r=l(t),n=i[r]=a[r](t),{c(){e=R("li"),n.c(),s=X(),N(e,"class","svelte-60tpry")},m(c,u){D(c,e,u),i[r].m(e,null),C(e,s),o=!0},p(c,u){let f=r;r=l(c),r===f?i[r].p(c,u):(Te(),H(i[f],1,1,()=>{i[f]=null}),Ae(),n=i[r],n?n.p(c,u):(n=i[r]=a[r](c),n.c()),B(n,1),n.m(e,s))},i(c){o||(B(n),o=!0)},o(c){H(n),o=!1},d(c){c&&I(e),i[r].d()}}}function bo(t){let e,r,n;function s(l,c){return c&4&&(e=null),e==null&&(e=!!Array.isArray(l[2])),e?ud:cd}let o=s(t,-1),a=o(t),i=!t[3]&&$o();return{c(){a.c(),r=X(),i&&i.c(),n=je()},m(l,c){a.m(l,c),D(l,r,c),i&&i.m(l,c),D(l,n,c)},p(l,c){o!==(o=s(l,c))&&(a.d(1),a=o(l),a&&(a.c(),a.m(r.parentNode,r))),l[3]?i&&(i.d(1),i=null):i||(i=$o(),i.c(),i.m(n.parentNode,n))},d(l){a.d(l),l&&I(r),i&&i.d(l),l&&I(n)}}}function cd(t){let e="}",r;return{c(){r=q(e)},m(n,s){D(n,r,s)},d(n){n&&I(r)}}}function ud(t){let e="]",r;return{c(){r=q(e)},m(n,s){D(n,r,s)},d(n){n&&I(r)}}}function $o(t){let e;return{c(){e=R("span"),e.textContent=",",N(e,"class","trailing-comma svelte-60tpry")},m(r,n){D(r,e,n)},d(r){r&&I(e)}}}function fd(t){let e,r,n,s,o,a,i,l,c,u,f,m,b,v;n=new qa({props:{className:"caret-toggle",src:Vf}});let g=t[1]&&fo(t);function _(y,O){return O&4&&(l=null),l==null&&(l=!!Array.isArray(y[2])),l?Hf:Wf}let d=_(t,-1),$=d(t),P=!t[0]&&ho(t),S=t[0]&&po(t),A=t[0]&&bo(t);return{c(){e=R("div"),r=R("div"),_e(n.$$.fragment),o=X(),a=R("div"),g&&g.c(),i=X(),$.c(),c=X(),P&&P.c(),u=X(),S&&S.c(),f=X(),A&&A.c(),N(r,"class",s=(t[0]?"expanded":"")+" caret svelte-60tpry"),N(a,"class","content svelte-60tpry"),N(e,"class","folder svelte-60tpry")},m(y,O){D(y,e,O),C(e,r),me(n,r,null),C(e,o),C(e,a),g&&g.m(a,null),C(a,i),$.m(a,null),C(a,c),P&&P.m(a,null),C(a,u),S&&S.m(a,null),C(a,f),A&&A.m(a,null),m=!0,b||(v=nt(r,"click",t[5]),b=!0)},p(y,[O]){(!m||O&1&&s!==(s=(y[0]?"expanded":"")+" caret svelte-60tpry"))&&N(r,"class",s),y[1]?g?(g.p(y,O),O&2&&B(g,1)):(g=fo(y),g.c(),B(g,1),g.m(a,i)):g&&(Te(),H(g,1,1,()=>{g=null}),Ae()),d!==(d=_(y,O))&&($.d(1),$=d(y),$&&($.c(),$.m(a,c))),y[0]?P&&(P.d(1),P=null):P?P.p(y,O):(P=ho(y),P.c(),P.m(a,u)),y[0]?S?(S.p(y,O),O&1&&B(S,1)):(S=po(y),S.c(),B(S,1),S.m(a,f)):S&&(Te(),H(S,1,1,()=>{S=null}),Ae()),y[0]?A?A.p(y,O):(A=bo(y),A.c(),A.m(a,null)):A&&(A.d(1),A=null)},i(y){m||(B(n.$$.fragment,y),B(g),B(S),m=!0)},o(y){H(n.$$.fragment,y),H(g),H(S),m=!1},d(y){y&&I(e),pe(n),g&&g.d(),$.d(),P&&P.d(),S&&S.d(),A&&A.d(),b=!1,v()}}}function dd(t,e,r){let{name:n}=e,{contents:s}=e,{expanded:o=!1}=e,{last:a=!0}=e,{version:i}=e;Object.keys(s).length==1&&(o=!0);function l(){r(0,o=!o)}return t.$$set=c=>{"name"in c&&r(1,n=c.name),"contents"in c&&r(2,s=c.contents),"expanded"in c&&r(0,o=c.expanded),"last"in c&&r(3,a=c.last),"version"in c&&r(4,i=c.version)},[o,n,s,a,i,l]}class vn extends qe{constructor(e){super(),Ue(this,e,dd,fd,Le,{name:1,contents:2,expanded:0,last:3,version:4})}}function hd(t){let e,r=t[6].message+"",n;return{c(){e=R("span"),n=q(r),N(e,"class","error svelte-xcxanv")},m(s,o){D(s,e,o),C(e,n)},p:K,d(s){s&&I(e)}}}function md(t){let e;function r(o,a){return o[5].length>0?_d:pd}let s=r(t)(t);return{c(){s.c(),e=je()},m(o,a){s.m(o,a),D(o,e,a)},p(o,a){s.p(o,a)},d(o){s.d(o),o&&I(e)}}}function pd(t){let e,r,n;return{c(){e=R("span"),r=q(t[1]),n=q(": \u2713"),N(e,"class","valid svelte-xcxanv")},m(s,o){D(s,e,o),C(e,r),C(e,n)},p(s,o){o&2&&Ke(r,s[1])},d(s){s&&I(e)}}}function _d(t){let e;return{c(){e=R("span"),e.textContent="\u2A2F Error!",N(e,"class","error svelte-xcxanv")},m(r,n){D(r,e,n)},p:K,d(r){r&&I(e)}}}function gd(t){let e,r,n;return{c(){e=R("span"),r=q(t[1]),n=q("."),N(e,"class","svelte-xcxanv")},m(s,o){D(s,e,o),C(e,r),C(e,n)},p(s,o){o&2&&Ke(r,s[1])},d(s){s&&I(e)}}}function vd(t){let e,r,n,s={ctx:t,current:null,token:null,hasCatch:!0,pending:gd,then:md,catch:hd,value:5,error:6};return ot(t[2],s),{c(){e=R("a"),s.block.c(),N(e,"title",r=t[1]+": Open Image"),N(e,"href",n=t[3]+"?source="+(t[0]+t[1])+"/"),N(e,"class","svelte-xcxanv")},m(o,a){D(o,e,a),s.block.m(e,s.anchor=null),s.mount=()=>e,s.anchor=null},p(o,[a]){t=o,ht(s,t,a),a&2&&r!==(r=t[1]+": Open Image")&&N(e,"title",r),a&3&&n!==(n=t[3]+"?source="+(t[0]+t[1])+"/")&&N(e,"href",n)},i:K,o:K,d(o){o&&I(e),s.block.d(),s.token=null,s=null}}}function yd(t,e,r){let{source:n}=e,{path:s}=e;async function o(){let l=await Bt(n+s+"/.zattrs");return console.log("imgAttrs",l),await Ir(l)}const a=o(),i=window.location.origin+window.location.pathname;return t.$$set=l=>{"source"in l&&r(0,n=l.source),"path"in l&&r(1,s=l.path)},[n,s,a,i]}class Ba extends qe{constructor(e){super(),Ue(this,e,yd,vd,Le,{source:0,path:1})}}var Ka="https://ome.github.io/ome-ngff-validator/assets/vizarr_logo.c1ca0190.png";const{Boolean:bd}=ra;function wo(t,e,r){const n=t.slice();return n[10]=e[r],n[12]=r,n}function ko(t,e,r){const n=t.slice();return n[14]=e[r],n[12]=r,n}function $d(t){let e,r=t[16].message+"",n;return{c(){e=R("p"),n=q(r),Ce(e,"color","red")},m(s,o){D(s,e,o),C(e,n)},p:K,i:K,o:K,d(s){s&&I(e)}}}function wd(t){let e,r,n,s,o,a,i,l={ctx:t,current:null,token:null,hasCatch:!0,pending:Sd,then:Ed,catch:kd,value:13,error:16,blocks:[,,,]};ot(s=t[4](t[0]+"0"),l);let c=t[9].errors&&Pd(t);return{c(){e=R("h1"),e.textContent="Images",r=X(),n=R("ol"),l.block.c(),o=X(),c&&c.c(),a=je(),N(e,"class","svelte-blz8kd")},m(u,f){D(u,e,f),D(u,r,f),D(u,n,f),l.block.m(n,l.anchor=null),l.mount=()=>n,l.anchor=null,D(u,o,f),c&&c.m(u,f),D(u,a,f),i=!0},p(u,f){t=u,l.ctx=t,f&1&&s!==(s=t[4](t[0]+"0"))&&ot(s,l)||ht(l,t,f),t[9].errors&&c.p(t,f)},i(u){i||(B(l.block),i=!0)},o(u){for(let f=0;f<3;f+=1){const m=l.blocks[f];H(m)}i=!1},d(u){u&&I(e),u&&I(r),u&&I(n),l.block.d(),l.token=null,l=null,u&&I(o),c&&c.d(u),u&&I(a)}}}function kd(t){let e,r=t[16].message+"",n;return{c(){e=R("p"),n=q(r),Ce(e,"color","red")},m(s,o){D(s,e,o),C(e,n)},p(s,o){o&1&&r!==(r=s[16].message+"")&&Ke(n,r)},i:K,o:K,d(s){s&&I(e)}}}function Ed(t){let e,r,n=t[9].images,s=[];for(let a=0;a<n.length;a+=1)s[a]=Eo(ko(t,n,a));const o=a=>H(s[a],1,1,()=>{s[a]=null});return{c(){e=R("ul");for(let a=0;a<s.length;a+=1)s[a].c()},m(a,i){D(a,e,i);for(let l=0;l<s.length;l+=1)s[l].m(e,null);r=!0},p(a,i){if(i&73){n=a[9].images;let l;for(l=0;l<n.length;l+=1){const c=ko(a,n,l);s[l]?(s[l].p(c,i),B(s[l],1)):(s[l]=Eo(c),s[l].c(),B(s[l],1),s[l].m(e,null))}for(Te(),l=n.length;l<s.length;l+=1)o(l);Ae()}},i(a){if(!r){for(let i=0;i<n.length;i+=1)B(s[i]);r=!0}},o(a){s=s.filter(bd);for(let i=0;i<s.length;i+=1)H(s[i]);r=!1},d(a){a&&I(e),dt(s,a)}}}function Eo(t){let e,r,n,s,o,a=t[14].name+"",i,l,c,u,f,m,b,v,g,_,d;return u=new Ba({props:{source:t[0],path:t[12]}}),{c(){e=R("li"),r=q("/"),n=q(t[12]),s=X(),o=R("a"),i=q(a),c=X(),_e(u.$$.fragment),f=X(),m=R("a"),b=R("img"),_=X(),N(o,"title","Open Image"),N(o,"href",l=t[6]+"?source="+t[0]+t[12]+"/"),N(o,"class","svelte-blz8kd"),Xo(b.src,v=Ka)||N(b,"src",v),N(b,"class","svelte-blz8kd"),N(m,"title","View image in vizarr"),N(m,"class","vizarr_link svelte-blz8kd"),N(m,"target","_blank"),N(m,"href",g="https://hms-dbmi.github.io/vizarr/?source="+t[0]+t[12]+"/"),N(e,"class","image svelte-blz8kd")},m($,P){D($,e,P),C(e,r),C(e,n),C(e,s),C(e,o),C(o,i),C(e,c),me(u,e,null),C(e,f),C(e,m),C(m,b),C(e,_),d=!0},p($,P){(!d||P&1&&l!==(l=$[6]+"?source="+$[0]+$[12]+"/"))&&N(o,"href",l);const S={};P&1&&(S.source=$[0]),u.$set(S),(!d||P&1&&g!==(g="https://hms-dbmi.github.io/vizarr/?source="+$[0]+$[12]+"/"))&&N(m,"href",g)},i($){d||(B(u.$$.fragment,$),d=!0)},o($){H(u.$$.fragment,$),d=!1},d($){$&&I(e),pe(u)}}}function Sd(t){let e;return{c(){e=R("div"),e.textContent="loading schema..."},m(r,n){D(r,e,n)},p:K,i:K,o:K,d(r){r&&I(e)}}}function Pd(t){let e,r,n,s=t[9].errors,o=[];for(let a=0;a<s.length;a+=1)o[a]=So(wo(t,s,a));return{c(){e=R("div"),r=R("h2"),r.textContent=`Error parsing ${Ps}`,n=X();for(let a=0;a<o.length;a+=1)o[a].c();N(e,"class","error")},m(a,i){D(a,e,i),C(e,r),C(e,n);for(let l=0;l<o.length;l+=1)o[l].m(e,null)},p(a,i){if(i&8){s=a[9].errors;let l;for(l=0;l<s.length;l+=1){const c=wo(a,s,l);o[l]?o[l].p(c,i):(o[l]=So(c),o[l].c(),o[l].m(e,null))}for(;l<o.length;l+=1)o[l].d(1);o.length=s.length}},d(a){a&&I(e),dt(o,a)}}}function So(t){let e,r=t[10]+"",n;return{c(){e=R("div"),n=q(r)},m(s,o){D(s,e,o),C(e,n)},p:K,d(s){s&&I(e)}}}function Cd(t){let e;return{c(){e=R("div"),e.textContent=`loading ${t[2]}...`},m(r,n){D(r,e,n)},p:K,i:K,o:K,d(r){r&&I(e)}}}function Nd(t){let e,r,n,s,o,a,i,l,c,u,f,m,b,v;l=new vn({props:{name:"",version:"",contents:t[1],expanded:!0}});let g={ctx:t,current:null,token:null,hasCatch:!0,pending:Cd,then:wd,catch:$d,value:9,error:16,blocks:[,,,]};return ot(t[3],g),{c(){e=R("article"),r=q("Reading: "),n=R("a"),s=q(t[5]),o=q("/.zattrs"),a=X(),i=R("div"),_e(l.$$.fragment),c=q(`

  Loading metadata:`),u=R("a"),f=q(Ps),m=R("br"),b=X(),g.block.c(),N(n,"href",t[0]),N(n,"class","svelte-blz8kd"),N(i,"class","json svelte-blz8kd"),N(u,"href",t[2]),N(u,"class","svelte-blz8kd")},m(_,d){D(_,e,d),C(e,r),C(e,n),C(n,s),C(n,o),C(e,a),C(e,i),me(l,i,null),C(e,c),C(e,u),C(u,f),C(e,m),C(e,b),g.block.m(e,g.anchor=null),g.mount=()=>e,g.anchor=null,v=!0},p(_,[d]){t=_,(!v||d&1)&&N(n,"href",t[0]);const $={};d&2&&($.contents=t[1]),l.$set($),ht(g,t,d)},i(_){v||(B(l.$$.fragment,_),B(g.block),v=!0)},o(_){H(l.$$.fragment,_);for(let d=0;d<3;d+=1){const $=g.blocks[d];H($)}v=!1},d(_){_&&I(e),pe(l),g.block.d(),g.token=null,g=null}}}const Ps="OME/METADATA.ome.xml";function Od(t,e,r){let{source:n}=e,{rootAttrs:s}=e;const o=`${n}${Ps}`;async function a(m){const v=(await Tf(m)).documentElement;let g={images:[]};for(const _ of v.children)console.log(_.tagName),_.tagName==="Image"&&g.images.push({name:_.getAttribute("Name"),id:_.getAttribute("ID")}),_.tagName==="body"&&_.firstElementChild.tagName=="parsererror"&&(g.errors=[..._.firstElementChild.children].map(d=>d.innerHTML));return g}const i=a(o);async function l(m){let b=await Bt(m+"/.zattrs");return console.log("preloadSchema",b),await Ir(b)}const c=n.split("/").filter(Boolean),u=c[c.length-1],f=window.location.origin+window.location.pathname;return t.$$set=m=>{"source"in m&&r(0,n=m.source),"rootAttrs"in m&&r(1,s=m.rootAttrs)},[n,s,o,i,l,u,f]}class Td extends qe{constructor(e){super(),Ue(this,e,Od,Nd,Le,{source:0,rootAttrs:1})}}function Ad(t){let e,r,n,s,o,a,i,l,c,u,f,m,b,v,g,_,d,$,P,S;return{c(){e=R("div"),r=R("div"),n=R("div"),s=R("div"),o=R("div"),o.textContent=`${t[3]}`,a=X(),i=R("div"),i.textContent=`${t[4]}`,l=X(),c=R("div"),u=X(),f=R("div"),m=X(),b=R("div"),v=R("div"),v.textContent=`${t[5]}`,g=X(),_=R("div"),d=X(),$=R("div"),N(o,"class","sizeX svelte-17y51i8"),N(i,"class","sizeY svelte-17y51i8"),N(s,"class","face front svelte-17y51i8"),N(c,"class","face back svelte-17y51i8"),N(f,"class","face right svelte-17y51i8"),N(v,"class","sizeX svelte-17y51i8"),N(b,"class","face left svelte-17y51i8"),N(_,"class","face top svelte-17y51i8"),N($,"class","face bottom svelte-17y51i8"),N(n,"class","cube svelte-17y51i8"),N(r,"class","container svelte-17y51i8"),Ce(r,"--size-x",t[6]+"px"),Ce(r,"--size-y",t[7]+"px"),Ce(r,"--size-z",t[8]+"px"),Ce(r,"--chunkX",t[9]+"px"),Ce(r,"--chunkY",t[10]+"px"),Ce(r,"--chunkZ",t[11]+"px"),Ce(r,"--scrollX",t[1]+"deg"),N(e,"class","parent svelte-17y51i8")},m(A,y){D(A,e,y),C(e,r),C(r,n),C(n,s),C(s,o),C(s,a),C(s,i),C(n,l),C(n,c),C(n,u),C(n,f),C(n,m),C(n,b),C(b,v),C(n,g),C(n,_),C(n,d),C(n,$),t[13](e),P||(S=nt(e,"mousemove",t[2]),P=!0)},p(A,[y]){y&2&&Ce(r,"--scrollX",A[1]+"deg")},i:K,o:K,d(A){A&&I(e),t[13](null),P=!1,S()}}}const Tn=5;function jd(t,e,r){let{zarray:n}=e,s,o=50;function a(S){r(1,o=S.offsetX/6+20)}const i=n.shape,l=i[i.length-1],c=i[i.length-2],u=i.length<3?1:i[i.length-3],f=200/Math.max(l,c,u),m=l*f,b=c*f,v=u*f,g=n.chunks,_=Math.max(Tn,g[g.length-1]*f),d=Math.max(Tn,g[g.length-2]*f),$=Math.max(Tn,g[g.length-3]*f);function P(S){hr[S?"unshift":"push"](()=>{s=S,r(0,s)})}return t.$$set=S=>{"zarray"in S&&r(12,n=S.zarray)},[s,o,a,l,c,u,m,b,v,_,d,$,n,P]}class Rd extends qe{constructor(e){super(),Ue(this,e,jd,Ad,Le,{zarray:12})}}function Id(t){let e,r=t[5].message+"",n;return{c(){e=R("p"),n=q(r),Ce(e,"color","red"),N(e,"class","svelte-1wgmtwf")},m(s,o){D(s,e,o),C(e,n)},p:K,i:K,o:K,d(s){s&&I(e)}}}function Dd(t){let e,r,n,s,o,a,i,l=t[3](t[4].shape,t[4])+"",c,u,f,m=t[3](t[4].chunks,t[4])+"",b,v,g,_,d,$,P=JSON.stringify(t[4].shape)+"",S,A,y,O=JSON.stringify(t[4].chunks)+"",L,Z,Y,ue,te,ye,re=Po(t[4])+1+"",he,Be,Ge,be,xe=Po(t[4])+"",W,T,F,j,h,k,V,G=t[4].dtype+"",J,ae,oe,ge,Me,at,Je,lt,Ne,mt,pt,Xe,it,ct=JSON.stringify(t[4],null,2)+"",Ye,we;return Me=new Rd({props:{zarray:t[4]}}),{c(){e=R("table"),r=R("tr"),r.innerHTML='<th class="svelte-1wgmtwf"></th><th class="svelte-1wgmtwf">Array</th><th class="svelte-1wgmtwf">Chunk</th>',n=X(),s=R("tr"),o=R("th"),o.textContent="Bytes",a=X(),i=R("td"),c=q(l),u=X(),f=R("td"),b=q(m),v=X(),g=R("tr"),_=R("th"),_.textContent="Shape",d=X(),$=R("td"),S=q(P),A=X(),y=R("td"),L=q(O),Z=X(),Y=R("tr"),ue=R("th"),ue.textContent="Count",te=X(),ye=R("td"),he=q(re),Be=q(" Tasks"),Ge=X(),be=R("td"),W=q(xe),T=q(" Chunks"),F=X(),j=R("tr"),h=R("th"),h.textContent="Type",k=X(),V=R("td"),J=q(G),ae=X(),oe=R("td"),oe.textContent="numpy.ndarray",ge=X(),_e(Me.$$.fragment),at=X(),Je=R("details"),lt=R("summary"),Ne=q(t[1]),mt=q("/.zarray"),pt=X(),Xe=R("pre"),it=R("code"),Ye=q(ct),N(r,"class","svelte-1wgmtwf"),N(o,"class","svelte-1wgmtwf"),N(i,"class","svelte-1wgmtwf"),N(f,"class","svelte-1wgmtwf"),N(s,"class","svelte-1wgmtwf"),N(_,"class","svelte-1wgmtwf"),N($,"class","svelte-1wgmtwf"),N(y,"class","svelte-1wgmtwf"),N(g,"class","svelte-1wgmtwf"),N(ue,"class","svelte-1wgmtwf"),N(ye,"class","svelte-1wgmtwf"),N(be,"class","svelte-1wgmtwf"),N(Y,"class","svelte-1wgmtwf"),N(h,"class","svelte-1wgmtwf"),N(V,"class","svelte-1wgmtwf"),N(oe,"class","svelte-1wgmtwf"),N(j,"class","svelte-1wgmtwf"),N(e,"class","svelte-1wgmtwf"),N(Xe,"class","svelte-1wgmtwf"),N(Je,"class","svelte-1wgmtwf")},m(ve,ze){D(ve,e,ze),C(e,r),C(e,n),C(e,s),C(s,o),C(s,a),C(s,i),C(i,c),C(s,u),C(s,f),C(f,b),C(e,v),C(e,g),C(g,_),C(g,d),C(g,$),C($,S),C(g,A),C(g,y),C(y,L),C(e,Z),C(e,Y),C(Y,ue),C(Y,te),C(Y,ye),C(ye,he),C(ye,Be),C(Y,Ge),C(Y,be),C(be,W),C(be,T),C(e,F),C(e,j),C(j,h),C(j,k),C(j,V),C(V,J),C(j,ae),C(j,oe),D(ve,ge,ze),me(Me,ve,ze),D(ve,at,ze),D(ve,Je,ze),C(Je,lt),C(lt,Ne),C(lt,mt),C(Je,pt),C(Je,Xe),C(Xe,it),C(it,Ye),we=!0},p(ve,ze){(!we||ze&2)&&Ke(Ne,ve[1])},i(ve){we||(B(Me.$$.fragment,ve),we=!0)},o(ve){H(Me.$$.fragment,ve),we=!1},d(ve){ve&&I(e),ve&&I(ge),pe(Me,ve),ve&&I(at),ve&&I(Je)}}}function Md(t){let e;return{c(){e=R("div"),e.textContent="loading array .zarray ..."},m(r,n){D(r,e,n)},p:K,i:K,o:K,d(r){r&&I(e)}}}function zd(t){let e,r,n,s,o=t[1]+"/.zarray",a,i,l,c,u={ctx:t,current:null,token:null,hasCatch:!0,pending:Md,then:Dd,catch:Id,value:4,error:5,blocks:[,,,]};return ot(t[2],u),{c(){e=R("div"),r=R("p"),n=q("Path "),s=R("a"),a=q(o),l=X(),u.block.c(),N(s,"href",i=t[0]+t[1]+"/.zarray "),N(s,"class","svelte-1wgmtwf"),N(r,"class","svelte-1wgmtwf"),N(e,"class","array svelte-1wgmtwf")},m(f,m){D(f,e,m),C(e,r),C(r,n),C(r,s),C(s,a),C(e,l),u.block.m(e,u.anchor=null),u.mount=()=>e,u.anchor=null,c=!0},p(f,[m]){t=f,(!c||m&2)&&o!==(o=t[1]+"/.zarray")&&Ke(a,o),(!c||m&3&&i!==(i=t[0]+t[1]+"/.zarray "))&&N(s,"href",i),ht(u,t,m)},i(f){c||(B(u.block),c=!0)},o(f){for(let m=0;m<3;m+=1){const b=u.blocks[m];H(b)}c=!1},d(f){f&&I(e),u.block.d(),u.token=null,u=null}}}function Po(t){const e=t.chunks;return t.shape.map((n,s)=>Math.ceil(n/e[s])).reduce((n,s)=>n*s,1)}function Vd(t,e,r){let{source:n}=e,{path:s}=e;const o=Bt(n+s+"/.zarray");function a(i,l){let c=[1,2,4,8].find(f=>l.dtype.includes(f));if(!c)return"";let u=i.reduce((f,m)=>f*m,1);return Df(c*u)}return t.$$set=i=>{"source"in i&&r(0,n=i.source),"path"in i&&r(1,s=i.path)},[n,s,o,a]}class Fd extends qe{constructor(e){super(),Ue(this,e,Vd,zd,Le,{source:0,path:1})}}function Ld(t){let e;return{c(){e=R("div"),e.textContent="\xD7",N(e,"class","invalid svelte-13ogotb")},m(r,n){D(r,e,n)},d(r){r&&I(e)}}}function Ud(t){let e;return{c(){e=R("div"),e.textContent="\u2713",N(e,"class","valid svelte-13ogotb")},m(r,n){D(r,e,n)},d(r){r&&I(e)}}}function qd(t){let e;function r(o,a){return o[0]?Ud:Ld}let n=r(t),s=n(t);return{c(){s.c(),e=je()},m(o,a){s.m(o,a),D(o,e,a)},p(o,[a]){n!==(n=r(o))&&(s.d(1),s=n(o),s&&(s.c(),s.m(e.parentNode,e)))},i:K,o:K,d(o){s.d(o),o&&I(e)}}}function Bd(t,e,r){let{valid:n}=e;return t.$$set=s=>{"valid"in s&&r(0,n=s.valid)},[n]}class yn extends qe{constructor(e){super(),Ue(this,e,Bd,qd,Le,{valid:0})}}function Co(t,e,r){const n=t.slice();return n[10]=e[r],n}function Kd(t){let e,r=t[10].message+"",n;return{c(){e=R("p"),n=q(r),Ce(e,"color","red")},m(s,o){D(s,e,o),C(e,n)},p:K,i:K,o:K,d(s){s&&I(e)}}}function Wd(t){let e,r,n,s;const o=[Gd,Hd],a=[];function i(l,c){return l[9].length>0?0:1}return e=i(t),r=a[e]=o[e](t),{c(){r.c(),n=je()},m(l,c){a[e].m(l,c),D(l,n,c),s=!0},p(l,c){r.p(l,c)},i(l){s||(B(r),s=!0)},o(l){H(r),s=!1},d(l){a[e].d(l),l&&I(n)}}}function Hd(t){let e,r=t[0].length+"",n,s,o;return{c(){e=R("p"),n=q(r),s=q(" Datasets checked "),o=R("span"),o.textContent="\u2713",Ce(o,"color","green"),N(e,"title","dtypes match and shapes are consistent")},m(a,i){D(a,e,i),C(e,n),C(e,s),C(e,o)},p:K,i:K,o:K,d(a){a&&I(e)}}}function Gd(t){let e,r,n,s;e=new yn({props:{valid:!1}});let o=t[9],a=[];for(let i=0;i<o.length;i+=1)a[i]=No(Co(t,o,i));return{c(){_e(e.$$.fragment),r=X();for(let i=0;i<a.length;i+=1)a[i].c();n=je()},m(i,l){me(e,i,l),D(i,r,l);for(let c=0;c<a.length;c+=1)a[c].m(i,l);D(i,n,l),s=!0},p(i,l){if(l&2){o=i[9];let c;for(c=0;c<o.length;c+=1){const u=Co(i,o,c);a[c]?a[c].p(u,l):(a[c]=No(u),a[c].c(),a[c].m(n.parentNode,n))}for(;c<a.length;c+=1)a[c].d(1);a.length=o.length}},i(i){s||(B(e.$$.fragment,i),s=!0)},o(i){H(e.$$.fragment,i),s=!1},d(i){pe(e,i),i&&I(r),dt(a,i),i&&I(n)}}}function No(t){let e,r,n=t[10]+"",s;return{c(){e=R("p"),r=q("Error: "),s=q(n),Ce(e,"color","red")},m(o,a){D(o,e,a),C(e,r),C(e,s)},p:K,d(o){o&&I(e)}}}function Jd(t){let e;return{c(){e=R("p"),e.textContent="loading..."},m(r,n){D(r,e,n)},p:K,i:K,o:K,d(r){r&&I(e)}}}function Xd(t){let e,r,n={ctx:t,current:null,token:null,hasCatch:!0,pending:Jd,then:Wd,catch:Kd,value:9,error:10,blocks:[,,,]};return ot(t[1],n),{c(){e=je(),n.block.c()},m(s,o){D(s,e,o),n.block.m(s,n.anchor=o),n.mount=()=>e.parentNode,n.anchor=e,r=!0},p(s,[o]){t=s,ht(n,t,o)},i(s){r||(B(n.block),r=!0)},o(s){for(let o=0;o<3;o+=1){const a=n.blocks[o];H(a)}r=!1},d(s){s&&I(e),n.block.d(s),n.token=null,n=null}}}function Oo(t){return t.every(e=>e==t[0])}function Yd(t,e,r){let{source:n}=e,{multiscale:s}=e;const{axes:o,datasets:a,version:i}=s,l=!["0.1","0.2","0.3"].includes(i),c=["0.2","0.3","0.4"].includes(i);async function u(){let m=[],b=[],v=[],g=[];for(let d=0;d<a.length;d++){let $=a[d],P=await Bt(n+$.path+"/.zarray");b.push(P.shape.length),m.push(P.dtype),v.push(P.shape),g.push(P.dimension_separator)}let _=[];return m.length===0&&_.push("No multiscale datasets"),l&&!Oo(m)&&_.push(`dtypes mismatch: ${m.join(", ")}`),Oo(b)||_.push(`number of dimensions mismatch: ${b.join(", ")}`),o&&v.forEach(d=>{d.length!=o.length&&_.push(`Shape (${d.join(", ")}) doesn't match axes length: ${o.length}`)}),c&&g.forEach(d=>{d!="/"&&_.push(`Dimension separator must be / for version ${i}`)}),_}const f=u();return t.$$set=m=>{"source"in m&&r(2,n=m.source),"multiscale"in m&&r(3,s=m.multiscale)},[a,f,n,s]}class Zd extends qe{constructor(e){super(),Ue(this,e,Yd,Xd,Le,{source:2,multiscale:3})}}function To(t,e,r){const n=t.slice();return n[2]=e[r],n[4]=r,n}function Ao(t,e,r){const n=t.slice();return n[5]=e[r],n}function jo(t){let e,r;return e=new Fd({props:{source:t[0],path:t[5].path}}),{c(){_e(e.$$.fragment)},m(n,s){me(e,n,s),r=!0},p(n,s){const o={};s&1&&(o.source=n[0]),s&2&&(o.path=n[5].path),e.$set(o)},i(n){r||(B(e.$$.fragment,n),r=!0)},o(n){H(e.$$.fragment,n),r=!1},d(n){pe(e,n)}}}function Ro(t){let e,r,n,s,o,a,i,l,c;a=new Zd({props:{source:t[0],multiscale:t[2]}});let u=t[2].datasets,f=[];for(let b=0;b<u.length;b+=1)f[b]=jo(Ao(t,u,b));const m=b=>H(f[b],1,1,()=>{f[b]=null});return{c(){e=R("article"),r=R("h2"),n=q("Multiscale "),s=q(t[4]),o=X(),_e(a.$$.fragment),i=X();for(let b=0;b<f.length;b+=1)f[b].c();l=X(),N(r,"class","svelte-1u2mha0"),N(e,"class","svelte-1u2mha0")},m(b,v){D(b,e,v),C(e,r),C(r,n),C(r,s),C(e,o),me(a,e,null),C(e,i);for(let g=0;g<f.length;g+=1)f[g].m(e,null);C(e,l),c=!0},p(b,v){const g={};if(v&1&&(g.source=b[0]),v&2&&(g.multiscale=b[2]),a.$set(g),v&3){u=b[2].datasets;let _;for(_=0;_<u.length;_+=1){const d=Ao(b,u,_);f[_]?(f[_].p(d,v),B(f[_],1)):(f[_]=jo(d),f[_].c(),B(f[_],1),f[_].m(e,l))}for(Te(),_=u.length;_<f.length;_+=1)m(_);Ae()}},i(b){if(!c){B(a.$$.fragment,b);for(let v=0;v<u.length;v+=1)B(f[v]);c=!0}},o(b){H(a.$$.fragment,b),f=f.filter(Boolean);for(let v=0;v<f.length;v+=1)H(f[v]);c=!1},d(b){b&&I(e),pe(a),dt(f,b)}}}function Qd(t){let e,r,n=t[1].multiscales,s=[];for(let a=0;a<n.length;a+=1)s[a]=Ro(To(t,n,a));const o=a=>H(s[a],1,1,()=>{s[a]=null});return{c(){for(let a=0;a<s.length;a+=1)s[a].c();e=je()},m(a,i){for(let l=0;l<s.length;l+=1)s[l].m(a,i);D(a,e,i),r=!0},p(a,[i]){if(i&3){n=a[1].multiscales;let l;for(l=0;l<n.length;l+=1){const c=To(a,n,l);s[l]?(s[l].p(c,i),B(s[l],1)):(s[l]=Ro(c),s[l].c(),B(s[l],1),s[l].m(e.parentNode,e))}for(Te(),l=n.length;l<s.length;l+=1)o(l);Ae()}},i(a){if(!r){for(let i=0;i<n.length;i+=1)B(s[i]);r=!0}},o(a){s=s.filter(Boolean);for(let i=0;i<s.length;i+=1)H(s[i]);r=!1},d(a){dt(s,a),a&&I(e)}}}function xd(t,e,r){let{source:n}=e,{rootAttrs:s}=e;return t.$$set=o=>{"source"in o&&r(0,n=o.source),"rootAttrs"in o&&r(1,s=o.rootAttrs)},[n,s]}class eh extends qe{constructor(e){super(),Ue(this,e,xd,Qd,Le,{source:0,rootAttrs:1})}}function th(t){let e,r=t[13].message+"",n;return{c(){e=R("td"),n=q(r),Ce(e,"color","red"),N(e,"class","svelte-bgaf62")},m(s,o){D(s,e,o),C(e,n)},p:K,d(s){s&&I(e)}}}function rh(t){let e,r,n,s,o={ctx:t,current:null,token:null,hasCatch:!0,pending:ih,then:sh,catch:nh,value:12,error:13};return ot(t[5],o),{c(){e=R("td"),r=R("a"),o.block.c(),N(r,"title",n=t[1]+": Open Well"),N(r,"href",s=t[6]+"?source="+(t[0]+t[1])+"/"),N(r,"class","svelte-bgaf62"),N(e,"class",yt(t[11].length===0?"valid":"invalid")+" svelte-bgaf62")},m(a,i){D(a,e,i),C(e,r),o.block.m(r,o.anchor=null),o.mount=()=>r,o.anchor=null},p(a,i){t=a,ht(o,t,i),i&2&&n!==(n=t[1]+": Open Well")&&N(r,"title",n),i&3&&s!==(s=t[6]+"?source="+(t[0]+t[1])+"/")&&N(r,"href",s)},d(a){a&&I(e),o.block.d(),o.token=null,o=null}}}function nh(t){let e;return{c(){e=R("span"),e.textContent="X",Ce(e,"color","red")},m(r,n){D(r,e,n)},p:K,d(r){r&&I(e)}}}function sh(t){let e;function r(o,a){return o[12].length===0?ah:oh}let s=r(t)(t);return{c(){s.c(),e=je()},m(o,a){s.m(o,a),D(o,e,a)},p(o,a){s.p(o,a)},d(o){s.d(o),o&&I(e)}}}function oh(t){let e,r;return{c(){e=R("span"),r=q("X"),N(e,"title",t[12].join(", ")),Ce(e,"color","red")},m(n,s){D(n,e,s),C(e,r)},p:K,d(n){n&&I(e)}}}function ah(t){let e;return{c(){e=q("\u2713")},m(r,n){D(r,e,n)},p:K,d(r){r&&I(e)}}}function ih(t){let e,r=t[3]=="all"&&lh(t);return{c(){r&&r.c(),e=je()},m(n,s){r&&r.m(n,s),D(n,e,s)},p(n,s){n[3]=="all"&&r.p(n,s)},d(n){r&&r.d(n),n&&I(e)}}}function lh(t){let e,r,n;return{c(){e=R("span"),r=q(t[2]),N(e,"title",n="Loading Well index: "+t[2]),Ce(e,"color","rgba(0,0,0,0.2)")},m(s,o){D(s,e,o),C(e,r)},p(s,o){o&4&&Ke(r,s[2]),o&4&&n!==(n="Loading Well index: "+s[2])&&N(e,"title",n)},d(s){s&&I(e)}}}function ch(t){let e;return{c(){e=R("td"),e.textContent="...",N(e,"class","svelte-bgaf62")},m(r,n){D(r,e,n)},p:K,d(r){r&&I(e)}}}function uh(t){let e,r={ctx:t,current:null,token:null,hasCatch:!0,pending:ch,then:rh,catch:th,value:11,error:13};return ot(t[4],r),{c(){e=je(),r.block.c()},m(n,s){D(n,e,s),r.block.m(n,r.anchor=s),r.mount=()=>e.parentNode,r.anchor=e},p(n,[s]){t=n,ht(r,t,s)},i:K,o:K,d(n){n&&I(e),r.block.d(n),r.token=null,r=null}}}function fh(t,e,r){let{wellAttrs:n}=e,{source:s}=e,{path:o}=e;const a=La("well");let i=parseInt(a),l=[0];isNaN(i)?a=="all"&&(l=Ua(n.well.images.length)):l=[i];let c=0;async function u(){let v=[];const g=n.well.images;for(let _=0;_<l.length;_++){let d=l[_];if(d>=g.length)return["Invalid Well index: "+d];r(2,c=d);let $=await Bt(s+o+"/"+g[d].path+"/.zattrs");v=v.concat(await Ir($))}return v}let f=Ir(n),m=u();const b=window.location.origin+window.location.pathname;return t.$$set=v=>{"wellAttrs"in v&&r(7,n=v.wellAttrs),"source"in v&&r(0,s=v.source),"path"in v&&r(1,o=v.path)},[s,o,c,a,f,m,b,n]}class dh extends qe{constructor(e){super(),Ue(this,e,fh,uh,Le,{wellAttrs:7,source:0,path:1})}}function hh(t){let e,r=t[4].message+"",n;return{c(){e=R("td"),n=q(r),Ce(e,"color","red"),N(e,"class","svelte-zadp2s")},m(s,o){D(s,e,o),C(e,n)},p:K,i:K,o:K,d(s){s&&I(e)}}}function mh(t){let e,r;return e=new dh({props:{wellAttrs:t[3],source:t[0],path:t[1]}}),{c(){_e(e.$$.fragment)},m(n,s){me(e,n,s),r=!0},p(n,s){const o={};s&1&&(o.source=n[0]),s&2&&(o.path=n[1]),e.$set(o)},i(n){r||(B(e.$$.fragment,n),r=!0)},o(n){H(e.$$.fragment,n),r=!1},d(n){pe(e,n)}}}function ph(t){let e;return{c(){e=R("td"),e.textContent=".",N(e,"class","svelte-zadp2s")},m(r,n){D(r,e,n)},p:K,i:K,o:K,d(r){r&&I(e)}}}function _h(t){let e,r,n={ctx:t,current:null,token:null,hasCatch:!0,pending:ph,then:mh,catch:hh,value:3,error:4,blocks:[,,,]};return ot(t[2],n),{c(){e=je(),n.block.c()},m(s,o){D(s,e,o),n.block.m(s,n.anchor=o),n.mount=()=>e.parentNode,n.anchor=e,r=!0},p(s,[o]){t=s,ht(n,t,o)},i(s){r||(B(n.block),r=!0)},o(s){for(let o=0;o<3;o+=1){const a=n.blocks[o];H(a)}r=!1},d(s){s&&I(e),n.block.d(s),n.token=null,n=null}}}function gh(t,e,r){let{source:n}=e,{path:s}=e;const o=Bt(n+s+"/.zattrs");return t.$$set=a=>{"source"in a&&r(0,n=a.source),"path"in a&&r(1,s=a.path)},[n,s,o]}class vh extends qe{constructor(e){super(),Ue(this,e,gh,_h,Le,{source:0,path:1})}}function Io(t,e,r){const n=t.slice();return n[15]=e[r],n}function Do(t,e,r){const n=t.slice();return n[18]=e[r],n}function Mo(t,e,r){const n=t.slice();return n[21]=e[r],n}function yh(t){let e,r=t[24].message+"",n;return{c(){e=R("p"),n=q(r),Ce(e,"color","red")},m(s,o){D(s,e,o),C(e,n)},p:K,i:K,o:K,d(s){s&&I(e)}}}function bh(t){let e,r,n=t[4].length+"",s,o,a,i,l,c,u,f,m,b,v,g=t[5],_=[];for(let S=0;S<g.length;S+=1)_[S]=zo(Mo(t,g,S));let d=t[3].rows,$=[];for(let S=0;S<d.length;S+=1)$[S]=Fo(Io(t,d,S));const P=S=>H($[S],1,1,()=>{$[S]=null});return{c(){e=R("p"),r=q("Validating "),s=q(n),o=q(` Wells and
      `),a=R("select");for(let S=0;S<_.length;S+=1)_[S].c();i=R("option"),l=q("ALL Images"),c=q(`
      in each Well.`),u=X(),f=R("table");for(let S=0;S<$.length;S+=1)$[S].c();i.__value="all",i.value=i.__value,i.selected=t[2]=="all",N(a,"class","svelte-j37lmy"),N(f,"class","svelte-j37lmy")},m(S,A){D(S,e,A),C(e,r),C(e,s),C(e,o),C(e,a);for(let y=0;y<_.length;y+=1)_[y].m(a,null);C(a,i),C(i,l),C(e,c),D(S,u,A),D(S,f,A);for(let y=0;y<$.length;y+=1)$[y].m(f,null);m=!0,b||(v=nt(a,"change",t[7]),b=!0)},p(S,A){if(A&34){g=S[5];let y;for(y=0;y<g.length;y+=1){const O=Mo(S,g,y);_[y]?_[y].p(O,A):(_[y]=zo(O),_[y].c(),_[y].m(a,i))}for(;y<_.length;y+=1)_[y].d(1);_.length=g.length}if(A&25){d=S[3].rows;let y;for(y=0;y<d.length;y+=1){const O=Io(S,d,y);$[y]?($[y].p(O,A),B($[y],1)):($[y]=Fo(O),$[y].c(),B($[y],1),$[y].m(f,null))}for(Te(),y=d.length;y<$.length;y+=1)P(y);Ae()}},i(S){if(!m){for(let A=0;A<d.length;A+=1)B($[A]);m=!0}},o(S){$=$.filter(Boolean);for(let A=0;A<$.length;A+=1)H($[A]);m=!1},d(S){S&&I(e),dt(_,S),S&&I(u),S&&I(f),dt($,S),b=!1,v()}}}function zo(t){let e,r,n=t[21]+"",s,o,a,i;return{c(){e=R("option"),r=q("Image at index: "),s=q(n),o=X(),e.__value=a=t[21],e.value=e.__value,e.selected=i=t[1]==t[21]},m(l,c){D(l,e,c),C(e,r),C(e,s),C(e,o)},p(l,c){c&2&&i!==(i=l[1]==l[21])&&(e.selected=i)},d(l){l&&I(e)}}}function $h(t){let e;return{c(){e=R("td"),N(e,"class","svelte-j37lmy")},m(r,n){D(r,e,n)},p:K,i:K,o:K,d(r){r&&I(e)}}}function wh(t){let e,r;return e=new vh({props:{path:`${t[15].name}/${t[18].name}`,source:t[0]}}),{c(){_e(e.$$.fragment)},m(n,s){me(e,n,s),r=!0},p(n,s){const o={};s&1&&(o.source=n[0]),e.$set(o)},i(n){r||(B(e.$$.fragment,n),r=!0)},o(n){H(e.$$.fragment,n),r=!1},d(n){pe(e,n)}}}function Vo(t){let e,r,n,s;const o=[wh,$h],a=[];function i(l,c){return l[4].indexOf(`${l[15].name}/${l[18].name}`)>-1?0:1}return e=i(t),r=a[e]=o[e](t),{c(){r.c(),n=je()},m(l,c){a[e].m(l,c),D(l,n,c),s=!0},p(l,c){r.p(l,c)},i(l){s||(B(r),s=!0)},o(l){H(r),s=!1},d(l){a[e].d(l),l&&I(n)}}}function Fo(t){let e,r,n,s=t[3].columns,o=[];for(let i=0;i<s.length;i+=1)o[i]=Vo(Do(t,s,i));const a=i=>H(o[i],1,1,()=>{o[i]=null});return{c(){e=R("tr");for(let i=0;i<o.length;i+=1)o[i].c();r=X()},m(i,l){D(i,e,l);for(let c=0;c<o.length;c+=1)o[c].m(e,null);C(e,r),n=!0},p(i,l){if(l&25){s=i[3].columns;let c;for(c=0;c<s.length;c+=1){const u=Do(i,s,c);o[c]?(o[c].p(u,l),B(o[c],1)):(o[c]=Vo(u),o[c].c(),B(o[c],1),o[c].m(e,r))}for(Te(),c=s.length;c<o.length;c+=1)a(c);Ae()}},i(i){if(!n){for(let l=0;l<s.length;l+=1)B(o[l]);n=!0}},o(i){o=o.filter(Boolean);for(let l=0;l<o.length;l+=1)H(o[l]);n=!1},d(i){i&&I(e),dt(o,i)}}}function kh(t){let e;return{c(){e=R("div"),e.textContent="loading schemas..."},m(r,n){D(r,e,n)},p:K,i:K,o:K,d(r){r&&I(e)}}}function Eh(t){let e,r,n={ctx:t,current:null,token:null,hasCatch:!0,pending:kh,then:bh,catch:yh,value:14,error:24,blocks:[,,,]};return ot(t[6],n),{c(){e=R("article"),n.block.c()},m(s,o){D(s,e,o),n.block.m(e,n.anchor=null),n.mount=()=>e,n.anchor=null,r=!0},p(s,[o]){t=s,ht(n,t,o)},i(s){r||(B(n.block),r=!0)},o(s){for(let o=0;o<3;o+=1){const a=n.blocks[o];H(a)}r=!1},d(s){s&&I(e),n.block.d(),n.token=null,n=null}}}function Sh(t,e,r){let{source:n}=e,{rootAttrs:s}=e;const o=La("well");let a=parseInt(o),i=0;isNaN(a)||(i=a);const l=new URLSearchParams(window.location.search);function c(d){return l.set("well",""+d),window.location.origin+window.location.pathname+"?"+l}let u=s.plate,f=u.wells.map(d=>d.path);const m=Vr(s)||rr,b=u.field_count||i+1,v=Ua(b);let g=Promise.all([fn(m,"well"),fn(m,"image")]);function _(d){window.location.href=c(d.target.value)}return t.$$set=d=>{"source"in d&&r(0,n=d.source),"rootAttrs"in d&&r(8,s=d.rootAttrs)},[n,i,o,u,f,v,g,_,s]}class Ph extends qe{constructor(e){super(),Ue(this,e,Sh,Eh,Le,{source:0,rootAttrs:8})}}function Lo(t,e,r){const n=t.slice();return n[7]=e[r],n}function Ch(t){let e,r=t[10].message+"",n;return{c(){e=R("p"),n=q(r),Ce(e,"color","red")},m(s,o){D(s,e,o),C(e,n)},p:K,i:K,o:K,d(s){s&&I(e)}}}function Nh(t){let e,r,n=t[1],s=[];for(let a=0;a<n.length;a+=1)s[a]=Uo(Lo(t,n,a));const o=a=>H(s[a],1,1,()=>{s[a]=null});return{c(){e=R("ul");for(let a=0;a<s.length;a+=1)s[a].c();N(e,"class","svelte-6aehlv")},m(a,i){D(a,e,i);for(let l=0;l<s.length;l+=1)s[l].m(e,null);r=!0},p(a,i){if(i&3){n=a[1];let l;for(l=0;l<n.length;l+=1){const c=Lo(a,n,l);s[l]?(s[l].p(c,i),B(s[l],1)):(s[l]=Uo(c),s[l].c(),B(s[l],1),s[l].m(e,null))}for(Te(),l=n.length;l<s.length;l+=1)o(l);Ae()}},i(a){if(!r){for(let i=0;i<n.length;i+=1)B(s[i]);r=!0}},o(a){s=s.filter(Boolean);for(let i=0;i<s.length;i+=1)H(s[i]);r=!1},d(a){a&&I(e),dt(s,a)}}}function Uo(t){let e,r,n;return r=new Ba({props:{source:t[0],path:t[7]}}),{c(){e=R("li"),_e(r.$$.fragment),N(e,"class","svelte-6aehlv")},m(s,o){D(s,e,o),me(r,e,null),n=!0},p(s,o){const a={};o&1&&(a.source=s[0]),r.$set(a)},i(s){n||(B(r.$$.fragment,s),n=!0)},o(s){H(r.$$.fragment,s),n=!1},d(s){s&&I(e),pe(r)}}}function Oh(t){let e;return{c(){e=R("div"),e.textContent="loading schema..."},m(r,n){D(r,e,n)},p:K,i:K,o:K,d(r){r&&I(e)}}}function Th(t){let e,r,n,s={ctx:t,current:null,token:null,hasCatch:!0,pending:Oh,then:Nh,catch:Ch,value:6,error:10,blocks:[,,,]};return ot(t[2],s),{c(){e=R("article"),r=q(`Images:
  `),s.block.c()},m(o,a){D(o,e,a),C(e,r),s.block.m(e,s.anchor=null),s.mount=()=>e,s.anchor=null,n=!0},p(o,[a]){t=o,ht(s,t,a)},i(o){n||(B(s.block),n=!0)},o(o){for(let a=0;a<3;a+=1){const i=s.blocks[a];H(i)}n=!1},d(o){o&&I(e),s.block.d(),s.token=null,s=null}}}function Ah(t,e,r){let{source:n}=e,{rootAttrs:s}=e,a=s.well.images.map(c=>c.path);const i=Vr(s)||rr;let l=fn(i,"image");return t.$$set=c=>{"source"in c&&r(0,n=c.source),"rootAttrs"in c&&r(3,s=c.rootAttrs)},[n,a,l,s]}class jh extends qe{constructor(e){super(),Ue(this,e,Ah,Th,Le,{source:0,rootAttrs:3})}}function qo(t,e,r){const n=t.slice();return n[10]=e[r],n}function Rh(t){let e,r,n;return{c(){e=q("No version found. Using "),r=q(rr),n=R("br")},m(s,o){D(s,e,o),D(s,r,o),D(s,n,o)},p:K,d(s){s&&I(e),s&&I(r),s&&I(n)}}}function Ih(t){let e,r,n,s=t[10].message+"",o,a;return e=new yn({props:{valid:!1}}),{c(){_e(e.$$.fragment),r=X(),n=R("p"),o=q(s),Ce(n,"color","red")},m(i,l){me(e,i,l),D(i,r,l),D(i,n,l),C(n,o),a=!0},p:K,i(i){a||(B(e.$$.fragment,i),a=!0)},o(i){H(e.$$.fragment,i),a=!1},d(i){pe(e,i),i&&I(r),i&&I(n)}}}function Dh(t){let e,r,n,s;e=new yn({props:{valid:t[9].length==0}});let o=t[9].length>0&&Mh(t);return{c(){_e(e.$$.fragment),r=X(),o&&o.c(),n=je()},m(a,i){me(e,a,i),D(a,r,i),o&&o.m(a,i),D(a,n,i),s=!0},p(a,i){a[9].length>0&&o.p(a,i)},i(a){s||(B(e.$$.fragment,a),s=!0)},o(a){H(e.$$.fragment,a),s=!1},d(a){pe(e,a),a&&I(r),o&&o.d(a),a&&I(n)}}}function Mh(t){let e,r,n=t[9],s=[];for(let o=0;o<n.length;o+=1)s[o]=Bo(qo(t,n,o));return{c(){e=R("div"),r=q(`Errors:
        `);for(let o=0;o<s.length;o+=1)s[o].c();N(e,"class","error svelte-171bh4v")},m(o,a){D(o,e,a),C(e,r);for(let i=0;i<s.length;i+=1)s[i].m(e,null)},p(o,a){if(a&64){n=o[9];let i;for(i=0;i<n.length;i+=1){const l=qo(o,n,i);s[i]?s[i].p(l,a):(s[i]=Bo(l),s[i].c(),s[i].m(e,null))}for(;i<s.length;i+=1)s[i].d(1);s.length=n.length}},d(o){o&&I(e),dt(s,o)}}}function Bo(t){let e,r,n=JSON.stringify(t[10],null,2)+"",s;return{c(){e=R("pre"),r=R("code"),s=q(n),N(e,"class","svelte-171bh4v")},m(o,a){D(o,e,a),C(e,r),C(r,s)},p:K,d(o){o&&I(e)}}}function zh(t){let e;return{c(){e=R("div"),e.textContent="loading schema..."},m(r,n){D(r,e,n)},p:K,i:K,o:K,d(r){r&&I(e)}}}function Vh(t){let e,r;return e=new jh({props:{source:t[0],rootAttrs:t[1]}}),{c(){_e(e.$$.fragment)},m(n,s){me(e,n,s),r=!0},p(n,s){const o={};s&1&&(o.source=n[0]),s&2&&(o.rootAttrs=n[1]),e.$set(o)},i(n){r||(B(e.$$.fragment,n),r=!0)},o(n){H(e.$$.fragment,n),r=!1},d(n){pe(e,n)}}}function Fh(t){let e,r;return e=new Ph({props:{source:t[0],rootAttrs:t[1]}}),{c(){_e(e.$$.fragment)},m(n,s){me(e,n,s),r=!0},p(n,s){const o={};s&1&&(o.source=n[0]),s&2&&(o.rootAttrs=n[1]),e.$set(o)},i(n){r||(B(e.$$.fragment,n),r=!0)},o(n){H(e.$$.fragment,n),r=!1},d(n){pe(e,n)}}}function Lh(t){let e,r;return e=new eh({props:{source:t[0],rootAttrs:t[1]}}),{c(){_e(e.$$.fragment)},m(n,s){me(e,n,s),r=!0},p(n,s){const o={};s&1&&(o.source=n[0]),s&2&&(o.rootAttrs=n[1]),e.$set(o)},i(n){r||(B(e.$$.fragment,n),r=!0)},o(n){H(e.$$.fragment,n),r=!1},d(n){pe(e,n)}}}function Uh(t){let e,r,n,s,o,a,i,l,c,u,f,m,b,v,g,_,d,$,P,S,A,y,O,L,Z=!t[2]&&Rh(),Y={ctx:t,current:null,token:null,hasCatch:!0,pending:zh,then:Dh,catch:Ih,value:9,error:10,blocks:[,,,]};ot(t[6],Y),P=new vn({props:{name:"",version:t[2]||rr,contents:t[1],expanded:!0}});const ue=[Lh,Fh,Vh],te=[];function ye(re,he){return re[1].multiscales?0:re[1].plate?1:re[1].well?2:-1}return~(A=ye(t))&&(y=te[A]=ue[A](t)),{c(){e=R("article"),r=R("a"),n=R("img"),a=X(),i=R("p"),l=q("Validating: "),c=R("a"),u=q(t[7]),f=q("/.zattrs"),m=X(),Z&&Z.c(),b=q(`

  Using schema: `),v=R("a"),g=q(t[5]),_=X(),Y.block.c(),d=X(),$=R("div"),_e(P.$$.fragment),S=X(),y&&y.c(),O=je(),Xo(n.src,s=Ka)||N(n,"src",s),N(n,"class","svelte-171bh4v"),N(r,"title","View "+t[3]+" in vizarr"),N(r,"class","vizarr_link svelte-171bh4v"),N(r,"target","_blank"),N(r,"href",o="https://hms-dbmi.github.io/vizarr/?source="+t[0]),N(c,"href",t[0]),N(c,"class","svelte-171bh4v"),N(i,"class","margin_right svelte-171bh4v"),N(v,"href",t[4]),N(v,"target","_blank"),N(v,"class","svelte-171bh4v"),N($,"class","json svelte-171bh4v")},m(re,he){D(re,e,he),C(e,r),C(r,n),C(e,a),C(e,i),C(i,l),C(i,c),C(c,u),C(c,f),C(e,m),Z&&Z.m(e,null),C(e,b),C(e,v),C(v,g),C(e,_),Y.block.m(e,Y.anchor=null),Y.mount=()=>e,Y.anchor=d,C(e,d),C(e,$),me(P,$,null),D(re,S,he),~A&&te[A].m(re,he),D(re,O,he),L=!0},p(re,[he]){t=re,(!L||he&1&&o!==(o="https://hms-dbmi.github.io/vizarr/?source="+t[0]))&&N(r,"href",o),(!L||he&1)&&N(c,"href",t[0]),t[2]||Z.p(t,he),ht(Y,t,he);const Be={};he&2&&(Be.contents=t[1]),P.$set(Be);let Ge=A;A=ye(t),A===Ge?~A&&te[A].p(t,he):(y&&(Te(),H(te[Ge],1,1,()=>{te[Ge]=null}),Ae()),~A?(y=te[A],y?y.p(t,he):(y=te[A]=ue[A](t),y.c()),B(y,1),y.m(O.parentNode,O)):y=null)},i(re){L||(B(Y.block),B(P.$$.fragment,re),B(y),L=!0)},o(re){for(let he=0;he<3;he+=1){const Be=Y.blocks[he];H(Be)}H(P.$$.fragment,re),H(y),L=!1},d(re){re&&I(e),Z&&Z.d(),Y.block.d(),Y.token=null,Y=null,pe(P),re&&I(S),~A&&te[A].d(re),re&&I(O)}}}function qh(t,e,r){let{source:n}=e,{rootAttrs:s}=e;const o=Vr(s),a=Fa(s),i=Rf(s),l=i.split("main")[1],c=Ir(s),u=n.split("/").filter(Boolean),f=u[u.length-1];return t.$$set=m=>{"source"in m&&r(0,n=m.source),"rootAttrs"in m&&r(1,s=m.rootAttrs)},[n,s,o,a,i,l,c,f]}class Bh extends qe{constructor(e){super(),Ue(this,e,qh,Uh,Le,{source:0,rootAttrs:1})}}function Kh(t){let e,r,n,s;return{c(){e=R("h1"),r=q(t[1]),n=q(": "),s=q(t[0]),N(e,"class","svelte-v2a59y")},m(o,a){D(o,e,a),C(e,r),C(e,n),C(e,s)},p(o,[a]){a&1&&Ke(s,o[0])},i:K,o:K,d(o){o&&I(e)}}}function Wh(t,e,r){let{zattrs:n}=e,{source:s}=e;const o=s.split("/").filter(Boolean);let a=o[o.length-1],i=Fa(n);return"well"in n&&(a=o[o.length-2]+"/"+o[o.length-1]),t.$$set=l=>{"zattrs"in l&&r(2,n=l.zattrs),"source"in l&&r(3,s=l.source)},[a,i,n,s]}class Hh extends qe{constructor(e){super(),Ue(this,e,Wh,Kh,Le,{zattrs:2,source:3})}}const{window:Gh}=ra;function Ko(t){let e,r,n,s,o,a,i,l,c,u,f,m,b,v,g,_,d,$=t[1].closeButton&&Wo(t);var P=t[2];function S(A){return{}}return P&&(a=new P(S())),{c(){e=R("div"),r=R("div"),n=R("div"),$&&$.c(),s=X(),o=R("div"),a&&_e(a.$$.fragment),N(o,"class",i=yt(t[1].classContent)+" svelte-g4wg3a"),N(o,"style",t[9]),St(o,"content",!t[0]),N(n,"class",l=yt(t[1].classWindow)+" svelte-g4wg3a"),N(n,"role","dialog"),N(n,"aria-modal","true"),N(n,"aria-label",c=t[1].ariaLabelledBy?null:t[1].ariaLabel||null),N(n,"aria-labelledby",u=t[1].ariaLabelledBy||null),N(n,"style",t[8]),St(n,"window",!t[0]),N(r,"class",m=yt(t[1].classWindowWrap)+" svelte-g4wg3a"),N(r,"style",t[7]),St(r,"wrap",!t[0]),N(e,"class",b=yt(t[1].classBg)+" svelte-g4wg3a"),N(e,"style",t[6]),St(e,"bg",!t[0])},m(A,y){D(A,e,y),C(e,r),C(r,n),$&&$.m(n,null),C(n,s),C(n,o),a&&me(a,o,null),t[49](n),t[50](r),t[51](e),g=!0,_||(d=[nt(n,"introstart",function(){ur(t[13])&&t[13].apply(this,arguments)}),nt(n,"outrostart",function(){ur(t[14])&&t[14].apply(this,arguments)}),nt(n,"introend",function(){ur(t[15])&&t[15].apply(this,arguments)}),nt(n,"outroend",function(){ur(t[16])&&t[16].apply(this,arguments)}),nt(e,"mousedown",t[20]),nt(e,"mouseup",t[21])],_=!0)},p(A,y){if(t=A,t[1].closeButton?$?($.p(t,y),y[0]&2&&B($,1)):($=Wo(t),$.c(),B($,1),$.m(n,s)):$&&(Te(),H($,1,1,()=>{$=null}),Ae()),P!==(P=t[2])){if(a){Te();const O=a;H(O.$$.fragment,1,0,()=>{pe(O,1)}),Ae()}P?(a=new P(S()),_e(a.$$.fragment),B(a.$$.fragment,1),me(a,o,null)):a=null}(!g||y[0]&2&&i!==(i=yt(t[1].classContent)+" svelte-g4wg3a"))&&N(o,"class",i),(!g||y[0]&512)&&N(o,"style",t[9]),y[0]&3&&St(o,"content",!t[0]),(!g||y[0]&2&&l!==(l=yt(t[1].classWindow)+" svelte-g4wg3a"))&&N(n,"class",l),(!g||y[0]&2&&c!==(c=t[1].ariaLabelledBy?null:t[1].ariaLabel||null))&&N(n,"aria-label",c),(!g||y[0]&2&&u!==(u=t[1].ariaLabelledBy||null))&&N(n,"aria-labelledby",u),(!g||y[0]&256)&&N(n,"style",t[8]),y[0]&3&&St(n,"window",!t[0]),(!g||y[0]&2&&m!==(m=yt(t[1].classWindowWrap)+" svelte-g4wg3a"))&&N(r,"class",m),(!g||y[0]&128)&&N(r,"style",t[7]),y[0]&3&&St(r,"wrap",!t[0]),(!g||y[0]&2&&b!==(b=yt(t[1].classBg)+" svelte-g4wg3a"))&&N(e,"class",b),(!g||y[0]&64)&&N(e,"style",t[6]),y[0]&3&&St(e,"bg",!t[0])},i(A){g||(B($),a&&B(a.$$.fragment,A),xt(()=>{f||(f=fr(n,t[12],t[1].transitionWindowProps,!0)),f.run(1)}),xt(()=>{v||(v=fr(e,t[11],t[1].transitionBgProps,!0)),v.run(1)}),g=!0)},o(A){H($),a&&H(a.$$.fragment,A),f||(f=fr(n,t[12],t[1].transitionWindowProps,!1)),f.run(0),v||(v=fr(e,t[11],t[1].transitionBgProps,!1)),v.run(0),g=!1},d(A){A&&I(e),$&&$.d(),a&&pe(a),t[49](null),A&&f&&f.end(),t[50](null),t[51](null),A&&v&&v.end(),_=!1,nr(d)}}}function Wo(t){let e,r,n,s,o;const a=[Xh,Jh],i=[];function l(c,u){return u[0]&2&&(e=null),e==null&&(e=!!c[17](c[1].closeButton)),e?0:1}return r=l(t,[-1,-1,-1]),n=i[r]=a[r](t),{c(){n.c(),s=je()},m(c,u){i[r].m(c,u),D(c,s,u),o=!0},p(c,u){let f=r;r=l(c,u),r===f?i[r].p(c,u):(Te(),H(i[f],1,1,()=>{i[f]=null}),Ae(),n=i[r],n?n.p(c,u):(n=i[r]=a[r](c),n.c()),B(n,1),n.m(s.parentNode,s))},i(c){o||(B(n),o=!0)},o(c){H(n),o=!1},d(c){i[r].d(c),c&&I(s)}}}function Jh(t){let e,r,n,s;return{c(){e=R("button"),N(e,"class",r=yt(t[1].classCloseButton)+" svelte-g4wg3a"),N(e,"aria-label","Close modal"),N(e,"style",t[10]),N(e,"type","button"),St(e,"close",!t[0])},m(o,a){D(o,e,a),n||(s=nt(e,"click",t[18]),n=!0)},p(o,a){a[0]&2&&r!==(r=yt(o[1].classCloseButton)+" svelte-g4wg3a")&&N(e,"class",r),a[0]&1024&&N(e,"style",o[10]),a[0]&3&&St(e,"close",!o[0])},i:K,o:K,d(o){o&&I(e),n=!1,s()}}}function Xh(t){let e,r,n;var s=t[1].closeButton;function o(a){return{props:{onClose:a[18]}}}return s&&(e=new s(o(t))),{c(){e&&_e(e.$$.fragment),r=je()},m(a,i){e&&me(e,a,i),D(a,r,i),n=!0},p(a,i){if(s!==(s=a[1].closeButton)){if(e){Te();const l=e;H(l.$$.fragment,1,0,()=>{pe(l,1)}),Ae()}s?(e=new s(o(a)),_e(e.$$.fragment),B(e.$$.fragment,1),me(e,r.parentNode,r)):e=null}},i(a){n||(e&&B(e.$$.fragment,a),n=!0)},o(a){e&&H(e.$$.fragment,a),n=!1},d(a){a&&I(r),e&&pe(e,a)}}}function Yh(t){let e,r,n,s,o=t[2]&&Ko(t);const a=t[48].default,i=ai(a,t,t[47],null);return{c(){o&&o.c(),e=X(),i&&i.c()},m(l,c){o&&o.m(l,c),D(l,e,c),i&&i.m(l,c),r=!0,n||(s=nt(Gh,"keydown",t[19]),n=!0)},p(l,c){l[2]?o?(o.p(l,c),c[0]&4&&B(o,1)):(o=Ko(l),o.c(),B(o,1),o.m(e.parentNode,e)):o&&(Te(),H(o,1,1,()=>{o=null}),Ae()),i&&i.p&&(!r||c[1]&65536)&&li(i,a,l,l[47],r?ii(a,l[47],c,null):ci(l[47]),null)},i(l){r||(B(o),B(i,l),r=!0)},o(l){H(o),H(i,l),r=!1},d(l){o&&o.d(l),l&&I(e),i&&i.d(l),n=!1,s()}}}function Zh(t,e={}){return function(n){return new t(jt(Oe({},n),{props:Oe(Oe({},e),n.props)}))}}function Qh(t,e,r){let{$$slots:n={},$$scope:s}=e;const o=ta(),a=ki,i=U=>U.tabIndex>=0&&!U.hidden&&!U.disabled&&U.style.display!=="none"&&U.type!=="hidden"&&Boolean(U.offsetWidth||U.offsetHeight||U.getClientRects().length);let{isTabbable:l=i}=e,{show:c=null}=e,{key:u="simple-modal"}=e,{ariaLabel:f=null}=e,{ariaLabelledBy:m=null}=e,{closeButton:b=!0}=e,{closeOnEsc:v=!0}=e,{closeOnOuterClick:g=!0}=e,{styleBg:_={}}=e,{styleWindowWrap:d={}}=e,{styleWindow:$={}}=e,{styleContent:P={}}=e,{styleCloseButton:S={}}=e,{classBg:A=null}=e,{classWindowWrap:y=null}=e,{classWindow:O=null}=e,{classContent:L=null}=e,{classCloseButton:Z=null}=e,{unstyled:Y=!1}=e,{setContext:ue=a}=e,{transitionBg:te=Lf}=e,{transitionBgProps:ye={duration:250}}=e,{transitionWindow:re=te}=e,{transitionWindowProps:he=ye}=e,{disableFocusTrap:Be=!1}=e;const Ge={ariaLabel:f,ariaLabelledBy:m,closeButton:b,closeOnEsc:v,closeOnOuterClick:g,styleBg:_,styleWindowWrap:d,styleWindow:$,styleContent:P,styleCloseButton:S,classBg:A,classWindowWrap:y,classWindow:O,classContent:L,classCloseButton:Z,transitionBg:te,transitionBgProps:ye,transitionWindow:re,transitionWindowProps:he,disableFocusTrap:Be,isTabbable:l,unstyled:Y};let be=Oe({},Ge),xe=null,W,T,F,j,h,k,V,G,J,ae,oe,ge,Me,at,Je;const lt=U=>U.replace(/([a-zA-Z])(?=[A-Z])/g,"$1-").toLowerCase(),Ne=U=>U?Object.keys(U).reduce((zt,Ve)=>`${zt}; ${lt(Ve)}: ${U[Ve]}`,""):"",mt=U=>!!(U&&U.constructor&&U.call&&U.apply),pt=()=>{r(6,h=Ne(Object.assign({},{width:window.innerWidth,height:window.innerHeight},be.styleBg))),r(7,k=Ne(be.styleWindowWrap)),r(8,V=Ne(be.styleWindow)),r(9,G=Ne(be.styleContent)),r(10,J=Ne(be.styleCloseButton)),r(11,ae=be.transitionBg),r(12,oe=be.transitionWindow)},Xe=()=>{};let it=Xe,ct=Xe,Ye=Xe,we=Xe;const ve=(U,zt={},Ve={},Ze={})=>{r(2,xe=Zh(U,zt)),r(1,be=Oe(Oe({},Ge),Ve)),pt(),tt(),r(13,it=_t=>{Ze.onOpen&&Ze.onOpen(_t),o("open"),o("opening")}),r(14,ct=_t=>{Ze.onClose&&Ze.onClose(_t),o("close"),o("closing")}),r(15,Ye=_t=>{Ze.onOpened&&Ze.onOpened(_t),o("opened")}),r(16,we=_t=>{Ze.onClosed&&Ze.onClosed(_t),o("closed")})},ze=(U={})=>{!xe||(r(14,ct=U.onClose||ct),r(16,we=U.onClosed||we),r(2,xe=null),Tt())},Ot=U=>{if(be.closeOnEsc&&xe&&U.key==="Escape"&&(U.preventDefault(),ze()),xe&&U.key==="Tab"&&!be.disableFocusTrap){const zt=F.querySelectorAll("*"),Ve=Array.from(zt).filter(be.isTabbable).sort((_t,bn)=>_t.tabIndex-bn.tabIndex);let Ze=Ve.indexOf(document.activeElement);Ze===-1&&U.shiftKey&&(Ze=0),Ze+=Ve.length+(U.shiftKey?-1:1),Ze%=Ve.length,Ve[Ze].focus(),U.preventDefault()}},Kt=U=>{be.closeOnOuterClick&&(U.target===W||U.target===T)&&(Je=U.target)},sr=U=>{be.closeOnOuterClick&&U.target===Je&&(U.preventDefault(),ze())},tt=()=>{j=window.scrollY,ge=document.body.style.position,Me=document.body.style.overflow,at=document.body.style.width,document.body.style.position="fixed",document.body.style.top=`-${j}px`,document.body.style.overflow="hidden",document.body.style.width="100%"},Tt=()=>{document.body.style.position=ge||"",document.body.style.top="",document.body.style.overflow=Me||"",document.body.style.width=at||"",window.scrollTo(0,j)};ue(u,{open:ve,close:ze});let Wt=!1;wi(()=>{Wt&&ze()}),$i(()=>{r(46,Wt=!0)});function Fr(U){hr[U?"unshift":"push"](()=>{F=U,r(5,F)})}function Ht(U){hr[U?"unshift":"push"](()=>{T=U,r(4,T)})}function Lr(U){hr[U?"unshift":"push"](()=>{W=U,r(3,W)})}return t.$$set=U=>{"isTabbable"in U&&r(22,l=U.isTabbable),"show"in U&&r(23,c=U.show),"key"in U&&r(24,u=U.key),"ariaLabel"in U&&r(25,f=U.ariaLabel),"ariaLabelledBy"in U&&r(26,m=U.ariaLabelledBy),"closeButton"in U&&r(27,b=U.closeButton),"closeOnEsc"in U&&r(28,v=U.closeOnEsc),"closeOnOuterClick"in U&&r(29,g=U.closeOnOuterClick),"styleBg"in U&&r(30,_=U.styleBg),"styleWindowWrap"in U&&r(31,d=U.styleWindowWrap),"styleWindow"in U&&r(32,$=U.styleWindow),"styleContent"in U&&r(33,P=U.styleContent),"styleCloseButton"in U&&r(34,S=U.styleCloseButton),"classBg"in U&&r(35,A=U.classBg),"classWindowWrap"in U&&r(36,y=U.classWindowWrap),"classWindow"in U&&r(37,O=U.classWindow),"classContent"in U&&r(38,L=U.classContent),"classCloseButton"in U&&r(39,Z=U.classCloseButton),"unstyled"in U&&r(0,Y=U.unstyled),"setContext"in U&&r(40,ue=U.setContext),"transitionBg"in U&&r(41,te=U.transitionBg),"transitionBgProps"in U&&r(42,ye=U.transitionBgProps),"transitionWindow"in U&&r(43,re=U.transitionWindow),"transitionWindowProps"in U&&r(44,he=U.transitionWindowProps),"disableFocusTrap"in U&&r(45,Be=U.disableFocusTrap),"$$scope"in U&&r(47,s=U.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&8388608|t.$$.dirty[1]&32768&&Wt&&(mt(c)?ve(c):ze())},[Y,be,xe,W,T,F,h,k,V,G,J,ae,oe,it,ct,Ye,we,mt,ze,Ot,Kt,sr,l,c,u,f,m,b,v,g,_,d,$,P,S,A,y,O,L,Z,ue,te,ye,re,he,Be,Wt,s,n,Fr,Ht,Lr]}class xh extends qe{constructor(e){super(),Ue(this,e,Qh,Yh,Le,{isTabbable:22,show:23,key:24,ariaLabel:25,ariaLabelledBy:26,closeButton:27,closeOnEsc:28,closeOnOuterClick:29,styleBg:30,styleWindowWrap:31,styleWindow:32,styleContent:33,styleCloseButton:34,classBg:35,classWindowWrap:36,classWindow:37,classContent:38,classCloseButton:39,unstyled:0,setContext:40,transitionBg:41,transitionBgProps:42,transitionWindow:43,transitionWindowProps:44,disableFocusTrap:45},null,[-1,-1,-1])}}function em(t){let e,r,n,s;return{c(){e=R("article"),r=q(`To validate an OME-ZARR file, use e.g.
          `),n=R("a"),s=q("?source=https://uk1s3.embassy.ebi.ac.uk/idr/zarr/v0.3/9836842.zarr"),N(n,"href",t[2]+"?source=https://uk1s3.embassy.ebi.ac.uk/idr/zarr/v0.3/9836842.zarr"),N(n,"class","svelte-3yq7nn"),N(e,"class","svelte-3yq7nn")},m(o,a){D(o,e,a),C(e,r),C(e,n),C(n,s)},p:K,i:K,o:K,d(o){o&&I(e)}}}function tm(t){let e,r,n,s={ctx:t,current:null,token:null,hasCatch:!0,pending:am,then:nm,catch:rm,value:4,error:5,blocks:[,,,]};return ot(r=t[1],s),{c(){e=je(),s.block.c()},m(o,a){D(o,e,a),s.block.m(o,s.anchor=a),s.mount=()=>e.parentNode,s.anchor=e,n=!0},p(o,a){t=o,s.ctx=t,a&2&&r!==(r=t[1])&&ot(r,s)||ht(s,t,a)},i(o){n||(B(s.block),n=!0)},o(o){for(let a=0;a<3;a+=1){const i=s.blocks[a];H(i)}n=!1},d(o){o&&I(e),s.block.d(o),s.token=null,s=null}}}function rm(t){let e,r,n,s=t[5].message+"",o,a;return e=new yn({props:{valid:!1}}),{c(){_e(e.$$.fragment),r=X(),n=R("p"),o=q(s),Ce(n,"color","red"),Ce(n,"margin","20px 0")},m(i,l){me(e,i,l),D(i,r,l),D(i,n,l),C(n,o),a=!0},p(i,l){(!a||l&2)&&s!==(s=i[5].message+"")&&Ke(o,s)},i(i){a||(B(e.$$.fragment,i),a=!0)},o(i){H(e.$$.fragment,i),a=!1},d(i){pe(e,i),i&&I(r),i&&I(n)}}}function nm(t){let e,r,n,s,o,a;e=new Hh({props:{source:t[0],zattrs:t[4]}});const i=[om,sm],l=[];function c(u,f){return u[4]["bioformats2raw.layout"]===3&&!u[4].plate?0:1}return s=c(t),o=l[s]=i[s](t),{c(){_e(e.$$.fragment),r=X(),n=R("div"),o.c(),N(n,"class","svelte-3yq7nn")},m(u,f){me(e,u,f),D(u,r,f),D(u,n,f),l[s].m(n,null),a=!0},p(u,f){const m={};f&1&&(m.source=u[0]),f&2&&(m.zattrs=u[4]),e.$set(m);let b=s;s=c(u),s===b?l[s].p(u,f):(Te(),H(l[b],1,1,()=>{l[b]=null}),Ae(),o=l[s],o?o.p(u,f):(o=l[s]=i[s](u),o.c()),B(o,1),o.m(n,null))},i(u){a||(B(e.$$.fragment,u),B(o),a=!0)},o(u){H(e.$$.fragment,u),H(o),a=!1},d(u){pe(e,u),u&&I(r),u&&I(n),l[s].d()}}}function sm(t){let e,r;return e=new Bh({props:{rootAttrs:t[4],source:t[0]}}),{c(){_e(e.$$.fragment)},m(n,s){me(e,n,s),r=!0},p(n,s){const o={};s&2&&(o.rootAttrs=n[4]),s&1&&(o.source=n[0]),e.$set(o)},i(n){r||(B(e.$$.fragment,n),r=!0)},o(n){H(e.$$.fragment,n),r=!1},d(n){pe(e,n)}}}function om(t){let e,r;return e=new Td({props:{rootAttrs:t[4],source:t[0]}}),{c(){_e(e.$$.fragment)},m(n,s){me(e,n,s),r=!0},p(n,s){const o={};s&2&&(o.rootAttrs=n[4]),s&1&&(o.source=n[0]),e.$set(o)},i(n){r||(B(e.$$.fragment,n),r=!0)},o(n){H(e.$$.fragment,n),r=!1},d(n){pe(e,n)}}}function am(t){let e;return{c(){e=R("div"),e.textContent="loading...",N(e,"class","svelte-3yq7nn")},m(r,n){D(r,e,n)},p:K,i:K,o:K,d(r){r&&I(e)}}}function im(t){let e,r,n,s,o,a,i,l;n=new zi({});const c=[tm,em],u=[];function f(m,b){return m[0]?0:1}return a=f(t),i=u[a]=c[a](t),{c(){e=R("main"),r=R("nav"),_e(n.$$.fragment),s=X(),o=R("section"),i.c(),N(r,"class","svelte-3yq7nn"),N(o,"class","svelte-3yq7nn"),N(e,"class","svelte-3yq7nn")},m(m,b){D(m,e,b),C(e,r),me(n,r,null),C(e,s),C(e,o),u[a].m(o,null),l=!0},p(m,b){let v=a;a=f(m),a===v?u[a].p(m,b):(Te(),H(u[v],1,1,()=>{u[v]=null}),Ae(),i=u[a],i?i.p(m,b):(i=u[a]=c[a](m),i.c()),B(i,1),i.m(o,null))},i(m){l||(B(n.$$.fragment,m),B(i),l=!0)},o(m){H(n.$$.fragment,m),H(i),l=!1},d(m){m&&I(e),pe(n),u[a].d()}}}function lm(t){let e,r;return e=new xh({props:{$$slots:{default:[im]},$$scope:{ctx:t}}}),{c(){_e(e.$$.fragment)},m(n,s){me(e,n,s),r=!0},p(n,[s]){const o={};s&67&&(o.$$scope={dirty:s,ctx:n}),e.$set(o)},i(n){r||(B(e.$$.fragment,n),r=!0)},o(n){H(e.$$.fragment,n),r=!1},d(n){pe(e,n)}}}function cm(t,e,r){let s=new URLSearchParams(window.location.search).get("source");s&&!s.endsWith("/")&&(s=s+"/");let o=window.location.href,a;return s&&(console.log("Loading JSON... "+s+".zattrs"),a=Bt(s+".zattrs")),[s,a,o]}class um extends qe{constructor(e){super(),Ue(this,e,cm,lm,Le,{})}}new um({target:document.getElementById("app")});
